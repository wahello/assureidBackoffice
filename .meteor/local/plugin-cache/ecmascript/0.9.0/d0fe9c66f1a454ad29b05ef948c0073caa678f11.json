{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"react","imported":["default","Component"],"specifiers":[{"kind":"named","imported":"default","local":"React"},{"kind":"named","imported":"Component","local":"Component"}]},{"source":"react-dom","imported":["render"],"specifiers":[{"kind":"named","imported":"render","local":"render"}]},{"source":"meteor/ultimatejs:tracker-react","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"TrackerReact"}]},{"source":"react-router","imported":["browserHistory"],"specifiers":[{"kind":"named","imported":"browserHistory","local":"browserHistory"}]},{"source":"react-router","imported":["Link"],"specifiers":[{"kind":"named","imported":"Link","local":"Link"}]},{"source":"meteor/react-meteor-data","imported":["withTracker"],"specifiers":[{"kind":"named","imported":"withTracker","local":"withTracker"}]},{"source":"./api/Invoice.js","imported":["Invoice"],"specifiers":[{"kind":"named","imported":"Invoice","local":"Invoice"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"imports/website/ServiceProcess/ServiceInvoice.jsx","filenameRelative":"imports/website/ServiceProcess/ServiceInvoice.jsx","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"useNativeAsyncAwait":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/website/ServiceProcess/ServiceInvoice.jsx.map","sourceFileName":"imports/website/ServiceProcess/ServiceInvoice.jsx","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"ServiceInvoice"},"ignored":false,"code":"let React, Component;\nmodule.watch(require(\"react\"), {\n  default(v) {\n    React = v;\n  },\n\n  Component(v) {\n    Component = v;\n  }\n\n}, 0);\nlet render;\nmodule.watch(require(\"react-dom\"), {\n  render(v) {\n    render = v;\n  }\n\n}, 1);\nlet TrackerReact;\nmodule.watch(require(\"meteor/ultimatejs:tracker-react\"), {\n  default(v) {\n    TrackerReact = v;\n  }\n\n}, 2);\nlet browserHistory;\nmodule.watch(require(\"react-router\"), {\n  browserHistory(v) {\n    browserHistory = v;\n  }\n\n}, 3);\nlet Link;\nmodule.watch(require(\"react-router\"), {\n  Link(v) {\n    Link = v;\n  }\n\n}, 4);\nlet withTracker;\nmodule.watch(require(\"meteor/react-meteor-data\"), {\n  withTracker(v) {\n    withTracker = v;\n  }\n\n}, 5);\nlet Invoice;\nmodule.watch(require(\"./api/Invoice.js\"), {\n  Invoice(v) {\n    Invoice = v;\n  }\n\n}, 6);\n\nclass ServiceInvoice extends TrackerReact(Component) {\n  constructor() {\n    super();\n    this.state = {\n      invoiceNo: '',\n      serviceId: '',\n      serviceName: '',\n      serviceRate: '',\n      serviceDuration: '',\n      userName: '',\n      userId: '',\n      companyName: '',\n      companyAddress: '',\n      companyCity: '',\n      companyState: '',\n      companyCountry: '',\n      companyPincode: '',\n      id: '',\n      date: '',\n      invoice: [],\n      tax: [],\n      \"subscription\": {\n        \"singleInvoice\": Meteor.subscribe(\"singleInvoice\")\n      }\n    };\n  }\n\n  componentWillMount() {}\n\n  componentWillUnmount() {}\n\n  componentDidMount() {}\n\n  confirm(event) {\n    event.preventDefault(); // var path = \"/PaymentGateway\";\n    // browserHistory.replace(path);\n\n    var invoiceDate = this.props.invoice.createdAt;\n    var invoiceNo = this.props.invoice.invoiceNo;\n    var serviceId = this.props.invoice.serviceId;\n    var serviceName = this.props.invoice.serviceName;\n    var serviceRate = this.props.invoice.serviceRate;\n    var serviceDuration = this.props.invoice.serviceDuration;\n    var userId = this.props.invoice.userId;\n    var userName = this.props.invoice.userName;\n    var totalAmount = this.refs.totalAmount.value;\n    Meteor.call(\"insertTempPayment\", invoiceDate, invoiceNo, serviceId, serviceName, serviceRate, serviceDuration, userId, userName, totalAmount, function (error, result) {\n      if (error) {\n        console.log(\"error\", error.reason);\n      } else {\n        swal(\"Done\");\n        var path = \"/PaymentGateway/\" + result;\n        browserHistory.replace(path);\n      }\n    });\n  }\n\n  totalAmount() {\n    var totalTax = 0;\n    var rate = parseFloat(this.props.invoice.serviceRate);\n    var tax = this.props.invoice.tax;\n\n    for (var i = 0; i < tax.length; i++) {\n      totalTax += parseFloat(tax[i].applicableTax);\n    }\n\n    var totalAmount = rate + totalTax;\n    return totalAmount;\n  }\n\n  taxes() {\n    return this.props.invoice.tax.map((tax, index) => {\n      return React.createElement(\n        \"div\",\n        {\n          className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 invoiceValue\",\n          key: index\n        },\n        React.createElement(\n          \"span\",\n          {\n            className: \"pull-left\"\n          },\n          tax.taxType\n        ),\n        React.createElement(\n          \"span\",\n          {\n            className: \"pull-right\"\n          },\n          React.createElement(\"i\", {\n            className: \"fa fa-rupee\"\n          }),\n          \" \",\n          tax.applicableTax\n        )\n      );\n    });\n  }\n\n  render() {\n    if (!this.props.loading) {\n      if (this.props.invoice) {\n        return React.createElement(\n          \"div\",\n          {\n            className: \"outerServiceBlock col-lg-12 col-md-12 col-sm-12 col-xs-1\"\n          },\n          React.createElement(\n            \"div\",\n            {\n              className: \"servieInnerBlock col-lg-12 col-md-12 col-sm-12 col-xs-12\"\n            },\n            React.createElement(\n              \"div\",\n              {\n                className: \"col-lg-10 col-lg-offset-1 col-md-10 col-md-offset-1 col-sm-12 col-xs-12\"\n              },\n              React.createElement(\n                \"h1\",\n                {\n                  className: \"text-center\"\n                },\n                \"Invoice\"\n              ),\n              React.createElement(\n                \"div\",\n                {\n                  className: \"manageRowAds\"\n                },\n                React.createElement(\n                  \"div\",\n                  {\n                    className: \"row\"\n                  },\n                  React.createElement(\n                    \"div\",\n                    {\n                      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 invoiceCompanyName\"\n                    },\n                    React.createElement(\n                      \"h3\",\n                      null,\n                      this.props.invoice.companyName\n                    ),\n                    React.createElement(\"hr\", {\n                      className: \"horizontalLine\"\n                    })\n                  ),\n                  React.createElement(\n                    \"div\",\n                    {\n                      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\"\n                    },\n                    React.createElement(\n                      \"div\",\n                      {\n                        className: \"pull-right bannerInvDate\"\n                      },\n                      React.createElement(\n                        \"div\",\n                        {\n                          className: \"bannerTextFont\"\n                        },\n                        \"Date: \",\n                        React.createElement(\n                          \"span\",\n                          {\n                            className: \"bannerSpanTextFont\"\n                          },\n                          moment(this.props.invoice.createdAt).format(\"DD/MM/YYYY\")\n                        )\n                      ),\n                      React.createElement(\n                        \"div\",\n                        {\n                          className: \"bannerTextFont\"\n                        },\n                        \"Invoice Number: \",\n                        React.createElement(\n                          \"span\",\n                          {\n                            className: \"bannerSpanTextFont\"\n                          },\n                          this.props.invoice.invoiceNo\n                        )\n                      )\n                    )\n                  ),\n                  React.createElement(\n                    \"div\",\n                    {\n                      className: \"col-lg-6 col-md-6 col-sm-6 col-xs-6 bannerDataTextFont\"\n                    },\n                    React.createElement(\n                      \"div\",\n                      {\n                        className: \"bannerTextFont\"\n                      },\n                      \"From,\"\n                    ),\n                    React.createElement(\n                      \"div\",\n                      {\n                        className: \"bannerTextFont\"\n                      },\n                      this.props.invoice.userName\n                    )\n                  ),\n                  React.createElement(\n                    \"div\",\n                    {\n                      className: \"col-lg-6 col-md-6 col-sm-6 col-xs-6 bannerDataTextFont\"\n                    },\n                    React.createElement(\n                      \"div\",\n                      {\n                        className: \"bannerTextFont\"\n                      },\n                      \"To,\"\n                    ),\n                    React.createElement(\n                      \"div\",\n                      {\n                        className: \"bannerTextFont\"\n                      },\n                      this.props.invoice.companyName\n                    ),\n                    React.createElement(\n                      \"div\",\n                      null,\n                      this.props.invoice.companyAddress,\n                      \" ,\"\n                    ),\n                    React.createElement(\n                      \"div\",\n                      null,\n                      \" \",\n                      this.props.invoice.companyCity,\n                      \" , \",\n                      this.props.invoice.companyState,\n                      \" ,\",\n                      this.props.invoice.companyCountry,\n                      \"  -\",\n                      this.props.invoice.companyPincode\n                    )\n                  ),\n                  React.createElement(\n                    \"div\",\n                    {\n                      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 bannerInvMar\"\n                    },\n                    React.createElement(\n                      \"div\",\n                      {\n                        className: \"col-lg-4 col-md-4 col-sm-3 col-xs-3 noPadLeftRight\"\n                      },\n                      React.createElement(\n                        \"div\",\n                        {\n                          className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 invoicetitleHeader\"\n                        },\n                        React.createElement(\n                          \"span\",\n                          null,\n                          \"Service Name\"\n                        )\n                      ),\n                      React.createElement(\n                        \"div\",\n                        {\n                          className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 invoiceValue\"\n                        },\n                        React.createElement(\n                          \"span\",\n                          null,\n                          this.props.invoice.serviceName\n                        )\n                      )\n                    ),\n                    React.createElement(\n                      \"div\",\n                      {\n                        className: \"col-lg-3 col-md-3 col-sm-3 col-xs-3 noPadLeftRight\"\n                      },\n                      React.createElement(\n                        \"div\",\n                        {\n                          className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 invoicetitleHeader\"\n                        },\n                        React.createElement(\n                          \"span\",\n                          null,\n                          \"Service Duration\"\n                        )\n                      ),\n                      React.createElement(\n                        \"div\",\n                        {\n                          className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 invoiceValue\"\n                        },\n                        React.createElement(\n                          \"span\",\n                          null,\n                          this.props.invoice.serviceDuration\n                        )\n                      )\n                    ),\n                    React.createElement(\n                      \"div\",\n                      {\n                        className: \"col-lg-5 col-md-5 col-sm-6 col-xs-6 noPadLeftRight\"\n                      },\n                      React.createElement(\n                        \"div\",\n                        {\n                          className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12  invoicetitleHeader\"\n                        },\n                        React.createElement(\n                          \"span\",\n                          {\n                            className: \"pull-left\"\n                          },\n                          \"Total Amount\"\n                        ),\n                        React.createElement(\n                          \"span\",\n                          {\n                            className: \"pull-right\"\n                          },\n                          React.createElement(\"i\", {\n                            className: \"fa fa-rupee\"\n                          }),\n                          \" \",\n                          this.totalAmount()\n                        )\n                      ),\n                      React.createElement(\n                        \"div\",\n                        {\n                          className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 invoiceValue\"\n                        },\n                        React.createElement(\n                          \"span\",\n                          {\n                            className: \"pull-left\"\n                          },\n                          \"Service Rate\"\n                        ),\n                        React.createElement(\n                          \"span\",\n                          {\n                            className: \"pull-right\"\n                          },\n                          React.createElement(\"i\", {\n                            className: \"fa fa-rupee\"\n                          }),\n                          \" \",\n                          this.props.invoice.serviceRate\n                        )\n                      ),\n                      this.taxes(),\n                      React.createElement(\n                        \"div\",\n                        {\n                          className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 invoicetitleHeader\"\n                        },\n                        React.createElement(\n                          \"span\",\n                          {\n                            className: \"pull-left\"\n                          },\n                          \"Total Amount\"\n                        ),\n                        React.createElement(\n                          \"span\",\n                          {\n                            className: \"pull-right\"\n                          },\n                          React.createElement(\"i\", {\n                            className: \"fa fa-rupee\"\n                          }),\n                          \" \",\n                          this.totalAmount()\n                        ),\n                        React.createElement(\"input\", {\n                          type: \"hiddden\",\n                          value: this.totalAmount(),\n                          ref: \"totalAmount\",\n                          name: \"totalAmount\",\n                          className: \"notDisplay\"\n                        })\n                      )\n                    )\n                  )\n                )\n              ),\n              React.createElement(\n                \"div\",\n                {\n                  className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 outerButtonDiv\"\n                },\n                React.createElement(\n                  \"button\",\n                  {\n                    type: \"submit\",\n                    className: \"col-lg-3 col-md-4 col-xs-12 col-sm-12 col-xs-12 btn ServiceProcessButtons pull-right\",\n                    onClick: this.confirm.bind(this)\n                  },\n                  \"Make Payment\"\n                )\n              )\n            )\n          )\n        );\n      }\n    } else {\n      return React.createElement(\n        \"span\",\n        null,\n        \"Data not available\"\n      );\n    }\n  }\n\n}\n\nEditPageContainer = withTracker(({\n  params\n}) => {\n  var _id = params.id; // console.log(\"_id\",_id);\n\n  const postHandle = Meteor.subscribe('singleInvoice', _id); // var editServices   = this.props.params.id;\n  // console.log(\"Param\" +editServices);\n\n  const invoice = Invoice.findOne({\n    \"_id\": _id\n  }); // console.log('invoice ', invoice);\n\n  const loading = !postHandle.ready();\n\n  if (_id) {\n    return {\n      loading,\n      invoice\n    };\n  }\n})(ServiceInvoice);\nmodule.exportDefault(EditPageContainer);","map":{"version":3,"sources":["imports/website/ServiceProcess/ServiceInvoice.jsx"],"names":["React","Component","module","watch","require","default","v","render","TrackerReact","browserHistory","Link","withTracker","Invoice","ServiceInvoice","constructor","state","invoiceNo","serviceId","serviceName","serviceRate","serviceDuration","userName","userId","companyName","companyAddress","companyCity","companyState","companyCountry","companyPincode","id","date","invoice","tax","Meteor","subscribe","componentWillMount","componentWillUnmount","componentDidMount","confirm","event","preventDefault","invoiceDate","props","createdAt","totalAmount","refs","value","call","error","result","console","log","reason","swal","path","replace","totalTax","rate","parseFloat","i","length","applicableTax","taxes","map","index","taxType","loading","moment","format","bind","EditPageContainer","params","_id","postHandle","findOne","ready","exportDefault"],"mappings":"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","file":"imports/website/ServiceProcess/ServiceInvoice.jsx.map","sourcesContent":["import React,{Component}  from 'react';\nimport {render} from 'react-dom';\nimport TrackerReact from 'meteor/ultimatejs:tracker-react';\nimport {browserHistory} from 'react-router';\nimport { Link } from 'react-router';\nimport { withTracker } from 'meteor/react-meteor-data';\nimport { Invoice } from './api/Invoice.js';\n\nclass ServiceInvoice extends TrackerReact(Component){\n  constructor(){\n    super();\n    this.state ={\n      invoiceNo       : '',\n      serviceId       : '',\n      serviceName     : '',\n      serviceRate     : '',\n      serviceDuration : '',\n      userName        : '',\n      userId          : '',\n      companyName     : '',\n      companyAddress  : '',\n      companyCity     : '',\n      companyState    : '',\n      companyCountry  : '',\n      companyPincode  : '',\n      id              : '', \n      date            : '',\n      invoice         : [],\n      tax             : [],\n      \"subscription\" : {\n        \"singleInvoice\" : Meteor.subscribe(\"singleInvoice\"),   \n      }\n    };\n  }\n  componentWillMount(){\n  }\n  componentWillUnmount(){\n  }\n  componentDidMount(){ \n  }\n  confirm(event){ \n    event.preventDefault();\n    // var path = \"/PaymentGateway\";\n    // browserHistory.replace(path);\n    var invoiceDate      = this.props.invoice.createdAt\n    var invoiceNo        = this.props.invoice.invoiceNo;\n    var serviceId        = this.props.invoice.serviceId;\n    var serviceName      = this.props.invoice.serviceName;\n    var serviceRate      = this.props.invoice.serviceRate;\n    var serviceDuration  = this.props.invoice.serviceDuration;\n    var userId           = this.props.invoice.userId;\n    var userName         = this.props.invoice.userName;\n    var totalAmount      = this.refs.totalAmount.value;    \n      Meteor.call(\"insertTempPayment\",invoiceDate,invoiceNo,serviceId,serviceName,serviceRate,serviceDuration,userId,userName,totalAmount,function(error,result){\n       if (error) {\n        console.log(\"error\",error.reason);\n       }else{\n        swal(\"Done\");  \n        var path = \"/PaymentGateway/\"+result;\n        browserHistory.replace(path);\n       }\n      });\n  }\n  totalAmount(){\n     var totalTax = 0;\n     var rate = parseFloat(this.props.invoice.serviceRate);\n     var tax  = this.props.invoice.tax;\n     for (var i = 0; i < tax.length; i++){\n       totalTax += parseFloat(tax[i].applicableTax);\n     }\n     var totalAmount = rate + totalTax;\n     return totalAmount;\n  }invoice\n  taxes(){\n    return this.props.invoice.tax.map((tax,index) =>{\n      return( \n        <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 invoiceValue\" key={index}>\n          <span className=\"pull-left\">{tax.taxType}</span>\n          <span className=\"pull-right\"><i className=\"fa fa-rupee\"></i> {tax.applicableTax}</span>\n        </div>\n      );\n\n    });\n\n  }\n  render(){\n    if(!this.props.loading){\n      if(this.props.invoice){ \n      return(\n        <div className=\"outerServiceBlock col-lg-12 col-md-12 col-sm-12 col-xs-1\">\n          <div className=\"servieInnerBlock col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n            <div className=\"col-lg-10 col-lg-offset-1 col-md-10 col-md-offset-1 col-sm-12 col-xs-12\">\n             <h1 className=\"text-center\">Invoice</h1>\n               <div className=\"manageRowAds\">\n                    <div className=\"row\">\n                      <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 invoiceCompanyName\">\n                          <h3>{this.props.invoice.companyName}</h3> \n                        <hr className=\"horizontalLine\" />\n                      </div>\n                      <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                        <div className=\"pull-right bannerInvDate\">\n                          <div className=\"bannerTextFont\">Date: <span className=\"bannerSpanTextFont\">{moment(this.props.invoice.createdAt).format(\"DD/MM/YYYY\")}</span></div>\n                          <div className=\"bannerTextFont\">Invoice Number: <span className=\"bannerSpanTextFont\">{this.props.invoice.invoiceNo}</span></div>\n                        </div>\n                      </div>\n                      <div className=\"col-lg-6 col-md-6 col-sm-6 col-xs-6 bannerDataTextFont\">\n                        <div className=\"bannerTextFont\">From,</div>\n                        <div className=\"bannerTextFont\">{this.props.invoice.userName}</div>\n                      </div>\n                      <div className=\"col-lg-6 col-md-6 col-sm-6 col-xs-6 bannerDataTextFont\">\n                        <div className=\"bannerTextFont\">To,</div>\n                        <div className=\"bannerTextFont\">{this.props.invoice.companyName}</div>\n                        <div>{this.props.invoice.companyAddress} ,</div>\n                        <div> {this.props.invoice.companyCity} , {this.props.invoice.companyState} ,{this.props.invoice.companyCountry}  -{this.props.invoice.companyPincode}</div>\n                      </div>\n                      <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 bannerInvMar\">\n                        <div className=\"col-lg-4 col-md-4 col-sm-3 col-xs-3 noPadLeftRight\">\n                          <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 invoicetitleHeader\">\n                            <span>Service Name</span>\n                          </div>\n                          <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 invoiceValue\">\n                            <span>{this.props.invoice.serviceName}</span>\n                          </div>\n                        </div>\n                        <div className=\"col-lg-3 col-md-3 col-sm-3 col-xs-3 noPadLeftRight\">\n                          <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 invoicetitleHeader\">\n                            <span>Service Duration</span>\n                          </div>\n                          <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 invoiceValue\">\n                            <span>{this.props.invoice.serviceDuration}</span>\n                          </div>\n                        </div>\n                        <div className=\"col-lg-5 col-md-5 col-sm-6 col-xs-6 noPadLeftRight\">\n                          <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12  invoicetitleHeader\">\n                            <span className=\"pull-left\">Total Amount</span>\n                            <span className=\"pull-right\"><i className=\"fa fa-rupee\"></i> {this.totalAmount()}</span>\n                          </div>\n                          <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 invoiceValue\">\n                            <span className=\"pull-left\">Service Rate</span>\n                            <span className=\"pull-right\"><i className=\"fa fa-rupee\"></i> {this.props.invoice.serviceRate}</span>\n                          </div>\n                          {this.taxes()}\n                           <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 invoicetitleHeader\">\n                            <span className=\"pull-left\">Total Amount</span>\n                            <span className=\"pull-right\"><i className=\"fa fa-rupee\"></i> {this.totalAmount()}</span>\n                            <input type=\"hiddden\" value={this.totalAmount()} ref=\"totalAmount\" name=\"totalAmount\" className=\"notDisplay\" />\n                          </div>\n                        </div>\n                         {/*<table className=\"table table-bordered\">\n                           <thead>\n                             <tr>\n                               <th>Service Name</th>\n                               <th>Service Rate</th>\n                               <th>Service Duration</th>\n                               <th>Total Amount</th>\n                             </tr>\n                           </thead>\n                           <tbody>\n                             <tr> \n                               <td>{this.props.invoice.serviceName}</td>\n                               <td><i className=\"fa fa-rupee\"></i> {this.props.invoice.serviceRate}</td>\n                               <td>{this.props.invoice.serviceDuration}</td>\n                               <td><i className=\"fa fa-rupee\"></i> {this.totalAmount()} </td>\n                             </tr>\n                           </tbody>\n                         </table>*/}\n                      </div>\n\n                    </div>\n                  </div>  \n               <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 outerButtonDiv\">\n                <button  type=\"submit\" className=\"col-lg-3 col-md-4 col-xs-12 col-sm-12 col-xs-12 btn ServiceProcessButtons pull-right\" onClick={this.confirm.bind(this)}>Make Payment</button>\n               </div>\n           </div>\n          </div>\n        </div>\n      );\n     }\n    }else{\n      return(<span>Data not available</span>);\n    }\n  } \n}\n \nEditPageContainer = withTracker(({params}) => {\n    var _id = params.id;\n    // console.log(\"_id\",_id);\n    const postHandle = Meteor.subscribe('singleInvoice',_id);\n    // var editServices   = this.props.params.id;\n    // console.log(\"Param\" +editServices);\n    const invoice = Invoice.findOne({\"_id\":_id});\n    // console.log('invoice ', invoice);\n    const loading = !postHandle.ready();\n    \n    if(_id){\n      return {\n          loading,\n          invoice,\n      };\n    }\n})(ServiceInvoice);\nexport default EditPageContainer;\n"]},"hash":"d0fe9c66f1a454ad29b05ef948c0073caa678f11"}
