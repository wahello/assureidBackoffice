{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"react","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"React"}]},{"source":"react-dom","imported":["render"],"specifiers":[{"kind":"named","imported":"render","local":"render"}]},{"source":"meteor/ultimatejs:tracker-react","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"TrackerReact"}]},{"source":"./SignUp.jsx","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"SignUp"}]},{"source":"../permissionModals/OTPModal.jsx","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"OTPModal"}]},{"source":"./ForgotPassword.jsx","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"ForgotPassword"}]},{"source":"react-router","imported":["Router","Route","browserHistory"],"specifiers":[{"kind":"named","imported":"Router","local":"Router"},{"kind":"named","imported":"Route","local":"Route"},{"kind":"named","imported":"browserHistory","local":"browserHistory"}]}],"exports":{"exported":["LogIn"],"specifiers":[{"kind":"local","local":"LogIn","exported":"default"}]}}},"options":{"filename":"imports/website/forms/LogIn.jsx","filenameRelative":"imports/website/forms/LogIn.jsx","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"useNativeAsyncAwait":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/website/forms/LogIn.jsx.map","sourceFileName":"imports/website/forms/LogIn.jsx","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"LogIn"},"ignored":false,"code":"module.export({\n  default: () => LogIn\n});\nlet React;\nmodule.watch(require(\"react\"), {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nlet render;\nmodule.watch(require(\"react-dom\"), {\n  render(v) {\n    render = v;\n  }\n\n}, 1);\nlet TrackerReact;\nmodule.watch(require(\"meteor/ultimatejs:tracker-react\"), {\n  default(v) {\n    TrackerReact = v;\n  }\n\n}, 2);\nlet SignUp;\nmodule.watch(require(\"./SignUp.jsx\"), {\n  default(v) {\n    SignUp = v;\n  }\n\n}, 3);\nlet OTPModal;\nmodule.watch(require(\"../permissionModals/OTPModal.jsx\"), {\n  default(v) {\n    OTPModal = v;\n  }\n\n}, 4);\nlet ForgotPassword;\nmodule.watch(require(\"./ForgotPassword.jsx\"), {\n  default(v) {\n    ForgotPassword = v;\n  }\n\n}, 5);\nlet Router, Route, browserHistory;\nmodule.watch(require(\"react-router\"), {\n  Router(v) {\n    Router = v;\n  },\n\n  Route(v) {\n    Route = v;\n  },\n\n  browserHistory(v) {\n    browserHistory = v;\n  }\n\n}, 6);\n\nclass LogIn extends TrackerReact(React.Component) {\n  componentDidMount() {\n    $(\"#login\").validate();\n  }\n\n  showSignUp(event) {\n    event.preventDefault();\n    $('#outerLoginWrapper').hide();\n    $('#outerSignUpWrapper').show();\n    $('.modalContent').addClass('addModalHeight');\n  }\n\n  showForgotModal(event) {\n    event.preventDefault();\n    $('#outerLoginWrapper').hide();\n    $('#ForgotBlock').show();\n  }\n\n  userlogin(event) {\n    event.preventDefault();\n    var email = this.refs.loginusername.value;\n    var passwordVar = this.refs.loginPassword.value;\n    Meteor.call('checkEmailVerification', email, function (error, data) {\n      console.lo;\n\n      if (data == \"verified\") {\n        Meteor.call('checkBlockedUser', email, function (error, data) {\n          if (data == \"Active\") {\n            console.log(\"email,password:\" + email, passwordVar);\n            Meteor.loginWithPassword(email, passwordVar, function (error) {\n              if (error) {\n                return swal({\n                  title: \"Either email or password is incorrect\",\n                  text: \"Please try again\",\n                  timer: 3000,\n                  showConfirmButton: false,\n                  type: \"error\"\n                });\n              } else {\n                if (Roles.userIsInRole(Meteor.userId(), ['admin', 'superAdmin', 'screening committee', 'team leader'])) {\n                  // FlowRouter.go('/adminDashboard');\n                  $('#loginModal').modal('hide');\n                  $('.modal-backdrop').hide();\n                  browserHistory.replace('/admin/dashboard');\n                } else {\n                  $('#loginModal').modal('hide');\n                  $('.modal-backdrop').hide();\n                  browserHistory.replace('/'); // swal({\n                  //   title: 'Welcome to ASSUREiD!!',\n                  //   text: 'Your Parking Assistant.',\n                  //   imageUrl: '/images/spotyl.png',\n                  //   imageWidth: 400,\n                  //   imageHeight: 200,\n                  //   animation: false,\n                  //   customClass: 'animated wobble',\n                  // });\n                }\n              }\n            });\n          } else if (data == \"Blocked\") {\n            swal({\n              title: \"Your profile is blocked\",\n              text: \"Please contact with Admin\",\n              timer: 3000,\n              showConfirmButton: false,\n              type: \"error\"\n            });\n          } else {\n            swal({\n              title: \"Either email or password is incorrect\",\n              text: \"Please try again\",\n              timer: 3000,\n              showConfirmButton: false,\n              type: \"error\"\n            });\n          }\n        });\n      } else if (data == \"unverified\") {\n        swal({\n          title: \"Your Account is not verified\",\n          // timer: 10000,\n          text: \"Please click on 'OK' button to verify now\",\n          showConfirmButton: true,\n          type: \"error\"\n        });\n        $('#outerLoginWrapper').hide();\n        $('#OtpBlock').show();\n      } else {\n        swal({\n          title: \"Username does not exist\",\n          text: \"Please create an account\",\n          timer: 3000,\n          showConfirmButton: false,\n          type: \"error\"\n        });\n      }\n\n      $(\"html,body\").scrollTop(0);\n    });\n    return false;\n  }\n\n  inputEffect(event) {\n    event.preventDefault(); // alert('hi');\n\n    if ($(event.target).val() != \"\") {\n      $(event.target).addClass(\"has-content\");\n    } else {\n      $(event.target).removeClass(\"has-content\");\n    }\n  }\n\n  render() {\n    return React.createElement(\n      \"div\",\n      null,\n      React.createElement(\n        \"div\",\n        {\n          className: \"modal fade in\",\n          id: \"loginModal\",\n          role: \"dialog\"\n        },\n        React.createElement(\n          \"div\",\n          {\n            className: \"modal-dialog modal-md\"\n          },\n          React.createElement(\n            \"div\",\n            {\n              className: \"modal-content col-lg-12 col-md-12 col-sm-12 col-xs-12 modalContent\"\n            },\n            React.createElement(\n              \"div\",\n              {\n                className: \"modal-body col-lg-12 col-md-12 col-sm-12 col-xs-12\"\n              },\n              React.createElement(\n                \"button\",\n                {\n                  type: \"button\",\n                  className: \"close\",\n                  \"data-dismiss\": \"modal\"\n                },\n                \"\\xD7\"\n              ),\n              React.createElement(\n                \"div\",\n                {\n                  className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 outerLoginWrapper\",\n                  id: \"outerLoginWrapper\"\n                },\n                React.createElement(\n                  \"div\",\n                  {\n                    className: \"logoWrapper col-lg-6 col-lg-offset-3 col-md-12 col-md-offset-4 col-sm-12 col-sm-offset-4 col-xs-4 col-xs-offset-4\"\n                  },\n                  React.createElement(\"img\", {\n                    src: \"../images/AssureIDlogo.png\",\n                    className: \"loginPageLogo\",\n                    alt: \"AssureID logo\"\n                  }),\n                  React.createElement(\n                    \"h2\",\n                    null,\n                    \"Sign In\"\n                  )\n                ),\n                React.createElement(\n                  \"div\",\n                  {\n                    className: \"FormWrapper col-lg-12 col-md-12 col-sm-12 col-xs-12\"\n                  },\n                  React.createElement(\n                    \"form\",\n                    {\n                      className: \"\",\n                      id: \"login\",\n                      onSubmit: this.userlogin.bind(this)\n                    },\n                    React.createElement(\n                      \"div\",\n                      {\n                        className: \"form-group col-lg-12 col-md-12 col-lg-12 col-md-12 col-sm-12 col-xs-12\"\n                      },\n                      React.createElement(\n                        \"div\",\n                        {\n                          className: \"input-effect input-group\"\n                        },\n                        React.createElement(\n                          \"span\",\n                          {\n                            className: \"input-group-addon addons\",\n                            id: \"basic-addon1\"\n                          },\n                          React.createElement(\"i\", {\n                            className: \"fa fa-user\",\n                            \"aria-hidden\": \"true\"\n                          })\n                        ),\n                        React.createElement(\"input\", {\n                          type: \"text\",\n                          className: \"effect-21 form-control loginInputs\",\n                          ref: \"loginusername\",\n                          name: \"loginusername\",\n                          onBlur: this.inputEffect.bind(this),\n                          \"aria-label\": \"Username\",\n                          \"aria-describedby\": \"basic-addon1\",\n                          required: true\n                        }),\n                        React.createElement(\n                          \"label\",\n                          null,\n                          \"Username\"\n                        ),\n                        React.createElement(\n                          \"span\",\n                          {\n                            className: \"focus-border\"\n                          },\n                          React.createElement(\"i\", null)\n                        )\n                      )\n                    ),\n                    React.createElement(\n                      \"div\",\n                      {\n                        className: \"form-group col-lg-12 col-md-12 col-lg-12 col-md-12 col-sm-12 col-xs-12\"\n                      },\n                      React.createElement(\n                        \"div\",\n                        {\n                          className: \"input-effect input-group\"\n                        },\n                        React.createElement(\n                          \"span\",\n                          {\n                            className: \"input-group-addon addons\",\n                            id: \"basic-addon1\"\n                          },\n                          React.createElement(\"i\", {\n                            className: \"fa fa-lock\",\n                            \"aria-hidden\": \"true\"\n                          })\n                        ),\n                        React.createElement(\"input\", {\n                          type: \"password\",\n                          className: \"effect-21 form-control loginInputs\",\n                          ref: \"loginPassword\",\n                          name: \"loginPassword\",\n                          onBlur: this.inputEffect.bind(this),\n                          \"aria-label\": \"Username\",\n                          \"aria-describedby\": \"basic-addon1\",\n                          required: true\n                        }),\n                        React.createElement(\n                          \"label\",\n                          null,\n                          \"Password\"\n                        ),\n                        React.createElement(\n                          \"span\",\n                          {\n                            className: \"focus-border\"\n                          },\n                          React.createElement(\"i\", null)\n                        )\n                      )\n                    ),\n                    React.createElement(\n                      \"div\",\n                      {\n                        className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 keepmeloginOuter\"\n                      },\n                      React.createElement(\"input\", {\n                        type: \"checkbox\",\n                        name: \"\",\n                        value: \"\"\n                      }),\n                      \" Keep me Signed In\"\n                    ),\n                    React.createElement(\n                      \"div\",\n                      {\n                        className: \"submitButtonWrapper col-lg-12 col-md-12 col-sm-12 col-xs-12\"\n                      },\n                      React.createElement(\n                        \"button\",\n                        {\n                          type: \"submit\",\n                          className: \"btn col-lg-12 col-md-12 col-sm-12 col-xs-12 submitBtn\"\n                        },\n                        \"Sign In\"\n                      )\n                    )\n                  ),\n                  React.createElement(\n                    \"div\",\n                    {\n                      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 bottomLiksOuter\"\n                    },\n                    React.createElement(\n                      \"div\",\n                      {\n                        className: \"text-left col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadLeft \"\n                      },\n                      React.createElement(\n                        \"a\",\n                        {\n                          href: \"#\",\n                          className: \"bottomLinks\",\n                          onClick: this.showSignUp.bind(this)\n                        },\n                        React.createElement(\"i\", {\n                          className: \"fa fa-angle-double-left\",\n                          \"aria-hidden\": \"true\"\n                        }),\n                        \" Sign Up\"\n                      )\n                    ),\n                    React.createElement(\n                      \"div\",\n                      {\n                        className: \"text-right col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadRight\"\n                      },\n                      React.createElement(\n                        \"a\",\n                        {\n                          href: \"#\",\n                          className: \"bottomLinks\",\n                          onClick: this.showForgotModal.bind(this)\n                        },\n                        \"Forgot Password ?\"\n                      )\n                    )\n                  )\n                )\n              ),\n              React.createElement(SignUp, null),\n              React.createElement(ForgotPassword, null)\n            )\n          )\n        )\n      )\n    );\n  }\n\n}","map":{"version":3,"sources":["imports/website/forms/LogIn.jsx"],"names":["module","export","default","LogIn","React","watch","require","v","render","TrackerReact","SignUp","OTPModal","ForgotPassword","Router","Route","browserHistory","Component","componentDidMount","$","validate","showSignUp","event","preventDefault","hide","show","addClass","showForgotModal","userlogin","email","refs","loginusername","value","passwordVar","loginPassword","Meteor","call","error","data","console","lo","log","loginWithPassword","swal","title","text","timer","showConfirmButton","type","Roles","userIsInRole","userId","modal","replace","scrollTop","inputEffect","target","val","removeClass","bind"],"mappings":"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","file":"imports/website/forms/LogIn.jsx.map","sourcesContent":["import React from 'react';\nimport {render} from 'react-dom';\nimport TrackerReact from 'meteor/ultimatejs:tracker-react';\nimport SignUp from './SignUp.jsx';\nimport OTPModal from '../permissionModals/OTPModal.jsx';\nimport ForgotPassword from './ForgotPassword.jsx';\nimport {Router, Route, browserHistory} from 'react-router';\n\nexport default class LogIn extends TrackerReact(React.Component) {\n  componentDidMount() {\n    $(\"#login\").validate();\n    \n  }\n\tshowSignUp(event){\n\t\tevent.preventDefault();\n\t\t$('#outerLoginWrapper').hide();\n    $('#outerSignUpWrapper').show();\n    $('.modalContent').addClass('addModalHeight');\n\t}\n  showForgotModal(event){\n    event.preventDefault();\n    $('#outerLoginWrapper').hide();\n    $('#ForgotBlock').show();\n  }\n  userlogin(event){\n    event.preventDefault();\n\n    var email       = this.refs.loginusername.value;\n    var passwordVar = this.refs.loginPassword.value;  \n\n    Meteor.call('checkEmailVerification', email, function(error,data){\n      console.lo\n      if (data == \"verified\"){\n        \n        Meteor.call('checkBlockedUser', email, function(error,data){\n          \n          if (data == \"Active\"){\n            console.log(\"email,password:\"+email,passwordVar);\n            Meteor.loginWithPassword(email, passwordVar, function(error) {\n              if (error) {\n                \n                return swal({\n                  title: \"Either email or password is incorrect\",\n                  text: \"Please try again\",\n                  timer: 3000,\n                  showConfirmButton: false,\n                  type: \"error\"\n                });\n              } else {\n                if(Roles.userIsInRole(Meteor.userId(), ['admin','superAdmin','screening committee','team leader'])) {\n                  // FlowRouter.go('/adminDashboard');\n                  $('#loginModal').modal('hide');\n                  $('.modal-backdrop').hide();\n                  browserHistory.replace('/admin/dashboard');\n                }else{\n                  $('#loginModal').modal('hide');\n                  $('.modal-backdrop').hide();\n                  browserHistory.replace('/');\n                  // swal({\n                  //   title: 'Welcome to ASSUREiD!!',\n                  //   text: 'Your Parking Assistant.',\n                  //   imageUrl: '/images/spotyl.png',\n                  //   imageWidth: 400,\n                  //   imageHeight: 200,\n                  //   animation: false,\n                  //   customClass: 'animated wobble',\n                  // });\n                }\n              }\n            });\n          }else if(data == \"Blocked\"){\n            swal({\n              title: \"Your profile is blocked\",\n              text: \"Please contact with Admin\",\n              timer: 3000,\n              showConfirmButton: false,\n              type: \"error\"\n            });\n          }else{\n            swal({\n              title: \"Either email or password is incorrect\",\n              text: \"Please try again\",\n              timer: 3000,\n              showConfirmButton: false,\n              type: \"error\"\n            });\n          }\n        });  \n      }else if(data == \"unverified\"){\n        swal({\n          title: \"Your Account is not verified\",\n          // timer: 10000,\n          text: \"Please click on 'OK' button to verify now\",\n          showConfirmButton: true,\n          type: \"error\"\n        });\n        $('#outerLoginWrapper').hide();\n        $('#OtpBlock').show();\n      }else{\n        swal({\n          title: \"Username does not exist\",\n          text: \"Please create an account\",\n          timer: 3000,\n          showConfirmButton: false,\n          type: \"error\"\n        });\n      }\n      $(\"html,body\").scrollTop(0);\n    });\n    return false;       \n  }\n\n  inputEffect(event){\n    event.preventDefault();\n    // alert('hi');\n    if($(event.target).val() != \"\"){\n      $(event.target).addClass(\"has-content\");\n    }else{\n      $(event.target).removeClass(\"has-content\");\n    }\n  }\n\n\trender() {\n    return (\n    \t<div>\n  \t   <div className=\"modal fade in\" id=\"loginModal\" role=\"dialog\">\n          <div className=\"modal-dialog modal-md\">\n            <div className=\"modal-content col-lg-12 col-md-12 col-sm-12 col-xs-12 modalContent\"> \n              <div className=\"modal-body col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                <button type=\"button\" className=\"close\" data-dismiss=\"modal\">&times;</button>\n\n                  <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 outerLoginWrapper\" id=\"outerLoginWrapper\">\n                    <div className=\"logoWrapper col-lg-6 col-lg-offset-3 col-md-12 col-md-offset-4 col-sm-12 col-sm-offset-4 col-xs-4 col-xs-offset-4\">\n                      <img src=\"../images/AssureIDlogo.png\" className=\"loginPageLogo\"  alt=\"AssureID logo\"/>\n                      <h2>Sign In</h2>\n                    </div>\n                    <div className=\"FormWrapper col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                      <form className=\"\" id=\"login\" onSubmit={this.userlogin.bind(this)}>\n                        <div className=\"form-group col-lg-12 col-md-12 col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                          <div className=\"input-effect input-group\">\n                            <span className=\"input-group-addon addons\" id=\"basic-addon1\"><i className=\"fa fa-user\" aria-hidden=\"true\"></i></span>\n                            <input type=\"text\" className=\"effect-21 form-control loginInputs\" ref=\"loginusername\" name=\"loginusername\" onBlur={this.inputEffect.bind(this)} aria-label=\"Username\" aria-describedby=\"basic-addon1\" required/>\n                            <label>Username</label>\n                            <span className=\"focus-border\">\n                              <i></i>\n                            </span>\n                          </div>\n                        </div> \n                        <div className=\"form-group col-lg-12 col-md-12 col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                          <div className=\"input-effect input-group\">\n                            <span className=\"input-group-addon addons\" id=\"basic-addon1\"><i className=\"fa fa-lock\" aria-hidden=\"true\"></i></span>\n                            <input type=\"password\" className=\"effect-21 form-control loginInputs\" ref=\"loginPassword\" name=\"loginPassword\" onBlur={this.inputEffect.bind(this)} aria-label=\"Username\" aria-describedby=\"basic-addon1\" required/>\n                            <label>Password</label>\n                            <span className=\"focus-border\">\n                              <i></i>\n                            </span>\n                          </div>\n                        </div>  \n                        <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 keepmeloginOuter\"> \n                         <input type=\"checkbox\" name=\"\" value=\"\"/> Keep me Signed In\n                        </div>\n                        <div className=\"submitButtonWrapper col-lg-12 col-md-12 col-sm-12 col-xs-12\"> \n                         <button type=\"submit\" className=\"btn col-lg-12 col-md-12 col-sm-12 col-xs-12 submitBtn\">Sign In</button>\n                        </div>\n                      </form>\n                      <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 bottomLiksOuter\">\n                        <div className=\"text-left col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadLeft \">\n                          <a href=\"#\" className=\"bottomLinks\" onClick={this.showSignUp.bind(this)}><i className=\"fa fa-angle-double-left\" aria-hidden=\"true\"></i> Sign Up</a>\n                        </div>\n                        <div className=\"text-right col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadRight\">\n                          <a href=\"#\" className=\"bottomLinks\" onClick={this.showForgotModal.bind(this)}>Forgot Password ?</a>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  \n                  <SignUp />\n                  {/* <OTPModal /> */}\n                  <ForgotPassword />\n              </div>\n             \n            </div>\n          </div>\n        </div>\n    \t</div>\n    );\n  }\n}\n"]},"hash":"cb6e78dfb2283dd738be347b6a7f496f8b8f5837"}
