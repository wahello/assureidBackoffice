{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"react","imported":["default","Component"],"specifiers":[{"kind":"named","imported":"default","local":"React"},{"kind":"named","imported":"Component","local":"Component"}]},{"source":"react-dom","imported":["render"],"specifiers":[{"kind":"named","imported":"render","local":"render"}]},{"source":"meteor/ultimatejs:tracker-react","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"TrackerReact"}]},{"source":"../api/NewsFeed.js","imported":["NewsFeeds"],"specifiers":[{"kind":"named","imported":"NewsFeeds","local":"NewsFeeds"}]},{"source":"../api/NewsFeed.js","imported":["TempNewsVideo"],"specifiers":[{"kind":"named","imported":"TempNewsVideo","local":"TempNewsVideo"}]},{"source":"meteor/react-meteor-data","imported":["createContainer"],"specifiers":[{"kind":"named","imported":"createContainer","local":"createContainer"}]},{"source":"react-router","imported":["browserHistory"],"specifiers":[{"kind":"named","imported":"browserHistory","local":"browserHistory"}]},{"source":"react-router","imported":["Link"],"specifiers":[{"kind":"named","imported":"Link","local":"Link"}]},{"source":"youtube-embed-video","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"YoutubeEmbedVideo"}]}],"exports":{"exported":["ListOfNewsFeed"],"specifiers":[{"kind":"local","local":"ListOfNewsFeed","exported":"default"}]}}},"options":{"filename":"imports/dashboard/forms/newsFeed/ListOfNewsFeed.jsx","filenameRelative":"imports/dashboard/forms/newsFeed/ListOfNewsFeed.jsx","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"useNativeAsyncAwait":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/dashboard/forms/newsFeed/ListOfNewsFeed.jsx.map","sourceFileName":"imports/dashboard/forms/newsFeed/ListOfNewsFeed.jsx","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"ListOfNewsFeed"},"ignored":false,"code":"module.export({\n  default: () => ListOfNewsFeed\n});\nlet React, Component;\nmodule.watch(require(\"react\"), {\n  default(v) {\n    React = v;\n  },\n\n  Component(v) {\n    Component = v;\n  }\n\n}, 0);\nlet render;\nmodule.watch(require(\"react-dom\"), {\n  render(v) {\n    render = v;\n  }\n\n}, 1);\nlet TrackerReact;\nmodule.watch(require(\"meteor/ultimatejs:tracker-react\"), {\n  default(v) {\n    TrackerReact = v;\n  }\n\n}, 2);\nlet NewsFeeds;\nmodule.watch(require(\"../api/NewsFeed.js\"), {\n  NewsFeeds(v) {\n    NewsFeeds = v;\n  }\n\n}, 3);\nlet TempNewsVideo;\nmodule.watch(require(\"../api/NewsFeed.js\"), {\n  TempNewsVideo(v) {\n    TempNewsVideo = v;\n  }\n\n}, 4);\nlet createContainer;\nmodule.watch(require(\"meteor/react-meteor-data\"), {\n  createContainer(v) {\n    createContainer = v;\n  }\n\n}, 5);\nlet browserHistory;\nmodule.watch(require(\"react-router\"), {\n  browserHistory(v) {\n    browserHistory = v;\n  }\n\n}, 6);\nlet Link;\nmodule.watch(require(\"react-router\"), {\n  Link(v) {\n    Link = v;\n  }\n\n}, 7);\nlet YoutubeEmbedVideo;\nmodule.watch(require(\"youtube-embed-video\"), {\n  default(v) {\n    YoutubeEmbedVideo = v;\n  }\n\n}, 8);\n\nconst getVideoId = require('get-video-id');\n\nclass ListOfNewsFeed extends TrackerReact(Component) {\n  constructor(props) {\n    super(props);\n    this.state = {\n      newsFeeds: [],\n      \"subscription\": {\n        \"NewsFeeds\": Meteor.subscribe(\"newsFeeds\"),\n        \"projectSettingsPublish\": Meteor.subscribe(\"projectSettingsPublish\"),\n        \"tempNewsVideo\": Meteor.subscribe(\"tempNewsVideo\"),\n        \"singleNews\": Meteor.subscribe(\"singleNews\")\n      }\n    };\n  }\n\n  componentDidMount() {\n    $(\"html,body\").scrollTop(0);\n\n    if (!$(\"#adminLte\").length > 0 && !$('body').hasClass('adminLte')) {\n      var adminLte = document.createElement(\"script\");\n      adminLte.type = \"text/javascript\";\n      adminLte.src = \"/js/adminLte.js\";\n      $(\"body\").append(adminLte);\n    }\n\n    this.newsFeedTracker = Tracker.autorun(() => {\n      Meteor.subscribe(\"newsFeeds\");\n      const newsFeeds = NewsFeeds.find().fetch();\n      this.setState({\n        newsFeeds: newsFeeds\n      });\n    });\n    this.tempVideoTracker = Tracker.autorun(() => {\n      Meteor.subscribe('tempNewsVideo');\n      const tempNewsVideo = TempNewsVideo.find().fetch();\n      this.setState({\n        tempNewsVideo\n      });\n    });\n  }\n\n  componentWillMount() {// if (!!!$(\"link[href='/css/dashboard.css']\").length > 0) {\n    //   var dashboardCss = document.createElement(\"link\");\n    //   dashboardCss.type = \"text/css\"; \n    //   dashboardCss.rel = \"stylesheet\";\n    //   dashboardCss.href = \"/css/dashboard.css\"; \n    //   document.head.append(dashboardCss);\n    // }\n  }\n\n  componentWillUnmount() {\n    $(\"script[src='/js/adminLte.js']\").remove(); // $(\"link[href='/css/dashboard.css']\").remove(); \n\n    if (this.newsFeedTracker) {\n      this.newsFeedTracker.stop();\n    }\n\n    if (this.tempVideoTracker) {\n      this.tempVideoTracker.stop();\n    }\n  }\n\n  renderTableRow() {\n    return this.state.newsFeeds.map((newsFeeds, index) => {\n      var text = newsFeeds.newsDescription;\n      var regex = new RegExp(\"</p><p>\", 'g');\n      text = text.replace(regex, '\\n');\n      var strippedText = $(\"<div/>\").html(text).text();\n      var startDate = moment(newsFeeds.startDate).format(\"DD/MM/YYYY\").toString();\n      var endDate = moment(newsFeeds.endDate).format(\"DD/MM/YYYY\").toString();\n      return React.createElement(\n        \"tr\",\n        {\n          key: index\n        },\n        React.createElement(\n          \"td\",\n          null,\n          \" \",\n          newsFeeds.newsFeedTitile,\n          \" \"\n        ),\n        React.createElement(\n          \"td\",\n          null,\n          \" \",\n          startDate,\n          \" \"\n        ),\n        React.createElement(\n          \"td\",\n          null,\n          \" \",\n          endDate,\n          \" \"\n        ),\n        React.createElement(\n          \"td\",\n          null,\n          \" \",\n          strippedText,\n          \" \"\n        ),\n        React.createElement(\n          \"td\",\n          null,\n          newsFeeds.newsVideoType == \"YouTubeVideo\" ? React.createElement(YoutubeEmbedVideo, {\n            suggestions: false,\n            width: 120,\n            height: 120,\n            controls: true,\n            videoId: getVideoId(newsFeeds.newsYouTubeVideo).id,\n            suggestions: false\n          }) : newsFeeds.newsVideoType == \"LocalImage\" ? React.createElement(\"img\", {\n            src: newsFeeds.newsImage,\n            className: \"img-responsive serviceLogo\"\n          }) : React.createElement(\n            \"video\",\n            {\n              width: \"120\",\n              height: \"120\",\n              controls: true,\n              className: \"\"\n            },\n            React.createElement(\"source\", {\n              src: newsFeeds.newsVideo,\n              type: \"video/mp4\"\n            })\n          )\n        ),\n        React.createElement(\n          \"td\",\n          null,\n          React.createElement(\n            Link,\n            {\n              to: '/admin/EditNewsFeed/' + newsFeeds._id,\n              className: \"editButton\",\n              title: \"Edit\"\n            },\n            React.createElement(\n              \"i\",\n              {\n                className: \"fa fa-pencil\"\n              },\n              \" \"\n            )\n          ),\n          React.createElement(\n            \"a\",\n            {\n              href: \"#\",\n              id: newsFeeds._id,\n              onClick: this.delete.bind(this),\n              className: \"deleteButton\",\n              title: \"Delete\"\n            },\n            React.createElement(\"i\", {\n              className: \"fa fa-trash-o\"\n            })\n          )\n        )\n      );\n    });\n  }\n\n  delete(e) {\n    e.preventDefault();\n    let id = $(e.currentTarget).attr(\"id\");\n    swal({\n      title: \"Are you sure?\",\n      text: \"You want to delete this page!\",\n      type: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#DD6B55\",\n      confirmButtonText: \"Yes, delete it!\",\n      closeOnConfirm: false,\n      html: false\n    }, function () {\n      Meteor.call(\"deleteNews\", id, function (error, result) {\n        if (error) {\n          console.log(error.reason);\n        } else {\n          swal(\"Done\", \"Your news has been deleted!.\", \"success\");\n        }\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(\n      \"div\",\n      {\n        className: \"content-wrapper\"\n      },\n      React.createElement(\n        \"section\",\n        {\n          className: \"content-header\"\n        },\n        React.createElement(\n          \"h1\",\n          null,\n          \" News Feed Management \"\n        ),\n        React.createElement(\n          \"ol\",\n          {\n            className: \"breadcrumb\"\n          },\n          React.createElement(\n            \"li\",\n            null,\n            React.createElement(\n              \"a\",\n              {\n                href: \"#\"\n              },\n              React.createElement(\"i\", {\n                className: \"fa fa-newspaper-o\"\n              }),\n              \"News Feed Management\"\n            )\n          ),\n          React.createElement(\n            \"li\",\n            {\n              className: \"active\"\n            },\n            \"List Of News Feed\"\n          )\n        )\n      ),\n      React.createElement(\n        \"section\",\n        {\n          className: \"content\"\n        },\n        React.createElement(\n          \"div\",\n          {\n            className: \"row\"\n          },\n          React.createElement(\n            \"div\",\n            {\n              className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\"\n            },\n            React.createElement(\n              \"div\",\n              {\n                className: \"box box-primary\"\n              },\n              React.createElement(\n                \"div\",\n                {\n                  className: \"box-header with-border\"\n                },\n                React.createElement(\n                  \"h2\",\n                  {\n                    className: \"box-title\"\n                  },\n                  \"List Of News Feed\"\n                )\n              ),\n              React.createElement(\n                \"div\",\n                {\n                  className: \"box-body \"\n                },\n                React.createElement(\n                  \"div\",\n                  {\n                    className: \"dataTable tableBasicPage col-lg-12 col-md-12 col-sm-12 col-xs-12\"\n                  },\n                  React.createElement(\n                    \"table\",\n                    {\n                      className: \"display table table-bordered servicesTable\",\n                      width: \"100%\",\n                      cellSpacing: \"0\"\n                    },\n                    React.createElement(\n                      \"thead\",\n                      null,\n                      React.createElement(\n                        \"tr\",\n                        null,\n                        React.createElement(\n                          \"th\",\n                          null,\n                          \"Title\"\n                        ),\n                        React.createElement(\n                          \"th\",\n                          null,\n                          \"Start Date\"\n                        ),\n                        React.createElement(\n                          \"th\",\n                          null,\n                          \"End Date\"\n                        ),\n                        React.createElement(\n                          \"th\",\n                          null,\n                          \"Description\"\n                        ),\n                        React.createElement(\n                          \"th\",\n                          null,\n                          \"Video\"\n                        ),\n                        React.createElement(\n                          \"th\",\n                          null,\n                          \"Actions\"\n                        )\n                      )\n                    ),\n                    React.createElement(\n                      \"tbody\",\n                      null,\n                      this.renderTableRow()\n                    )\n                  )\n                )\n              )\n            )\n          )\n        )\n      )\n    );\n  }\n\n}","map":{"version":3,"sources":["imports/dashboard/forms/newsFeed/ListOfNewsFeed.jsx"],"names":["module","export","default","ListOfNewsFeed","React","Component","watch","require","v","render","TrackerReact","NewsFeeds","TempNewsVideo","createContainer","browserHistory","Link","YoutubeEmbedVideo","getVideoId","constructor","props","state","newsFeeds","Meteor","subscribe","componentDidMount","$","scrollTop","length","hasClass","adminLte","document","createElement","type","src","append","newsFeedTracker","Tracker","autorun","find","fetch","setState","tempVideoTracker","tempNewsVideo","componentWillMount","componentWillUnmount","remove","stop","renderTableRow","map","index","text","newsDescription","regex","RegExp","replace","strippedText","html","startDate","moment","format","toString","endDate","newsFeedTitile","newsVideoType","newsYouTubeVideo","id","newsImage","newsVideo","_id","delete","bind","e","preventDefault","currentTarget","attr","swal","title","showCancelButton","confirmButtonColor","confirmButtonText","closeOnConfirm","call","error","result","console","log","reason"],"mappings":"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","file":"imports/dashboard/forms/newsFeed/ListOfNewsFeed.jsx.map","sourcesContent":["import React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport TrackerReact from 'meteor/ultimatejs:tracker-react';\nimport { NewsFeeds } from '../api/NewsFeed.js';\nimport {TempNewsVideo} from '../api/NewsFeed.js';\nimport { createContainer } from 'meteor/react-meteor-data';\nimport {browserHistory} from 'react-router';\nimport { Link } from 'react-router';\nimport YoutubeEmbedVideo from \"youtube-embed-video\";\n\nconst getVideoId = require('get-video-id');\n\nexport default class ListOfNewsFeed extends TrackerReact(Component) {\n\tconstructor(props) {\n    super(props); \n    this.state = {\n    \tnewsFeeds            : [],\n\n      \"subscription\"  : {\n        \"NewsFeeds\" : Meteor.subscribe(\"newsFeeds\"),\n        \"projectSettingsPublish\" : Meteor.subscribe(\"projectSettingsPublish\"),\n        \"tempNewsVideo\" : Meteor.subscribe(\"tempNewsVideo\"),\n        \"singleNews\"    : Meteor.subscribe(\"singleNews\"),\n      }    \n    };  \n  }\n\tcomponentDidMount() {\n    $(\"html,body\").scrollTop(0);\n    if (!$(\"#adminLte\").length>0 && !$('body').hasClass('adminLte')) {\n     var adminLte = document.createElement(\"script\");  \n     adminLte.type=\"text/javascript\";  \n     adminLte.src = \"/js/adminLte.js\";  \n     $(\"body\").append(adminLte);  \n    }\n    this.newsFeedTracker = Tracker.autorun( ()=> {\n      Meteor.subscribe(\"newsFeeds\");\n      const newsFeeds = NewsFeeds.find().fetch();\n      this.setState({newsFeeds: newsFeeds});\n    });\n    this.tempVideoTracker = Tracker.autorun(()=>{\n      Meteor.subscribe('tempNewsVideo');\n      const tempNewsVideo = TempNewsVideo.find().fetch();\n      this.setState({tempNewsVideo});\n    });\n\t }\n   componentWillMount() {\n   \n    // if (!!!$(\"link[href='/css/dashboard.css']\").length > 0) {\n    //   var dashboardCss = document.createElement(\"link\");\n    //   dashboardCss.type = \"text/css\"; \n    //   dashboardCss.rel = \"stylesheet\";\n    //   dashboardCss.href = \"/css/dashboard.css\"; \n    //   document.head.append(dashboardCss);\n    // }\n  }\n  componentWillUnmount(){\n    $(\"script[src='/js/adminLte.js']\").remove(); \n     // $(\"link[href='/css/dashboard.css']\").remove(); \n     if (this.newsFeedTracker) {\n      this.newsFeedTracker.stop();\n      }\n     if (this.tempVideoTracker) { \n        this.tempVideoTracker.stop();\n      }\n  }\n  renderTableRow(){\n    return this.state.newsFeeds.map((newsFeeds,index) =>{\n      var text= newsFeeds.newsDescription;\n      var regex = new RegExp(\"</p><p>\", 'g');\n      text = text.replace(regex, '\\n');\n      var strippedText = $(\"<div/>\").html(text).text();\n      var startDate = moment(newsFeeds.startDate).format(\"DD/MM/YYYY\").toString();\n      var endDate   = moment(newsFeeds.endDate).format(\"DD/MM/YYYY\").toString();\n\n      return <tr key={index}>\n              <td> {newsFeeds.newsFeedTitile} </td>\n              <td> {startDate} </td>\n              <td> {endDate} </td>\n              <td> {strippedText } </td>\n              <td>\n                { newsFeeds.newsVideoType ==  \"YouTubeVideo\" ?\n                  <YoutubeEmbedVideo suggestions={false}  width={120} height={120} controls videoId={getVideoId(newsFeeds.newsYouTubeVideo).id} suggestions={false} />\n                 : \n                  newsFeeds.newsVideoType ==  \"LocalImage\" ?\n                  <img src={newsFeeds.newsImage} className=\"img-responsive serviceLogo\" />\n\n                 : <video width=\"120\" height=\"120\" controls className=\"\">\n                     <source src={newsFeeds.newsVideo} type=\"video/mp4\" />\n                  </video>   \n                }\n                \n              </td>\n              <td>\n                <Link to={'/admin/EditNewsFeed/'+newsFeeds._id} className=\"editButton\" title=\"Edit\">\n                  <i className = \"fa fa-pencil\"> </i>\n                </Link>\n                <a href=\"#\" id={newsFeeds._id} onClick={this.delete.bind(this)} className=\"deleteButton\" title=\"Delete\">\n                  <i className=\"fa fa-trash-o\"></i>  \n                </a>\n              </td>\n            </tr>;\n      });\n    }\n    delete(e){\n     e.preventDefault();\n\t    let id = $(e.currentTarget).attr(\"id\");\n\t    swal({\n\t      title: \"Are you sure?\",\n\t      text: \"You want to delete this page!\",\n\t      type: \"warning\",\n\t      showCancelButton: true,\n\t      confirmButtonColor: \"#DD6B55\",\n\t      confirmButtonText: \"Yes, delete it!\",\n\t      closeOnConfirm: false,\n\t      html: false\n\t    }, function(){\n\t      Meteor.call(\"deleteNews\",id,function(error,result){\n\t          if(error){\n\t              console.log(error.reason);\n\t          }else{\n\t              swal(\"Done\",\"Your news has been deleted!.\", \"success\");\n\t          }\n\t      });\n\n\t    });\n\t  }\n\n  render() {\n       return (\n        <div className=\"content-wrapper\">\n          <section className=\"content-header\">\n            <h1> News Feed Management </h1>\n            <ol className=\"breadcrumb\">\n              <li>\n                <a href=\"#\"><i className=\"fa fa-newspaper-o\" />News Feed Management</a></li>\n              <li className=\"active\">List Of News Feed</li>\n            </ol>\n          </section>\n           <section className=\"content\">\n             <div className=\"row\">\n               <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                 <div className=\"box box-primary\">\n                    <div className=\"box-header with-border\">\n                     <h2 className=\"box-title\">List Of News Feed</h2>  \n                    </div>\n                    <div className=\"box-body \">  \n                      <div className=\"dataTable tableBasicPage col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                        <table className=\"display table table-bordered servicesTable\" width=\"100%\" cellSpacing=\"0\">\n                            <thead>\n                                <tr>\n                                    <th>Title</th>\n                                    <th>Start Date</th>\n                                    <th>End Date</th>\n                                    <th>Description</th>\n                                    <th>Video</th>\n                                    <th>Actions</th>\n                                </tr>\n                            </thead>\n                           \n                            <tbody>\n                                {this.renderTableRow()}\n                            </tbody>\n                        </table>\n                      </div>\n                    </div>\n                 </div>\n                </div>\n             </div>\n           </section>\n        </div>\n        );\n  } \n\n}\n"]},"hash":"90ad8538d6fbf6b3dbe8ac551615d9f28fbd06d8"}
