{"metadata":{"usedHelpers":["inherits","possibleConstructorReturn","classCallCheck","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"meteor/meteor","imported":["Meteor"],"specifiers":[{"kind":"named","imported":"Meteor","local":"Meteor"}]},{"source":"meteor/mongo","imported":["Mongo"],"specifiers":[{"kind":"named","imported":"Mongo","local":"Mongo"}]},{"source":"react","imported":["default","Component"],"specifiers":[{"kind":"named","imported":"default","local":"React"},{"kind":"named","imported":"Component","local":"Component"}]},{"source":"react-dom","imported":["render"],"specifiers":[{"kind":"named","imported":"render","local":"render"}]},{"source":"meteor/ultimatejs:tracker-react","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"TrackerReact"}]},{"source":"meteor/react-meteor-data","imported":["withTracker"],"specifiers":[{"kind":"named","imported":"withTracker","local":"withTracker"}]},{"source":"react-validation","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"Validation"}]},{"source":"validator","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"validator"}]},{"source":"meteor/tracker","imported":["Tracker"],"specifiers":[{"kind":"named","imported":"Tracker","local":"Tracker"}]},{"source":"react-router","imported":["browserHistory"],"specifiers":[{"kind":"named","imported":"browserHistory","local":"browserHistory"}]},{"source":"react-router","imported":["Link"],"specifiers":[{"kind":"named","imported":"Link","local":"Link"}]},{"source":"./api/TempUpload.js","imported":["TempTicketImages"],"specifiers":[{"kind":"named","imported":"TempTicketImages","local":"TempTicketImages"}]},{"source":"./api/TempUpload.js","imported":["TempTicketVideo"],"specifiers":[{"kind":"named","imported":"TempTicketVideo","local":"TempTicketVideo"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"imports/dashboard/ticketManagement/AddImagesVideo.jsx","filenameRelative":"imports/dashboard/ticketManagement/AddImagesVideo.jsx","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/dashboard/ticketManagement/AddImagesVideo.jsx.map","sourceFileName":"imports/dashboard/ticketManagement/AddImagesVideo.jsx","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"AddImagesVideo"},"ignored":false,"code":"var _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar Meteor = void 0;\nmodule.watch(require(\"meteor/meteor\"), {\n  Meteor: function (v) {\n    Meteor = v;\n  }\n}, 0);\nvar Mongo = void 0;\nmodule.watch(require(\"meteor/mongo\"), {\n  Mongo: function (v) {\n    Mongo = v;\n  }\n}, 1);\nvar React = void 0,\n    Component = void 0;\nmodule.watch(require(\"react\"), {\n  \"default\": function (v) {\n    React = v;\n  },\n  Component: function (v) {\n    Component = v;\n  }\n}, 2);\nvar render = void 0;\nmodule.watch(require(\"react-dom\"), {\n  render: function (v) {\n    render = v;\n  }\n}, 3);\nvar TrackerReact = void 0;\nmodule.watch(require(\"meteor/ultimatejs:tracker-react\"), {\n  \"default\": function (v) {\n    TrackerReact = v;\n  }\n}, 4);\nvar withTracker = void 0;\nmodule.watch(require(\"meteor/react-meteor-data\"), {\n  withTracker: function (v) {\n    withTracker = v;\n  }\n}, 5);\nvar Validation = void 0;\nmodule.watch(require(\"react-validation\"), {\n  \"default\": function (v) {\n    Validation = v;\n  }\n}, 6);\nvar validator = void 0;\nmodule.watch(require(\"validator\"), {\n  \"default\": function (v) {\n    validator = v;\n  }\n}, 7);\nvar Tracker = void 0;\nmodule.watch(require(\"meteor/tracker\"), {\n  Tracker: function (v) {\n    Tracker = v;\n  }\n}, 8);\nvar browserHistory = void 0;\nmodule.watch(require(\"react-router\"), {\n  browserHistory: function (v) {\n    browserHistory = v;\n  }\n}, 9);\nvar Link = void 0;\nmodule.watch(require(\"react-router\"), {\n  Link: function (v) {\n    Link = v;\n  }\n}, 10);\nvar TempTicketImages = void 0;\nmodule.watch(require(\"./api/TempUpload.js\"), {\n  TempTicketImages: function (v) {\n    TempTicketImages = v;\n  }\n}, 11);\nvar TempTicketVideo = void 0;\nmodule.watch(require(\"./api/TempUpload.js\"), {\n  TempTicketVideo: function (v) {\n    TempTicketVideo = v;\n  }\n}, 12);\n\nvar AddImagesVideo = function (_TrackerReact) {\n  (0, _inherits3.default)(AddImagesVideo, _TrackerReact);\n\n  function AddImagesVideo(props) {\n    (0, _classCallCheck3.default)(this, AddImagesVideo);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _TrackerReact.call(this, props));\n\n    _this.state = {};\n    return _this;\n  }\n\n  AddImagesVideo.prototype.handleUpload = function () {\n    function handleUpload(event) {\n      event.preventDefault();\n      var self = this; // this.setState({isUploading: true});\n\n      if (event.currentTarget.files && event.currentTarget.files[0]) {\n        var dataImg = event.currentTarget.files[0];\n\n        if (dataImg.type == \"image/jpeg\" || dataImg.type == \"image/png\") {\n          var reader = new FileReader();\n\n          reader.onload = function (e) {// $('.uploadedImageFromLocl').attr('src', e.target.result);      \n          };\n\n          reader.readAsDataURL(event.currentTarget.files[0]);\n          var file = event.currentTarget.files[0];\n\n          if (file) {\n            addImgsToS3Function(file, self);\n          }\n        } else {\n          swal({\n            position: 'top-right',\n            type: 'error',\n            title: 'Please select image',\n            showConfirmButton: false,\n            timer: 1500\n          });\n        }\n      }\n    }\n\n    return handleUpload;\n  }();\n\n  AddImagesVideo.prototype.handleVideoUpload = function () {\n    function handleVideoUpload(event) {\n      event.preventDefault();\n      var self = this;\n\n      if (event.currentTarget.files && event.currentTarget.files[0]) {\n        var dataImg = event.currentTarget.files[0];\n\n        if (dataImg.type == \"video/mp4\") {\n          var reader = new FileReader();\n\n          reader.onload = function (e) {// $('.uploadedImageFromLocl').attr('src', e.target.result);       \n          };\n\n          reader.readAsDataURL(event.currentTarget.files[0]);\n          var file = event.currentTarget.files[0];\n\n          if (file) {\n            addTicketVideoS3Function(file, self);\n          }\n        } else {\n          swal({\n            position: 'top-right',\n            type: 'error',\n            title: 'Please select Video',\n            showConfirmButton: false,\n            timer: 1500\n          });\n        }\n      }\n    }\n\n    return handleVideoUpload;\n  }();\n\n  AddImagesVideo.prototype.render = function () {\n    function render() {\n      return React.createElement(\n        \"div\",\n        null,\n        React.createElement(\n          \"div\",\n          {\n            className: \"col-lg-10 col-md-10 col-lg-offset-1 col-md-offset-1 choosefilebox\"\n          },\n          React.createElement(\n            \"div\",\n            {\n              className: \"col-lg-12 wholeborder \"\n            },\n            React.createElement(\n              \"form\",\n              {\n                action: \"/action_page.php\"\n              },\n              React.createElement(\n                \"div\",\n                {\n                  className: \"imgtitile col-lg-12\"\n                },\n                React.createElement(\n                  \"div\",\n                  {\n                    className: \"col-lg-12 Selectimg\"\n                  },\n                  \" Select images:\"\n                ),\n                React.createElement(\"input\", {\n                  type: \"file\",\n                  ref: \"ticketImageFile\",\n                  id: \"s3file\",\n                  name: \"ticketImageFile\",\n                  onChange: this.handleUpload.bind(this),\n                  className: \"col-lg-7\",\n                  name: \"img\",\n                  multiple: true\n                })\n              )\n            ),\n            !this.props.loading ? React.createElement(\n              \"div\",\n              {\n                className: \"col-lg-12 imgbox\"\n              },\n              this.props.ticketImages ? this.props.ticketImages.map(function (ticketImages, index) {\n                return React.createElement(\n                  \"div\",\n                  {\n                    className: \"col-lg-3 imgbrPre\",\n                    key: index\n                  },\n                  React.createElement(\n                    \"div\",\n                    {\n                      className: \"imgbr\"\n                    },\n                    React.createElement(\"img\", {\n                      src: ticketImages.imageLink,\n                      className: \"img1 img-responsive\"\n                    }),\n                    \"          \"\n                  )\n                );\n              }) : \"\"\n            ) : \"\"\n          )\n        ),\n        React.createElement(\n          \"div\",\n          {\n            className: \"col-lg-10 col-md-10 col-lg-offset-1 col-md-offset-1 choosefilebox\"\n          },\n          React.createElement(\n            \"div\",\n            {\n              className: \"col-lg-12 wholeborder \"\n            },\n            React.createElement(\n              \"form\",\n              {\n                action: \"/action_page.php\"\n              },\n              React.createElement(\n                \"div\",\n                {\n                  className: \"imgtitile col-lg-12\"\n                },\n                React.createElement(\n                  \"div\",\n                  {\n                    className: \"col-lg-12 Selectimg\"\n                  },\n                  \" Select Video:\"\n                ),\n                React.createElement(\"input\", {\n                  type: \"file\",\n                  ref: \"ticketVideoFile\",\n                  id: \"s3file\",\n                  name: \"ticketVideoFile\",\n                  onChange: this.handleVideoUpload.bind(this),\n                  className: \"col-lg-7\",\n                  name: \"img\",\n                  multiple: true\n                })\n              )\n            ),\n            !this.props.loading1 ? React.createElement(\n              \"div\",\n              {\n                className: \"col-lg-12 imgbox\"\n              },\n              this.props.ticketVideo ? this.props.ticketVideo.map(function (ticketVideo, index) {\n                return React.createElement(\n                  \"div\",\n                  {\n                    className: \"col-lg-4 imgbrvid\",\n                    key: index\n                  },\n                  React.createElement(\n                    \"video\",\n                    {\n                      controls: true\n                    },\n                    React.createElement(\"source\", {\n                      src: ticketVideo.videoLink,\n                      type: \"video/mp4\"\n                    })\n                  )\n                );\n              }) : \"\"\n            ) : \"\"\n          )\n        )\n      );\n    }\n\n    return render;\n  }();\n\n  return AddImagesVideo;\n}(TrackerReact(Component));\n\nAddImagesVideoContainer = withTracker(function (props) {\n  var postHandle = Meteor.subscribe('allTicketImages');\n  var postHandle1 = Meteor.subscribe('allTicketVideo');\n  var ticketImages = TempTicketImages.find({}).fetch() || [];\n  console.log(\"ticketImages\", ticketImages);\n  var ticketVideo = TempTicketVideo.find({}).fetch() || [];\n  console.log(\"ticketVideo\", ticketVideo);\n  var loading = !postHandle.ready();\n  var loading1 = !postHandle1.ready(); // if(_id){\n\n  return {\n    loading: loading,\n    loading1: loading1,\n    ticketImages: ticketImages,\n    ticketVideo: ticketVideo\n  };\n})(AddImagesVideo);\nmodule.exportDefault(AddImagesVideoContainer);","map":{"version":3,"sources":["imports/dashboard/ticketManagement/AddImagesVideo.jsx"],"names":["Meteor","module","watch","require","v","Mongo","React","Component","render","TrackerReact","withTracker","Validation","validator","Tracker","browserHistory","Link","TempTicketImages","TempTicketVideo","AddImagesVideo","props","state","handleUpload","event","preventDefault","self","currentTarget","files","dataImg","type","reader","FileReader","onload","e","readAsDataURL","file","addImgsToS3Function","swal","position","title","showConfirmButton","timer","handleVideoUpload","addTicketVideoS3Function","bind","loading","ticketImages","map","index","imageLink","loading1","ticketVideo","videoLink","AddImagesVideoContainer","postHandle","subscribe","postHandle1","find","fetch","console","log","ready","exportDefault"],"mappings":"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","file":"imports/dashboard/ticketManagement/AddImagesVideo.jsx.map","sourcesContent":["import { Meteor } from 'meteor/meteor';\nimport { Mongo } from 'meteor/mongo';\nimport React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport TrackerReact from 'meteor/ultimatejs:tracker-react';\nimport { withTracker } from 'meteor/react-meteor-data';\nimport Validation from 'react-validation';\nimport validator from 'validator';\nimport {Tracker} from 'meteor/tracker';\nimport { browserHistory } from 'react-router'; \nimport { Link } from 'react-router';\nimport { TempTicketImages } from './api/TempUpload.js';\nimport { TempTicketVideo } from './api/TempUpload.js';\nclass AddImagesVideo extends TrackerReact(Component){\n\t constructor(props){\n    super(props);\n    this.state = { \n    }\n  }\n  handleUpload(event){\n    event.preventDefault();\n    let self = this;\n     // this.setState({isUploading: true});\n    if (event.currentTarget.files && event.currentTarget.files[0]) { \n      var dataImg =event.currentTarget.files[0];  \n       if(dataImg.type == \"image/jpeg\" || dataImg.type == \"image/png\"){      \n         var reader = new FileReader();        reader.onload = function (e) {          \n           // $('.uploadedImageFromLocl').attr('src', e.target.result);      \n         };       \n         reader.readAsDataURL(event.currentTarget.files[0]);      \n         var file = event.currentTarget.files[0];      \n          if (file) {         \n            addImgsToS3Function(file,self);       \n          }   \n       } else { \n        swal({    \n           position: 'top-right',     \n           type: 'error',    \n           title: 'Please select image',       \n           showConfirmButton: false,      \n           timer: 1500      \n         });   \n      }\n    }\n  }\n  handleVideoUpload(event){\n    event.preventDefault();\n    let self = this;\n    if (event.currentTarget.files && event.currentTarget.files[0]) {  \n      var dataImg =event.currentTarget.files[0];   \n       if(dataImg.type == \"video/mp4\"){       \n         var reader = new FileReader();        \n          reader.onload = function (e) {           \n           // $('.uploadedImageFromLocl').attr('src', e.target.result);       \n         };        \n         reader.readAsDataURL(event.currentTarget.files[0]);       \n         var file = event.currentTarget.files[0];       \n          if (file) {          \n            addTicketVideoS3Function(file,self);        \n          }    \n       } else {  \n        swal({     \n           position: 'top-right',      \n           type: 'error',     \n           title: 'Please select Video',        \n           showConfirmButton: false,       \n           timer: 1500       \n         });    \n      }\n    }\n  }\n\n\trender(){\n     return( \n      <div>\n       <div className=\"col-lg-10 col-md-10 col-lg-offset-1 col-md-offset-1 choosefilebox\">\n\t        <div className=\"col-lg-12 wholeborder \">\n\t            <form action=\"/action_page.php\">\n\t\t            <div className=\"imgtitile col-lg-12\">\n\t\t\t          <div className=\"col-lg-12 Selectimg\"> Select images:</div> \n\t\t\t\t          <input type=\"file\" ref=\"ticketImageFile\" id=\"s3file\" name=\"ticketImageFile\"  onChange={this.handleUpload.bind(this)} className=\"col-lg-7\" name=\"img\" multiple />\n\t\t\t          </div>\n\t           </form>\n \n            {!this.props.loading ?\n            \t<div className=\"col-lg-12 imgbox\">\n               {this.props.ticketImages ?\n               \t this.props.ticketImages.map((ticketImages,index) =>{\n               \t \t return(\n               \t \t \t  <div className=\"col-lg-3 imgbrPre\" key={index}>\n\t\t\t\t\t\t\t\t        <div className=\"imgbr\">\n\t\t\t\t\t\t\t\t          <img src={ticketImages.imageLink} className=\"img1 img-responsive\" />\n\t\t\t\t{/*\t\t\t\t        <i className=\"fa fa-times-circle\"></i>\n\t\t\t\t*/}\t\t\t\t      </div>\n\t\t\t\t\t\t\t        </div>\n               \t \t \t);\n               \t })\n               \t :\n               \t \"\"\n               }\n\t\t\t\t        \n\t\t\t        </div>\n\t\t\t        :\n              \"\"\n            }\n\t          \n\t       </div>\n      </div>\n\n    <div className=\"col-lg-10 col-md-10 col-lg-offset-1 col-md-offset-1 choosefilebox\">\n       <div className=\"col-lg-12 wholeborder \">\n\t        <form action=\"/action_page.php\">\n\t        <div className=\"imgtitile col-lg-12\">\n\t          <div className=\"col-lg-12 Selectimg\"> Select Video:</div> \n\t\t\t\t      <input type=\"file\" ref=\"ticketVideoFile\" id=\"s3file\" name=\"ticketVideoFile\"  onChange={this.handleVideoUpload.bind(this)} className=\"col-lg-7\" name=\"img\" multiple />\n\t          {/*<input type=\"submit\" className=\"col-lg-1 btn btn-primary\" />*/}\n\t          </div>\n\t        </form>\n\n\t         {!this.props.loading1 ?\n            \t<div className=\"col-lg-12 imgbox\">\n               {this.props.ticketVideo ?\n               \t this.props.ticketVideo.map((ticketVideo,index) =>{\n               \t \t return(\n               \t \t \t  <div className=\"col-lg-4 imgbrvid\" key={index}>\n\t\t\t\t\t\t\t\t          <video controls>\n\t\t\t\t\t\t\t\t\t          <source src={ticketVideo.videoLink} type=\"video/mp4\" />\n\t\t\t\t\t\t\t\t\t        </video>\n\t\t\t\t\t\t\t        </div>\n               \t \t \t);\n               \t })\n               \t :\n               \t \"\"\n               }\n\t\t\t\t        \n\t\t\t        </div>\n\t\t\t        :\n              \"\"\n            }\n\n\t      </div>\n      </div>\n\n        </div>\n     ); \n   }        \n}\nAddImagesVideoContainer = withTracker(props => {  \n\n    const postHandle   = Meteor.subscribe('allTicketImages');\n    const postHandle1  = Meteor.subscribe('allTicketVideo');\n    const ticketImages = TempTicketImages.find({}).fetch() || [];  \n    console.log(\"ticketImages\",ticketImages);\n    const ticketVideo = TempTicketVideo.find({}).fetch() || [];  \n    console.log(\"ticketVideo\",ticketVideo);\n    const loading     = !postHandle.ready();\n    const loading1    = !postHandle1.ready();\n\n    // if(_id){\n      return {\n          loading : loading,\n          loading1 : loading1,\n          ticketImages : ticketImages,\n          ticketVideo  : ticketVideo,\n      };\n})(AddImagesVideo);\nexport default AddImagesVideoContainer;"]},"hash":"91c72c9ad98007b71f13c7a78d90db006148f493"}
