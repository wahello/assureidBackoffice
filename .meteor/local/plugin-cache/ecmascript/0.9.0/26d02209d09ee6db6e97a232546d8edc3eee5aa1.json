{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"packages/ostrio:files/worker.js","filenameRelative":"packages/ostrio:files/worker.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"packages/ostrio:files/worker.js.map","sourceFileName":"packages/ostrio:files/worker.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"worker"},"ignored":false,"code":";\n\n(function (root) {\n  \"use strict\";\n\n  root.onmessage = function (e) {\n    var _chunk = e.data.f.slice(e.data.cs * (e.data.cc - 1), e.data.cs * e.data.cc);\n\n    if (e.data.ib === true) {\n      postMessage({\n        bin: _chunk,\n        chunkId: e.data.cc\n      });\n    } else {\n      var fileReader;\n\n      if (root.FileReader) {\n        fileReader = new FileReader();\n\n        fileReader.onloadend = function (chunk) {\n          postMessage({\n            bin: (fileReader.result || chunk.srcElement || chunk.target).split(',')[1],\n            chunkId: e.data.cc,\n            s: e.data.s\n          });\n        };\n\n        fileReader.onerror = function (error) {\n          throw (error.target || error.srcElement).error;\n        };\n\n        fileReader.readAsDataURL(_chunk);\n      } else if (root.FileReaderSync) {\n        fileReader = new FileReaderSync();\n        postMessage({\n          bin: fileReader.readAsDataURL(_chunk).split(',')[1],\n          chunkId: e.data.cc\n        });\n      } else {\n        postMessage({\n          bin: null,\n          chunkId: e.data.cc,\n          error: 'File API is not supported in WebWorker!'\n        });\n      }\n    }\n\n    return;\n  };\n})(this);","map":{"version":3,"sources":["packages/ostrio:files/worker.js"],"names":["root","onmessage","e","_chunk","data","f","slice","cs","cc","ib","postMessage","bin","chunkId","fileReader","FileReader","onloadend","chunk","result","srcElement","target","split","s","onerror","error","readAsDataURL","FileReaderSync"],"mappings":"AAAA;;AAAE,WAASA,IAAT,EAAe;AACf;;AACAA,OAAKC,SAAL,GAAiB,UAASC,CAAT,EAAY;AAC3B,QAAIC,SAASD,EAAEE,IAAF,CAAOC,CAAP,CAASC,KAAT,CAAeJ,EAAEE,IAAF,CAAOG,EAAP,IAAaL,EAAEE,IAAF,CAAOI,EAAP,GAAY,CAAzB,CAAf,EAA4CN,EAAEE,IAAF,CAAOG,EAAP,GAAYL,EAAEE,IAAF,CAAOI,EAA/D,CAAb;;AACA,QAAIN,EAAEE,IAAF,CAAOK,EAAP,KAAc,IAAlB,EAAwB;AACtBC,kBAAY;AAACC,aAAKR,MAAN;AAAcS,iBAASV,EAAEE,IAAF,CAAOI;AAA9B,OAAZ;AACD,KAFD,MAEO;AACL,UAAIK,UAAJ;;AACA,UAAIb,KAAKc,UAAT,EAAqB;AACnBD,qBAAa,IAAIC,UAAJ,EAAb;;AACAD,mBAAWE,SAAX,GAAuB,UAASC,KAAT,EAAgB;AACrCN,sBAAY;AAACC,iBAAK,CAACE,WAAWI,MAAX,IAAqBD,MAAME,UAA3B,IAAyCF,MAAMG,MAAhD,EAAwDC,KAAxD,CAA8D,GAA9D,EAAmE,CAAnE,CAAN;AAA6ER,qBAASV,EAAEE,IAAF,CAAOI,EAA7F;AAAiGa,eAAGnB,EAAEE,IAAF,CAAOiB;AAA3G,WAAZ;AACD,SAFD;;AAIAR,mBAAWS,OAAX,GAAqB,UAASC,KAAT,EAAgB;AACnC,gBAAM,CAACA,MAAMJ,MAAN,IAAgBI,MAAML,UAAvB,EAAmCK,KAAzC;AACD,SAFD;;AAIAV,mBAAWW,aAAX,CAAyBrB,MAAzB;AACD,OAXD,MAWO,IAAIH,KAAKyB,cAAT,EAAyB;AAC9BZ,qBAAa,IAAIY,cAAJ,EAAb;AACAf,oBAAY;AAACC,eAAKE,WAAWW,aAAX,CAAyBrB,MAAzB,EAAiCiB,KAAjC,CAAuC,GAAvC,EAA4C,CAA5C,CAAN;AAAsDR,mBAASV,EAAEE,IAAF,CAAOI;AAAtE,SAAZ;AACD,OAHM,MAGA;AACLE,oBAAY;AAACC,eAAK,IAAN;AAAYC,mBAASV,EAAEE,IAAF,CAAOI,EAA5B;AAAgCe,iBAAO;AAAvC,SAAZ;AACD;AACF;;AACD;AACD,GAzBD;AA0BD,CA5BC,EA4BA,IA5BA,CAAD","file":"packages/ostrio:files/worker.js.map","sourcesContent":[";(function(root) {\n  \"use strict\";\n  root.onmessage = function(e) {\n    var _chunk = e.data.f.slice(e.data.cs * (e.data.cc - 1), e.data.cs * e.data.cc);\n    if (e.data.ib === true) {\n      postMessage({bin: _chunk, chunkId: e.data.cc});\n    } else {\n      var fileReader;\n      if (root.FileReader) {\n        fileReader = new FileReader();\n        fileReader.onloadend = function(chunk) {\n          postMessage({bin: (fileReader.result || chunk.srcElement || chunk.target).split(',')[1], chunkId: e.data.cc, s: e.data.s});\n        };\n\n        fileReader.onerror = function(error) {\n          throw (error.target || error.srcElement).error;\n        };\n\n        fileReader.readAsDataURL(_chunk);\n      } else if (root.FileReaderSync) {\n        fileReader = new FileReaderSync();\n        postMessage({bin: fileReader.readAsDataURL(_chunk).split(',')[1], chunkId: e.data.cc});\n      } else {\n        postMessage({bin: null, chunkId: e.data.cc, error: 'File API is not supported in WebWorker!'});\n      }\n    }\n    return;\n  };\n}(this));"]},"hash":"26d02209d09ee6db6e97a232546d8edc3eee5aa1"}
