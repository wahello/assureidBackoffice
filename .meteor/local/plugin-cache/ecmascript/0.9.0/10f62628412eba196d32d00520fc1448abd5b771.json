{"metadata":{"usedHelpers":["inherits","possibleConstructorReturn","classCallCheck","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"meteor/meteor","imported":["Meteor"],"specifiers":[{"kind":"named","imported":"Meteor","local":"Meteor"}]},{"source":"meteor/mongo","imported":["Mongo"],"specifiers":[{"kind":"named","imported":"Mongo","local":"Mongo"}]},{"source":"react","imported":["default","Component"],"specifiers":[{"kind":"named","imported":"default","local":"React"},{"kind":"named","imported":"Component","local":"Component"}]},{"source":"react-dom","imported":["render"],"specifiers":[{"kind":"named","imported":"render","local":"render"}]},{"source":"meteor/ultimatejs:tracker-react","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"TrackerReact"}]},{"source":"meteor/react-meteor-data","imported":["withTracker"],"specifiers":[{"kind":"named","imported":"withTracker","local":"withTracker"}]},{"source":"react-validation","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"Validation"}]},{"source":"validator","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"validator"}]},{"source":"meteor/tracker","imported":["Tracker"],"specifiers":[{"kind":"named","imported":"Tracker","local":"Tracker"}]},{"source":"../api/BlogPages","imported":["BlogPages"],"specifiers":[{"kind":"named","imported":"BlogPages","local":"BlogPages"}]},{"source":"../api/BlogPages","imported":["TempBlogImages"],"specifiers":[{"kind":"named","imported":"TempBlogImages","local":"TempBlogImages"}]},{"source":"react-router","imported":["Link"],"specifiers":[{"kind":"named","imported":"Link","local":"Link"}]},{"source":"react-router","imported":["browserHistory"],"specifiers":[{"kind":"named","imported":"browserHistory","local":"browserHistory"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"imports/dashboard/reactCMS/components/EditBlog.jsx","filenameRelative":"imports/dashboard/reactCMS/components/EditBlog.jsx","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/dashboard/reactCMS/components/EditBlog.jsx.map","sourceFileName":"imports/dashboard/reactCMS/components/EditBlog.jsx","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"EditBlog"},"ignored":false,"code":"var _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar Meteor = void 0;\nmodule.watch(require(\"meteor/meteor\"), {\n  Meteor: function (v) {\n    Meteor = v;\n  }\n}, 0);\nvar Mongo = void 0;\nmodule.watch(require(\"meteor/mongo\"), {\n  Mongo: function (v) {\n    Mongo = v;\n  }\n}, 1);\nvar React = void 0,\n    Component = void 0;\nmodule.watch(require(\"react\"), {\n  \"default\": function (v) {\n    React = v;\n  },\n  Component: function (v) {\n    Component = v;\n  }\n}, 2);\nvar render = void 0;\nmodule.watch(require(\"react-dom\"), {\n  render: function (v) {\n    render = v;\n  }\n}, 3);\nvar TrackerReact = void 0;\nmodule.watch(require(\"meteor/ultimatejs:tracker-react\"), {\n  \"default\": function (v) {\n    TrackerReact = v;\n  }\n}, 4);\nvar withTracker = void 0;\nmodule.watch(require(\"meteor/react-meteor-data\"), {\n  withTracker: function (v) {\n    withTracker = v;\n  }\n}, 5);\nvar Validation = void 0;\nmodule.watch(require(\"react-validation\"), {\n  \"default\": function (v) {\n    Validation = v;\n  }\n}, 6);\nvar validator = void 0;\nmodule.watch(require(\"validator\"), {\n  \"default\": function (v) {\n    validator = v;\n  }\n}, 7);\nvar Tracker = void 0;\nmodule.watch(require(\"meteor/tracker\"), {\n  Tracker: function (v) {\n    Tracker = v;\n  }\n}, 8);\nvar BlogPages = void 0;\nmodule.watch(require(\"../api/BlogPages\"), {\n  BlogPages: function (v) {\n    BlogPages = v;\n  }\n}, 9);\nvar TempBlogImages = void 0;\nmodule.watch(require(\"../api/BlogPages\"), {\n  TempBlogImages: function (v) {\n    TempBlogImages = v;\n  }\n}, 10);\nvar Link = void 0;\nmodule.watch(require(\"react-router\"), {\n  Link: function (v) {\n    Link = v;\n  }\n}, 11);\nvar browserHistory = void 0;\nmodule.watch(require(\"react-router\"), {\n  browserHistory: function (v) {\n    browserHistory = v;\n  }\n}, 12);\n\nvar EditBlog = function (_TrackerReact) {\n  (0, _inherits3.default)(EditBlog, _TrackerReact);\n\n  function EditBlog(props) {\n    (0, _classCallCheck3.default)(this, EditBlog);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _TrackerReact.call(this, props));\n\n    _this.state = {\n      blogPageName: '',\n      blogPageBody: '',\n      id: '',\n      blogPages: [],\n      blogMediaType: '',\n      youTubeVideoLink: '',\n      blogImageFile: '',\n      blogLocalVideo: '',\n      \"subscription\": {\n        \"singleBlog\": Meteor.subscribe(\"singleBlog\"),\n        \"projectSettingsPublish\": Meteor.subscribe(\"projectSettingsPublish\"),\n        \"tempBlogImages\": Meteor.subscribe(\"tempBlogImages\")\n      }\n    };\n    _this.handleChange = _this.handleChange.bind(_this);\n    return _this;\n  }\n\n  EditBlog.prototype.componentWillReceiveProps = function () {\n    function componentWillReceiveProps(nextProps) {\n      if (!nextProps.loading) {\n        if (nextProps.blogPages) {\n          this.setState({\n            blogPageName: nextProps.blogPages.blogPageName,\n            blogPageBody: nextProps.blogPages.blogPageBody,\n            youTubeVideoLink: nextProps.blogPages.youTubeVideoLink,\n            blogImageFile: nextProps.blogPages.blogImageFile,\n            blogLocalVideo: nextProps.blogPages.blogLocalVideo,\n            blogMediaType: nextProps.blogPages.blogMediaType,\n            id: nextProps.blogPages._id\n          });\n        }\n      } else {\n        this.setState({\n          blogPageName: '',\n          blogPageBody: '',\n          youTubeVideoLink: '',\n          blogImageFile: '',\n          blogLocalVideo: '',\n          blogMediaType: '',\n          id: ''\n        });\n      }\n\n      this.handleChange = this.handleChange.bind(this);\n    }\n\n    return componentWillReceiveProps;\n  }();\n\n  EditBlog.prototype.componentDidMount = function () {\n    function componentDidMount() {\n      var _this2 = this;\n\n      $(\"html,body\").scrollTop(0);\n\n      if (!$(\"#adminLte\").length > 0 && !$('body').hasClass('adminLte')) {\n        var adminLte = document.createElement(\"script\");\n        adminLte.type = \"text/javascript\";\n        adminLte.src = \"/js/adminLte.js\";\n        $(\"body\").append(adminLte);\n      }\n\n      this.blogPageTracker = Tracker.autorun(function () {\n        Meteor.subscribe(\"blogPages\");\n        var blogPages = BlogPages.find().fetch();\n\n        _this2.setState({\n          blogPages: blogPages\n        });\n      });\n      this.tempBlogImageTracker = Tracker.autorun(function () {\n        Meteor.subscribe('tempBlogImages');\n        var tempBlogImages = TempBlogImages.find().fetch();\n\n        _this2.setState({\n          tempBlogImages: tempBlogImages\n        });\n      });\n    }\n\n    return componentDidMount;\n  }();\n\n  EditBlog.prototype.componentWillMount = function () {\n    function componentWillMount() {// if (!!!$(\"link[href='/css/dashboard.css']\").length > 0) {\n      //   var dashboardCss = document.createElement(\"link\");\n      //   dashboardCss.type = \"text/css\"; \n      //   dashboardCss.rel = \"stylesheet\";\n      //   dashboardCss.href = \"/css/dashboard.css\"; \n      //   document.head.append(dashboardCss);\n      // }\n    }\n\n    return componentWillMount;\n  }();\n\n  EditBlog.prototype.componentWillUnmount = function () {\n    function componentWillUnmount() {\n      $(\"script[src='/js/adminLte.js']\").remove(); // $(\"link[href='/css/dashboard.css']\").remove(); \n\n      if (this.blogPageTracker) {\n        this.blogPageTracker.stop();\n      }\n\n      if (this.tempBlogImageTracker) {\n        this.tempBlogImageTracker.stop();\n      }\n    }\n\n    return componentWillUnmount;\n  }();\n\n  EditBlog.prototype.handleChange = function () {\n    function handleChange(event) {\n      var _setState;\n\n      var target = event.target;\n      var name = target.name;\n      this.setState((_setState = {}, _setState[name] = event.target.value, _setState));\n    }\n\n    return handleChange;\n  }();\n\n  EditBlog.prototype.handleUpload = function () {\n    function handleUpload(event) {\n      event.preventDefault();\n      var self = this;\n      this.setState({\n        isUploading: true\n      }); //  this.calculateProgress();\n      // if (event.currentTarget.files && event.currentTarget.files[0]) {\n      //     var file = event.currentTarget.files[0];\n      //     if (file) {\n      //         addServicesImgsToS3Function(file,self);\n      //     }\n      // }\n\n      if (event.currentTarget.files && event.currentTarget.files[0]) {\n        var dataImg = event.currentTarget.files[0];\n\n        if (dataImg.type == \"image/jpeg\" || dataImg.type == \"image/png\") {\n          var reader = new FileReader();\n\n          reader.onload = function (e) {\n            $('.uploadedImageFromLocl').attr('src', e.target.result);\n          };\n\n          reader.readAsDataURL(event.currentTarget.files[0]);\n          var file = event.currentTarget.files[0];\n\n          if (file) {\n            addBlogImagesToS3Function(file, self, \"image\");\n          }\n        } else {\n          swal({\n            position: 'top-right',\n            type: 'error',\n            title: 'Please select image',\n            showConfirmButton: false,\n            timer: 1500\n          });\n        }\n      }\n    }\n\n    return handleUpload;\n  }();\n\n  EditBlog.prototype.handleVideoUpload = function () {\n    function handleVideoUpload(event) {\n      event.preventDefault();\n      var self = this;\n\n      if (event.currentTarget.files && event.currentTarget.files[0]) {\n        var dataImg = event.currentTarget.files[0];\n\n        if (dataImg.type == \"video/mp4\") {\n          var reader = new FileReader();\n\n          reader.onload = function (e) {// $('.uploadedImageFromLocl').attr('src', e.target.result);       \n          };\n\n          reader.readAsDataURL(event.currentTarget.files[0]);\n          var file = event.currentTarget.files[0];\n\n          if (file) {\n            addBlogImagesToS3Function(file, self, \"video\");\n          }\n        } else {\n          swal({\n            position: 'top-right',\n            type: 'error',\n            title: 'Please select Video',\n            showConfirmButton: false,\n            timer: 1500\n          });\n        }\n      }\n    }\n\n    return handleVideoUpload;\n  }();\n\n  EditBlog.prototype.handleUpdate = function () {\n    function handleUpdate(e) {\n      e.preventDefault();\n      var blogPageName = this.refs.blogPageName.value;\n      var blogPageBody = this.refs.blogPageBody.value;\n      var youTubeVideoLink = this.refs.youTubeVideoLink.value;\n      var blogMediaType = this.state.blogMediaType;\n      var userId = Meteor.userId();\n      var lastModified = new Date();\n      var id = this.props.params.id;\n\n      if (id) {\n        Meteor.call('updateBlogPage', id, blogPageName, blogMediaType, youTubeVideoLink, blogPageBody, userId, lastModified, function (error, result) {\n          if (error) {\n            console.log(error.reason);\n          } else {\n            swal(\"Done\", \"Blog has been updated!.\", \"success\");\n            var path = \"/admin/ListOfBlogs\";\n            browserHistory.replace(path);\n            $('.uploadedImageFromLocl').attr('src', \"\");\n            $('.blogPageName').val(\"\");\n            $('.youTubeVideoLink').val(\"\");\n            $('.blogPageBody').val(\"\");\n          }\n        });\n      }\n    }\n\n    return handleUpdate;\n  }();\n\n  EditBlog.prototype.mediaCheck = function () {\n    function mediaCheck(event) {\n      event.preventDefault();\n      var getMediaType = $(event.currentTarget).attr('data-videoType');\n      this.setState({\n        \"blogMediaType\": getMediaType\n      });\n    }\n\n    return mediaCheck;\n  }();\n\n  EditBlog.prototype.render = function () {\n    function render() {\n      return React.createElement(\n        \"div\",\n        null,\n        React.createElement(\n          \"div\",\n          {\n            className: \"content-wrapper\"\n          },\n          React.createElement(\n            \"section\",\n            {\n              className: \"content-header\"\n            },\n            React.createElement(\n              \"h1\",\n              null,\n              \" Blog Management \"\n            ),\n            React.createElement(\n              \"ol\",\n              {\n                className: \"breadcrumb\"\n              },\n              React.createElement(\n                \"li\",\n                null,\n                React.createElement(\n                  \"a\",\n                  {\n                    href: \"#\"\n                  },\n                  React.createElement(\"i\", {\n                    className: \"fa fa-files-o\"\n                  }),\n                  \" Blog Management\"\n                )\n              ),\n              React.createElement(\n                \"li\",\n                {\n                  className: \"active\"\n                },\n                \"Edit Blog\"\n              )\n            )\n          ),\n          React.createElement(\n            \"section\",\n            {\n              className: \"content\"\n            },\n            React.createElement(\n              \"div\",\n              {\n                className: \"row\"\n              },\n              React.createElement(\n                \"div\",\n                {\n                  className: \"col-md-12\"\n                },\n                React.createElement(\n                  \"div\",\n                  {\n                    className: \"box\"\n                  },\n                  React.createElement(\n                    \"div\",\n                    {\n                      className: \"box-header with-border\"\n                    },\n                    React.createElement(\n                      \"h3\",\n                      {\n                        className: \"box-title\"\n                      },\n                      \"Edit Blog\"\n                    )\n                  ),\n                  React.createElement(\n                    \"div\",\n                    {\n                      className: \"box-body\"\n                    },\n                    React.createElement(\n                      \"div\",\n                      {\n                        className: \"row\"\n                      },\n                      React.createElement(\n                        \"div\",\n                        {\n                          className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\"\n                        },\n                        React.createElement(\n                          \"div\",\n                          {\n                            className: \"notifWrapper col-lg-12 col-md-12 col-sm-12 col-xs-12\"\n                          },\n                          React.createElement(\n                            \"div\",\n                            {\n                              className: \"create-email-template-wrapper col-lg-12 col-md-12 col-sm-12 col-xs-12\"\n                            },\n                            React.createElement(\n                              \"form\",\n                              {\n                                className: \"newTemplateForm\"\n                              },\n                              React.createElement(\n                                \"div\",\n                                {\n                                  className: \"row inputrow\"\n                                },\n                                React.createElement(\n                                  \"div\",\n                                  {\n                                    className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\"\n                                  },\n                                  React.createElement(\n                                    \"div\",\n                                    {\n                                      className: \"form-group\"\n                                    },\n                                    React.createElement(\n                                      \"label\",\n                                      {\n                                        className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 label-category\"\n                                      },\n                                      \"Page Name\",\n                                      React.createElement(\n                                        \"span\",\n                                        {\n                                          className: \"astrick\"\n                                        },\n                                        \"*\"\n                                      ),\n                                      \":\"\n                                    ),\n                                    React.createElement(\"input\", {\n                                      type: \"text\",\n                                      ref: \"blogPageName\",\n                                      id: \"blogPageName\",\n                                      name: \"blogPageName\",\n                                      value: this.state.blogPageName,\n                                      onChange: this.handleChange,\n                                      className: \"templateName blogPageName col-lg-12 col-md-12 col-sm-12 col-xs-12 inputValid\"\n                                    })\n                                  )\n                                )\n                              ),\n                              React.createElement(\n                                \"div\",\n                                {\n                                  className: \"row inputrow\"\n                                },\n                                React.createElement(\n                                  \"div\",\n                                  {\n                                    className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\"\n                                  },\n                                  React.createElement(\n                                    \"div\",\n                                    {\n                                      className: \"form-group\"\n                                    },\n                                    React.createElement(\n                                      \"label\",\n                                      {\n                                        className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 label-category\"\n                                      },\n                                      \"Page Body\",\n                                      React.createElement(\n                                        \"span\",\n                                        {\n                                          className: \"astrick\"\n                                        },\n                                        \"*\"\n                                      ),\n                                      \":\"\n                                    ),\n                                    React.createElement(\n                                      \"div\",\n                                      {\n                                        className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding\"\n                                      },\n                                      React.createElement(\"textarea\", {\n                                        name: \"blogPageBody\",\n                                        ref: \"blogPageBody\",\n                                        value: this.state.blogPageBody,\n                                        onChange: this.handleChange,\n                                        className: \"form-control blogPageBody blogPageBody col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n                                        rows: \"10\"\n                                      })\n                                    )\n                                  )\n                                )\n                              ),\n                              React.createElement(\n                                \"div\",\n                                {\n                                  className: \"row inputrow subjectRow\"\n                                },\n                                React.createElement(\n                                  \"div\",\n                                  {\n                                    className: \"form-group col-lg-12 col-md-12 col-sm-12 col-xs-12\"\n                                  },\n                                  React.createElement(\n                                    \"label\",\n                                    {\n                                      className: \" floating-label\"\n                                    },\n                                    \"Video Upload\"\n                                  ),\n                                  React.createElement(\n                                    \"div\",\n                                    {\n                                      className: \"input-group\"\n                                    },\n                                    React.createElement(\"input\", {\n                                      type: \"file\",\n                                      ref: \"blogLocalVideo\",\n                                      id: \"s3file\",\n                                      name: \"blogLocalVideo\",\n                                      onChange: this.handleVideoUpload.bind(this),\n                                      className: \"subject col-lg-12 col-md-12 col-sm-12 col-xs-12 inputValid\"\n                                    }),\n                                    React.createElement(\n                                      \"span\",\n                                      {\n                                        className: this.state.blogMediaType == \"localVideo\" ? \"input-group-addon selectedVideoType videoCheck\" : \"input-group-addon unSelectedVideoType videoCheck\",\n                                        onClick: this.mediaCheck.bind(this),\n                                        \"data-videoType\": \"localVideo\"\n                                      },\n                                      React.createElement(\"i\", {\n                                        className: \"fa fa-check\",\n                                        \"aria-hidden\": \"true\"\n                                      })\n                                    )\n                                  )\n                                )\n                              ),\n                              React.createElement(\n                                \"div\",\n                                {\n                                  className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center\"\n                                },\n                                React.createElement(\n                                  \"p\",\n                                  null,\n                                  \"OR\"\n                                )\n                              ),\n                              React.createElement(\n                                \"div\",\n                                {\n                                  className: \"row inputrow subjectRow\"\n                                },\n                                React.createElement(\n                                  \"div\",\n                                  {\n                                    className: \"form-group col-lg-12 col-md-12 col-sm-12 col-xs-12\"\n                                  },\n                                  React.createElement(\n                                    \"label\",\n                                    {\n                                      className: \"floating-label\"\n                                    },\n                                    \"YouTube Video Link\"\n                                  ),\n                                  React.createElement(\n                                    \"div\",\n                                    {\n                                      className: \"input-group\"\n                                    },\n                                    React.createElement(\"input\", {\n                                      type: \"text\",\n                                      ref: \"youTubeVideoLink\",\n                                      id: \"youTubeVideoLink\",\n                                      name: \"youTubeVideoLink\",\n                                      onChange: this.handleChange,\n                                      value: this.state.youTubeVideoLink,\n                                      className: \"subject youTubeVideoLink col-lg-12 col-md-12 col-sm-12 col-xs-12 inputValid\",\n                                      required: true\n                                    }),\n                                    React.createElement(\n                                      \"span\",\n                                      {\n                                        className: this.state.blogMediaType == \"youTubeVideo\" ? \"input-group-addon selectedVideoType videoCheck\" : \"input-group-addon unSelectedVideoType videoCheck\",\n                                        onClick: this.mediaCheck.bind(this),\n                                        \"data-videoType\": \"youTubeVideo\"\n                                      },\n                                      React.createElement(\"i\", {\n                                        className: \"fa fa-check\",\n                                        \"aria-hidden\": \"true\"\n                                      })\n                                    )\n                                  )\n                                )\n                              ),\n                              React.createElement(\n                                \"div\",\n                                {\n                                  className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center\"\n                                },\n                                React.createElement(\n                                  \"p\",\n                                  null,\n                                  \"OR\"\n                                )\n                              ),\n                              React.createElement(\n                                \"div\",\n                                {\n                                  className: \"row inputrow subjectRow\"\n                                },\n                                React.createElement(\n                                  \"div\",\n                                  {\n                                    className: \"form-group col-lg-12 col-md-12 col-sm-12 col-xs-12\"\n                                  },\n                                  React.createElement(\n                                    \"div\",\n                                    {\n                                      className: \"col-lg-6 col-md-6 col-sm-6 col-xs-6 uploadedImageFromLocl1\"\n                                    },\n                                    React.createElement(\n                                      \"label\",\n                                      {\n                                        className: \"floating-label\"\n                                      },\n                                      \"Image Upload\"\n                                    ),\n                                    React.createElement(\n                                      \"div\",\n                                      {\n                                        className: \"input-group\"\n                                      },\n                                      React.createElement(\"input\", {\n                                        type: \"file\",\n                                        ref: \"blogImageFile\",\n                                        id: \"s3file\",\n                                        name: \"blogImageFile\",\n                                        onChange: this.handleUpload.bind(this),\n                                        className: \"subject col-lg-12 col-md-12 col-sm-12 col-xs-12 inputValid\"\n                                      }),\n                                      React.createElement(\n                                        \"span\",\n                                        {\n                                          className: this.state.blogMediaType == \"localImage\" ? \"input-group-addon selectedVideoType videoCheck\" : \"input-group-addon unSelectedVideoType videoCheck\",\n                                          onClick: this.mediaCheck.bind(this),\n                                          \"data-videoType\": \"localImage\"\n                                        },\n                                        React.createElement(\"i\", {\n                                          className: \"fa fa-check\",\n                                          \"aria-hidden\": \"true\"\n                                        })\n                                      )\n                                    )\n                                  ),\n                                  React.createElement(\n                                    \"div\",\n                                    {\n                                      className: \"col-lg-6 col-md-6 col-sm-6 col-xs-6 uploadedImageFromLocl2\"\n                                    },\n                                    React.createElement(\n                                      \"div\",\n                                      {\n                                        className: \"uploadedImageFromLocl3\"\n                                      },\n                                      React.createElement(\"img\", {\n                                        src: \"\",\n                                        alt: \"\",\n                                        className: \"img-responsive uploadedImageFromLocl\"\n                                      })\n                                    )\n                                  )\n                                )\n                              ),\n                              React.createElement(\n                                \"div\",\n                                {\n                                  className: \"savetemp col-lg-12 col-md-12 col-sm-12 col-xs-12\"\n                                },\n                                React.createElement(\n                                  \"button\",\n                                  {\n                                    onClick: this.handleUpdate.bind(this),\n                                    type: \"submit\",\n                                    className: \"col-lg-2 col-md-3 col-sm-6 col-xs-12 btn btn-primary pull-right sendtxtmsgbtn\"\n                                  },\n                                  \"UPDATE\"\n                                )\n                              )\n                            )\n                          )\n                        )\n                      )\n                    )\n                  )\n                )\n              )\n            )\n          )\n        )\n      );\n    }\n\n    return render;\n  }();\n\n  return EditBlog;\n}(TrackerReact(Component));\n\nEditPageContainer = withTracker(function (_ref) {\n  var params = _ref.params;\n  var _id = params.id;\n  var postHandle = Meteor.subscribe('singleBlog', _id); // var editServices   = this.props.params.id;\n  // console.log(\"Param\" +editServices);\n\n  var blogPages = BlogPages.findOne({\n    \"_id\": _id\n  }) || {};\n  var loading = !postHandle.ready();\n\n  if (_id) {\n    return {\n      loading: loading,\n      blogPages: blogPages\n    };\n  }\n})(EditBlog);\nmodule.exportDefault(EditPageContainer);","map":{"version":3,"sources":["imports/dashboard/reactCMS/components/EditBlog.jsx"],"names":["Meteor","module","watch","require","v","Mongo","React","Component","render","TrackerReact","withTracker","Validation","validator","Tracker","BlogPages","TempBlogImages","Link","browserHistory","EditBlog","props","state","blogPageName","blogPageBody","id","blogPages","blogMediaType","youTubeVideoLink","blogImageFile","blogLocalVideo","subscribe","handleChange","bind","componentWillReceiveProps","nextProps","loading","setState","_id","componentDidMount","$","scrollTop","length","hasClass","adminLte","document","createElement","type","src","append","blogPageTracker","autorun","find","fetch","tempBlogImageTracker","tempBlogImages","componentWillMount","componentWillUnmount","remove","stop","event","target","name","value","handleUpload","preventDefault","self","isUploading","currentTarget","files","dataImg","reader","FileReader","onload","e","attr","result","readAsDataURL","file","addBlogImagesToS3Function","swal","position","title","showConfirmButton","timer","handleVideoUpload","handleUpdate","refs","userId","lastModified","Date","params","call","error","console","log","reason","path","replace","val","mediaCheck","getMediaType","EditPageContainer","postHandle","findOne","ready","exportDefault"],"mappings":"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","file":"imports/dashboard/reactCMS/components/EditBlog.jsx.map","sourcesContent":["import { Meteor } from 'meteor/meteor';\nimport { Mongo } from 'meteor/mongo';\nimport React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport TrackerReact from 'meteor/ultimatejs:tracker-react';\n// import { createContainer } from 'meteor/react-meteor-data';\nimport { withTracker } from 'meteor/react-meteor-data';\nimport Validation from 'react-validation';\nimport validator from 'validator';\nimport {Tracker} from 'meteor/tracker';\n\nimport {BlogPages} from '../api/BlogPages';\nimport {TempBlogImages} from '../api/BlogPages';\nimport { Link } from 'react-router';\nimport {browserHistory} from 'react-router';\n\n\nclass EditBlog extends TrackerReact (Component){\n constructor(props) {\n    super(props); \n    this.state = {\n      blogPageName      : '',\n      blogPageBody      : '',\n      id                : '',\n      blogPages         : [],\n      blogMediaType     : '',\n      youTubeVideoLink  : '',\n      blogImageFile     : '', \n      blogLocalVideo    : '',\n      \"subscription\"  : {\n        \"singleBlog\" : Meteor.subscribe(\"singleBlog\"),\n        \"projectSettingsPublish\" : Meteor.subscribe(\"projectSettingsPublish\"),\n        \"tempBlogImages\" : Meteor.subscribe(\"tempBlogImages\"),\n      }  \n    }; \n    this.handleChange = this.handleChange.bind(this);\n  }\n  componentWillReceiveProps(nextProps) {\n    if(!nextProps.loading){\n      if(nextProps.blogPages){\n         this.setState({\n             blogPageName     : nextProps.blogPages.blogPageName,\n             blogPageBody     : nextProps.blogPages.blogPageBody,\n             youTubeVideoLink : nextProps.blogPages.youTubeVideoLink,\n             blogImageFile    : nextProps.blogPages.blogImageFile,\n             blogLocalVideo   : nextProps.blogPages.blogLocalVideo,\n             blogMediaType    : nextProps.blogPages.blogMediaType,\n             id               : nextProps.blogPages._id,\n         });\n      }\n    }else{\n      this.setState({\n             blogPageName        : '',\n             blogPageBody        : '',\n             youTubeVideoLink    : '',\n             blogImageFile       : '',\n             blogLocalVideo      : '',\n             blogMediaType       : '',\n             id                  : '',\n      });\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n  }\n  componentDidMount() {\n       $(\"html,body\").scrollTop(0);\n   if (!$(\"#adminLte\").length>0 && !$('body').hasClass('adminLte')) {\n     var adminLte = document.createElement(\"script\");  \n     adminLte.type=\"text/javascript\";  \n     adminLte.src = \"/js/adminLte.js\";  \n     $(\"body\").append(adminLte);  \n    }\n\n    this.blogPageTracker = Tracker.autorun( ()=> {\n      Meteor.subscribe(\"blogPages\");\n      const blogPages = BlogPages.find().fetch();\n      this.setState({blogPages: blogPages});\n    });\n    this.tempBlogImageTracker = Tracker.autorun(()=>{\n      Meteor.subscribe('tempBlogImages');\n      const tempBlogImages = TempBlogImages.find().fetch();\n      this.setState({tempBlogImages});\n    });\n  }\n  componentWillMount() {\n    // if (!!!$(\"link[href='/css/dashboard.css']\").length > 0) {\n    //   var dashboardCss = document.createElement(\"link\");\n    //   dashboardCss.type = \"text/css\"; \n    //   dashboardCss.rel = \"stylesheet\";\n    //   dashboardCss.href = \"/css/dashboard.css\"; \n    //   document.head.append(dashboardCss);\n    // }\n  }\n  componentWillUnmount() {\n   $(\"script[src='/js/adminLte.js']\").remove(); \n     // $(\"link[href='/css/dashboard.css']\").remove(); \n    if(this.blogPageTracker){\n      this.blogPageTracker.stop();\n    }\n    if(this.tempBlogImageTracker){\n      this.tempBlogImageTracker.stop();\n    }\n  }\n  handleChange(event){\n   const target = event.target;\n   const name   = target.name;\n   this.setState({\n    [name]: event.target.value,\n   });\n  }\n  handleUpload(event){\n    event.preventDefault();\n    let self = this;\n     this.setState({isUploading: true});\n     //  this.calculateProgress();\n    // if (event.currentTarget.files && event.currentTarget.files[0]) {\n    //     var file = event.currentTarget.files[0];\n    //     if (file) {\n    //         addServicesImgsToS3Function(file,self);\n    //     }\n    // }\n    if (event.currentTarget.files && event.currentTarget.files[0]) {  \n      var dataImg =event.currentTarget.files[0];   \n       if(dataImg.type == \"image/jpeg\" || dataImg.type == \"image/png\"){       \n         var reader = new FileReader();        reader.onload = function (e) {           \n           $('.uploadedImageFromLocl').attr('src', e.target.result);       \n         };        \n         reader.readAsDataURL(event.currentTarget.files[0]);       \n         var file = event.currentTarget.files[0];       \n          if (file) {          \n            addBlogImagesToS3Function(file,self,\"image\");        \n          }    \n       } else {  \n        swal({     \n           position: 'top-right',      \n           type: 'error',     \n           title: 'Please select image',        \n           showConfirmButton: false,       \n           timer: 1500       \n         });    \n      }\n    } \n  }\n  handleVideoUpload(event){\n    event.preventDefault();\n    let self = this;\n    if (event.currentTarget.files && event.currentTarget.files[0]) {  \n      var dataImg =event.currentTarget.files[0];   \n       if(dataImg.type == \"video/mp4\"){       \n         var reader = new FileReader();        \n          reader.onload = function (e) {           \n           // $('.uploadedImageFromLocl').attr('src', e.target.result);       \n         };        \n         reader.readAsDataURL(event.currentTarget.files[0]);       \n         var file = event.currentTarget.files[0];       \n          if (file) {          \n            addBlogImagesToS3Function(file,self,\"video\");        \n          }    \n       } else {  \n        swal({     \n           position: 'top-right',      \n           type: 'error',     \n           title: 'Please select Video',        \n           showConfirmButton: false,       \n           timer: 1500       \n         });    \n      }\n    }\n  }\n  handleUpdate(e){\n      e.preventDefault();\n      var blogPageName      = this.refs.blogPageName.value;\n      var blogPageBody      = this.refs.blogPageBody.value;\n      var youTubeVideoLink  = this.refs.youTubeVideoLink.value;\n      var blogMediaType     = this.state.blogMediaType;\n      var userId            = Meteor.userId();\n      var lastModified      = new Date();\n      var id                = this.props.params.id;\n      if (id) {\n         Meteor.call('updateBlogPage',id,blogPageName,blogMediaType,youTubeVideoLink,blogPageBody,userId,lastModified,function(error,result){\n            if(error){\n                console.log(error.reason);\n            }else{\n                 swal(\"Done\",\"Blog has been updated!.\",\"success\");\n                  var path = \"/admin/ListOfBlogs\";\n                 browserHistory.replace(path);\n                 $('.uploadedImageFromLocl').attr('src', \"\");\n                 $('.blogPageName').val(\"\");\n                 $('.youTubeVideoLink').val(\"\");\n                 $('.blogPageBody').val(\"\");\n            }\n        });\n      }\n         \n  }\n  mediaCheck(event){\n    event.preventDefault();\n    var getMediaType = $(event.currentTarget).attr('data-videoType');\n    this.setState({\n      \"blogMediaType\" : getMediaType,\n    });\n  }\n  \n  render(){\n      return(\n        <div>\n          {/* Content Wrapper. Contains page content */}\n          <div className=\"content-wrapper\">\n            {/* Content Header (Page header) */}\n            <section className=\"content-header\">\n              <h1> Blog Management </h1>\n              <ol className=\"breadcrumb\">\n                <li>\n                  <a href=\"#\"><i className=\"fa fa-files-o\" /> Blog Management</a></li>\n                <li className=\"active\">Edit Blog</li>\n              </ol>\n            </section>\n            {/* Main content */}\n            <section className=\"content\">\n              <div className=\"row\">\n                <div className=\"col-md-12\">\n                  <div className=\"box\">\n                    <div className=\"box-header with-border\">\n                     <h3 className=\"box-title\">\n                        Edit Blog\n                      </h3>\n                       \n                    </div>\n                    {/* /.box-header */}\n                    <div className=\"box-body\">\n                      <div className=\"row\">\n                        <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                          <div className=\"notifWrapper col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                  \t\t\t\t\t<div className=\"create-email-template-wrapper col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                  \t\t\t\t\t\t<form className=\"newTemplateForm\">    \n                                <div className=\"row inputrow\">\n                  \t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                  \t\t\t\t\t\t\t\t\t<div className=\"form-group\">\n                  \t\t\t\t\t\t\t\t\t <label className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 label-category\">Page Name<span className=\"astrick\">*</span>:</label>\n                  \t\t\t\t\t\t\t\t        <input type=\"text\" ref=\"blogPageName\" id=\"blogPageName\" name=\"blogPageName\" value={this.state.blogPageName}  onChange={this.handleChange} className=\"templateName blogPageName col-lg-12 col-md-12 col-sm-12 col-xs-12 inputValid\" />\n                  \t\t\t\t\t\t\t\t\t</div>\n                  \t\t\t\t\t\t\t\t</div>\n                  \t\t\t\t\t\t\t</div>\n                  \t\t\t\t\t\t\t<div className=\"row inputrow\">\n                  \t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                  \t\t\t\t\t\t\t\t\t<div className=\"form-group\">\n                  \t\t\t\t\t\t\t\t\t <label className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 label-category\">Page Body<span className=\"astrick\">*</span>:</label>\n                  \t\t\t\t\t\t\t\t\t <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding\">\n                                       <textarea  name=\"blogPageBody\" ref =\"blogPageBody\" value={this.state.blogPageBody} onChange={this.handleChange} className=\"form-control blogPageBody blogPageBody col-lg-12 col-md-12 col-sm-12 col-xs-12\" rows=\"10\"></textarea>\n                  \t\t\t\t\t\t\t\t\t \t {/*<div id=\"messageContent\" name=\"blogPageBody\"\n                                                          ref = \"blogPageBody\"\n                                                              ></div>*/}\n                  \t\t\t\t\t\t\t\t\t </div>\n                  \t\t\t\t\t\t\t\t\t</div>\n                  \t\t\t\t\t\t\t\t</div>\n                  \t\t\t\t\t\t\t</div>\n                                <div className=\"row inputrow subjectRow\">\n                                <div className=\"form-group col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                                  <label className=\" floating-label\">Video Upload</label>\n                                  <div className=\"input-group\">\n                                    <input type=\"file\" ref=\"blogLocalVideo\" id=\"s3file\" name=\"blogLocalVideo\"  onChange={this.handleVideoUpload.bind(this)}  className=\"subject col-lg-12 col-md-12 col-sm-12 col-xs-12 inputValid\" />\n                                    <span className={this.state.blogMediaType==\"localVideo\" ? \"input-group-addon selectedVideoType videoCheck\" : \"input-group-addon unSelectedVideoType videoCheck\"} onClick={this.mediaCheck.bind(this)} data-videoType=\"localVideo\"><i className=\"fa fa-check\" aria-hidden=\"true\"></i></span>\n                                  </div>\n                                </div>\n                              </div>\n                              <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center\">\n                                <p>OR</p>\n                              </div>\n\n                              <div className=\"row inputrow subjectRow\">\n                                <div className=\"form-group col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                                 <label className=\"floating-label\">YouTube Video Link</label>\n                                  <div className=\"input-group\">\n                                      <input type=\"text\" ref=\"youTubeVideoLink\" id=\"youTubeVideoLink\" name=\"youTubeVideoLink\" onChange={this.handleChange} value={this.state.youTubeVideoLink}  className=\"subject youTubeVideoLink col-lg-12 col-md-12 col-sm-12 col-xs-12 inputValid\" required/>\n                                      <span className={this.state.blogMediaType==\"youTubeVideo\" ? \"input-group-addon selectedVideoType videoCheck\" : \"input-group-addon unSelectedVideoType videoCheck\"} onClick={this.mediaCheck.bind(this)} data-videoType=\"youTubeVideo\"><i className=\"fa fa-check\" aria-hidden=\"true\"></i></span>\n                                  </div>\n                                </div>\n                              </div>\n                               <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center\">\n                                <p>OR</p>\n                              </div>\n                              <div className=\"row inputrow subjectRow\">\n                                <div className=\"form-group col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                                  <div className=\"col-lg-6 col-md-6 col-sm-6 col-xs-6 uploadedImageFromLocl1\">\n                                    <label className=\"floating-label\">Image Upload</label>\n                                    <div className=\"input-group\">\n                                        <input type=\"file\" ref=\"blogImageFile\" id=\"s3file\" name=\"blogImageFile\"  onChange={this.handleUpload.bind(this)}  className=\"subject col-lg-12 col-md-12 col-sm-12 col-xs-12 inputValid\"/>  \n                                        <span className={this.state.blogMediaType==\"localImage\" ? \"input-group-addon selectedVideoType videoCheck\" : \"input-group-addon unSelectedVideoType videoCheck\"} onClick={this.mediaCheck.bind(this)} data-videoType=\"localImage\"><i className=\"fa fa-check\" aria-hidden=\"true\"></i></span>\n                                    </div>\n                                  </div>\n                                  <div className=\"col-lg-6 col-md-6 col-sm-6 col-xs-6 uploadedImageFromLocl2\">     \n                                      <div className=\"uploadedImageFromLocl3\">        \n                                          <img src=\"\" alt=\"\" className=\"img-responsive uploadedImageFromLocl\"/>    \n                                      </div>\n                                  </div>\n                                </div>\n                              </div>\n                                \n                  \t\t\t\t\t\t\t<div className=\"savetemp col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                  \t\t\t\t\t\t\t\t<button onClick={this.handleUpdate.bind(this)} type=\"submit\" className=\"col-lg-2 col-md-3 col-sm-6 col-xs-12 btn btn-primary pull-right sendtxtmsgbtn\">UPDATE</button>\n                  \t\t\t\t\t\t\t</div>\n                  \t\t\t\t\t\t</form>\n                  \t\t\t\t\t</div>\n                            \n                  \t\t\t\t</div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </section>\n            {/* /.content */}\n          </div>\n          {/* /.content-wrapper */}\n        </div>\n\n      );\n    }\n}\nEditPageContainer = withTracker(({params}) => {\n    var _id = params.id;\n    const postHandle = Meteor.subscribe('singleBlog',_id);\n    // var editServices   = this.props.params.id;\n    // console.log(\"Param\" +editServices);\n    const blogPages = BlogPages.findOne({\"_id\":_id})|| {};\n    const loading   = !postHandle.ready();\n    \n    if(_id){\n      return {\n          loading,\n          blogPages,\n      };\n    }\n})(EditBlog);\n\nexport default EditPageContainer;\n\n"]},"hash":"10f62628412eba196d32d00520fc1448abd5b771"}
