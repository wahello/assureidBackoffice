{"metadata":{"usedHelpers":["inherits","possibleConstructorReturn","classCallCheck","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"react","imported":["default","Component"],"specifiers":[{"kind":"named","imported":"default","local":"React"},{"kind":"named","imported":"Component","local":"Component"}]},{"source":"react-dom","imported":["render"],"specifiers":[{"kind":"named","imported":"render","local":"render"}]},{"source":"meteor/ultimatejs:tracker-react","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"TrackerReact"}]},{"source":"react-router","imported":["browserHistory"],"specifiers":[{"kind":"named","imported":"browserHistory","local":"browserHistory"}]},{"source":"react-router","imported":["Link"],"specifiers":[{"kind":"named","imported":"Link","local":"Link"}]},{"source":"meteor/react-meteor-data","imported":["withTracker"],"specifiers":[{"kind":"named","imported":"withTracker","local":"withTracker"}]},{"source":"./api/Invoice.js","imported":["Invoice"],"specifiers":[{"kind":"named","imported":"Invoice","local":"Invoice"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"imports/website/ServiceProcess/ServiceInvoice.jsx","filenameRelative":"imports/website/ServiceProcess/ServiceInvoice.jsx","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/website/ServiceProcess/ServiceInvoice.jsx.map","sourceFileName":"imports/website/ServiceProcess/ServiceInvoice.jsx","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"ServiceInvoice"},"ignored":false,"code":"var _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar React = void 0,\n    Component = void 0;\nmodule.watch(require(\"react\"), {\n  \"default\": function (v) {\n    React = v;\n  },\n  Component: function (v) {\n    Component = v;\n  }\n}, 0);\nvar render = void 0;\nmodule.watch(require(\"react-dom\"), {\n  render: function (v) {\n    render = v;\n  }\n}, 1);\nvar TrackerReact = void 0;\nmodule.watch(require(\"meteor/ultimatejs:tracker-react\"), {\n  \"default\": function (v) {\n    TrackerReact = v;\n  }\n}, 2);\nvar browserHistory = void 0;\nmodule.watch(require(\"react-router\"), {\n  browserHistory: function (v) {\n    browserHistory = v;\n  }\n}, 3);\nvar Link = void 0;\nmodule.watch(require(\"react-router\"), {\n  Link: function (v) {\n    Link = v;\n  }\n}, 4);\nvar withTracker = void 0;\nmodule.watch(require(\"meteor/react-meteor-data\"), {\n  withTracker: function (v) {\n    withTracker = v;\n  }\n}, 5);\nvar Invoice = void 0;\nmodule.watch(require(\"./api/Invoice.js\"), {\n  Invoice: function (v) {\n    Invoice = v;\n  }\n}, 6);\n\nvar ServiceInvoice = function (_TrackerReact) {\n  (0, _inherits3.default)(ServiceInvoice, _TrackerReact);\n\n  function ServiceInvoice() {\n    (0, _classCallCheck3.default)(this, ServiceInvoice);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _TrackerReact.call(this));\n\n    _this.state = {\n      invoiceNo: '',\n      serviceId: '',\n      serviceName: '',\n      serviceRate: '',\n      serviceDuration: '',\n      userName: '',\n      userId: '',\n      companyName: '',\n      companyAddress: '',\n      companyCity: '',\n      companyState: '',\n      companyCountry: '',\n      companyPincode: '',\n      id: '',\n      date: '',\n      invoice: [],\n      tax: [],\n      \"subscription\": {\n        \"singleInvoice\": Meteor.subscribe(\"singleInvoice\")\n      }\n    };\n    return _this;\n  }\n\n  ServiceInvoice.prototype.componentWillMount = function () {\n    function componentWillMount() {}\n\n    return componentWillMount;\n  }();\n\n  ServiceInvoice.prototype.componentWillUnmount = function () {\n    function componentWillUnmount() {}\n\n    return componentWillUnmount;\n  }();\n\n  ServiceInvoice.prototype.componentDidMount = function () {\n    function componentDidMount() {}\n\n    return componentDidMount;\n  }();\n\n  ServiceInvoice.prototype.confirm = function () {\n    function confirm(event) {\n      event.preventDefault(); // var path = \"/PaymentGateway\";\n      // browserHistory.replace(path);\n\n      var invoiceDate = this.props.invoice.createdAt;\n      var invoiceNo = this.props.invoice.invoiceNo;\n      var serviceId = this.props.invoice.serviceId;\n      var serviceName = this.props.invoice.serviceName;\n      var serviceRate = this.props.invoice.serviceRate;\n      var serviceDuration = this.props.invoice.serviceDuration;\n      var userId = this.props.invoice.userId;\n      var userName = this.props.invoice.userName;\n      var totalAmount = this.refs.totalAmount.value;\n      Meteor.call(\"insertTempPayment\", invoiceDate, invoiceNo, serviceId, serviceName, serviceRate, serviceDuration, userId, userName, totalAmount, function (error, result) {\n        if (error) {\n          console.log(\"error\", error.reason);\n        } else {\n          swal(\"Done\");\n          var path = \"/PaymentGateway/\" + result;\n          browserHistory.replace(path);\n        }\n      });\n    }\n\n    return confirm;\n  }();\n\n  ServiceInvoice.prototype.totalAmount = function () {\n    function totalAmount() {\n      var totalTax = 0;\n      var rate = parseFloat(this.props.invoice.serviceRate);\n      var tax = this.props.invoice.tax;\n\n      for (var i = 0; i < tax.length; i++) {\n        totalTax += parseFloat(tax[i].applicableTax);\n      }\n\n      var totalAmount = rate + totalTax;\n      return totalAmount;\n    }\n\n    return totalAmount;\n  }();\n\n  ServiceInvoice.prototype.taxes = function () {\n    function taxes() {\n      return this.props.invoice.tax.map(function (tax, index) {\n        return React.createElement(\n          \"div\",\n          {\n            className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 invoiceValue\",\n            key: index\n          },\n          React.createElement(\n            \"span\",\n            {\n              className: \"pull-left\"\n            },\n            tax.taxType\n          ),\n          React.createElement(\n            \"span\",\n            {\n              className: \"pull-right\"\n            },\n            React.createElement(\"i\", {\n              className: \"fa fa-rupee\"\n            }),\n            \" \",\n            tax.applicableTax\n          )\n        );\n      });\n    }\n\n    return taxes;\n  }();\n\n  ServiceInvoice.prototype.render = function () {\n    function render() {\n      if (!this.props.loading) {\n        if (this.props.invoice) {\n          return React.createElement(\n            \"div\",\n            {\n              className: \"outerServiceBlock col-lg-12 col-md-12 col-sm-12 col-xs-1\"\n            },\n            React.createElement(\n              \"div\",\n              {\n                className: \"servieInnerBlock col-lg-12 col-md-12 col-sm-12 col-xs-12\"\n              },\n              React.createElement(\n                \"div\",\n                {\n                  className: \"col-lg-10 col-lg-offset-1 col-md-10 col-md-offset-1 col-sm-12 col-xs-12\"\n                },\n                React.createElement(\n                  \"h1\",\n                  {\n                    className: \"text-center\"\n                  },\n                  \"Invoice\"\n                ),\n                React.createElement(\n                  \"div\",\n                  {\n                    className: \"manageRowAds\"\n                  },\n                  React.createElement(\n                    \"div\",\n                    {\n                      className: \"row\"\n                    },\n                    React.createElement(\n                      \"div\",\n                      {\n                        className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 invoiceCompanyName\"\n                      },\n                      React.createElement(\n                        \"h3\",\n                        null,\n                        this.props.invoice.companyName\n                      ),\n                      React.createElement(\"hr\", {\n                        className: \"horizontalLine\"\n                      })\n                    ),\n                    React.createElement(\n                      \"div\",\n                      {\n                        className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\"\n                      },\n                      React.createElement(\n                        \"div\",\n                        {\n                          className: \"pull-right bannerInvDate\"\n                        },\n                        React.createElement(\n                          \"div\",\n                          {\n                            className: \"bannerTextFont\"\n                          },\n                          \"Date: \",\n                          React.createElement(\n                            \"span\",\n                            {\n                              className: \"bannerSpanTextFont\"\n                            },\n                            moment(this.props.invoice.createdAt).format(\"DD/MM/YYYY\")\n                          )\n                        ),\n                        React.createElement(\n                          \"div\",\n                          {\n                            className: \"bannerTextFont\"\n                          },\n                          \"Invoice Number: \",\n                          React.createElement(\n                            \"span\",\n                            {\n                              className: \"bannerSpanTextFont\"\n                            },\n                            this.props.invoice.invoiceNo\n                          )\n                        )\n                      )\n                    ),\n                    React.createElement(\n                      \"div\",\n                      {\n                        className: \"col-lg-6 col-md-6 col-sm-6 col-xs-6 bannerDataTextFont\"\n                      },\n                      React.createElement(\n                        \"div\",\n                        {\n                          className: \"bannerTextFont\"\n                        },\n                        \"From,\"\n                      ),\n                      React.createElement(\n                        \"div\",\n                        {\n                          className: \"bannerTextFont\"\n                        },\n                        this.props.invoice.userName\n                      )\n                    ),\n                    React.createElement(\n                      \"div\",\n                      {\n                        className: \"col-lg-6 col-md-6 col-sm-6 col-xs-6 bannerDataTextFont\"\n                      },\n                      React.createElement(\n                        \"div\",\n                        {\n                          className: \"bannerTextFont\"\n                        },\n                        \"To,\"\n                      ),\n                      React.createElement(\n                        \"div\",\n                        {\n                          className: \"bannerTextFont\"\n                        },\n                        this.props.invoice.companyName\n                      ),\n                      React.createElement(\n                        \"div\",\n                        null,\n                        this.props.invoice.companyAddress,\n                        \" ,\"\n                      ),\n                      React.createElement(\n                        \"div\",\n                        null,\n                        \" \",\n                        this.props.invoice.companyCity,\n                        \" , \",\n                        this.props.invoice.companyState,\n                        \" ,\",\n                        this.props.invoice.companyCountry,\n                        \"  -\",\n                        this.props.invoice.companyPincode\n                      )\n                    ),\n                    React.createElement(\n                      \"div\",\n                      {\n                        className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 bannerInvMar\"\n                      },\n                      React.createElement(\n                        \"div\",\n                        {\n                          className: \"col-lg-4 col-md-4 col-sm-3 col-xs-3 noPadLeftRight\"\n                        },\n                        React.createElement(\n                          \"div\",\n                          {\n                            className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 invoicetitleHeader\"\n                          },\n                          React.createElement(\n                            \"span\",\n                            null,\n                            \"Service Name\"\n                          )\n                        ),\n                        React.createElement(\n                          \"div\",\n                          {\n                            className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 invoiceValue\"\n                          },\n                          React.createElement(\n                            \"span\",\n                            null,\n                            this.props.invoice.serviceName\n                          )\n                        )\n                      ),\n                      React.createElement(\n                        \"div\",\n                        {\n                          className: \"col-lg-3 col-md-3 col-sm-3 col-xs-3 noPadLeftRight\"\n                        },\n                        React.createElement(\n                          \"div\",\n                          {\n                            className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 invoicetitleHeader\"\n                          },\n                          React.createElement(\n                            \"span\",\n                            null,\n                            \"Service Duration\"\n                          )\n                        ),\n                        React.createElement(\n                          \"div\",\n                          {\n                            className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 invoiceValue\"\n                          },\n                          React.createElement(\n                            \"span\",\n                            null,\n                            this.props.invoice.serviceDuration\n                          )\n                        )\n                      ),\n                      React.createElement(\n                        \"div\",\n                        {\n                          className: \"col-lg-5 col-md-5 col-sm-6 col-xs-6 noPadLeftRight\"\n                        },\n                        React.createElement(\n                          \"div\",\n                          {\n                            className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12  invoicetitleHeader\"\n                          },\n                          React.createElement(\n                            \"span\",\n                            {\n                              className: \"pull-left\"\n                            },\n                            \"Total Amount\"\n                          ),\n                          React.createElement(\n                            \"span\",\n                            {\n                              className: \"pull-right\"\n                            },\n                            React.createElement(\"i\", {\n                              className: \"fa fa-rupee\"\n                            }),\n                            \" \",\n                            this.totalAmount()\n                          )\n                        ),\n                        React.createElement(\n                          \"div\",\n                          {\n                            className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 invoiceValue\"\n                          },\n                          React.createElement(\n                            \"span\",\n                            {\n                              className: \"pull-left\"\n                            },\n                            \"Service Rate\"\n                          ),\n                          React.createElement(\n                            \"span\",\n                            {\n                              className: \"pull-right\"\n                            },\n                            React.createElement(\"i\", {\n                              className: \"fa fa-rupee\"\n                            }),\n                            \" \",\n                            this.props.invoice.serviceRate\n                          )\n                        ),\n                        this.taxes(),\n                        React.createElement(\n                          \"div\",\n                          {\n                            className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 invoicetitleHeader\"\n                          },\n                          React.createElement(\n                            \"span\",\n                            {\n                              className: \"pull-left\"\n                            },\n                            \"Total Amount\"\n                          ),\n                          React.createElement(\n                            \"span\",\n                            {\n                              className: \"pull-right\"\n                            },\n                            React.createElement(\"i\", {\n                              className: \"fa fa-rupee\"\n                            }),\n                            \" \",\n                            this.totalAmount()\n                          ),\n                          React.createElement(\"input\", {\n                            type: \"hiddden\",\n                            value: this.totalAmount(),\n                            ref: \"totalAmount\",\n                            name: \"totalAmount\",\n                            className: \"notDisplay\"\n                          })\n                        )\n                      )\n                    )\n                  )\n                ),\n                React.createElement(\n                  \"div\",\n                  {\n                    className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 outerButtonDiv\"\n                  },\n                  React.createElement(\n                    \"button\",\n                    {\n                      type: \"submit\",\n                      className: \"col-lg-3 col-md-4 col-xs-12 col-sm-12 col-xs-12 btn ServiceProcessButtons pull-right\",\n                      onClick: this.confirm.bind(this)\n                    },\n                    \"Make Payment\"\n                  )\n                )\n              )\n            )\n          );\n        }\n      } else {\n        return React.createElement(\n          \"span\",\n          null,\n          \"Data not available\"\n        );\n      }\n    }\n\n    return render;\n  }();\n\n  return ServiceInvoice;\n}(TrackerReact(Component));\n\nEditPageContainer = withTracker(function (_ref) {\n  var params = _ref.params;\n  var _id = params.id; // console.log(\"_id\",_id);\n\n  var postHandle = Meteor.subscribe('singleInvoice', _id); // var editServices   = this.props.params.id;\n  // console.log(\"Param\" +editServices);\n\n  var invoice = Invoice.findOne({\n    \"_id\": _id\n  }); // console.log('invoice ', invoice);\n\n  var loading = !postHandle.ready();\n\n  if (_id) {\n    return {\n      loading: loading,\n      invoice: invoice\n    };\n  }\n})(ServiceInvoice);\nmodule.exportDefault(EditPageContainer);","map":{"version":3,"sources":["imports/website/ServiceProcess/ServiceInvoice.jsx"],"names":["React","Component","module","watch","require","v","render","TrackerReact","browserHistory","Link","withTracker","Invoice","ServiceInvoice","state","invoiceNo","serviceId","serviceName","serviceRate","serviceDuration","userName","userId","companyName","companyAddress","companyCity","companyState","companyCountry","companyPincode","id","date","invoice","tax","Meteor","subscribe","componentWillMount","componentWillUnmount","componentDidMount","confirm","event","preventDefault","invoiceDate","props","createdAt","totalAmount","refs","value","call","error","result","console","log","reason","swal","path","replace","totalTax","rate","parseFloat","i","length","applicableTax","taxes","map","index","taxType","loading","moment","format","bind","EditPageContainer","params","_id","postHandle","findOne","ready","exportDefault"],"mappings":";;;;;;;;;;;;;;AAAA,IAAIA,cAAJ;AAAA,IAAUC,kBAAV;AAAoBC,OAAOC,KAAP,CAAaC,QAAQ,OAAR,CAAb,EAA8B;AAAA,uBAASC,CAAT,EAAW;AAACL,YAAMK,CAAN;AAAQ,GAApB;AAAqBJ,WAArB,YAA+BI,CAA/B,EAAiC;AAACJ,gBAAUI,CAAV;AAAY;AAA9C,CAA9B,EAA8E,CAA9E;AAAiF,IAAIC,eAAJ;AAAWJ,OAAOC,KAAP,CAAaC,QAAQ,WAAR,CAAb,EAAkC;AAACE,QAAD,YAAQD,CAAR,EAAU;AAACC,aAAOD,CAAP;AAAS;AAApB,CAAlC,EAAwD,CAAxD;AAA2D,IAAIE,qBAAJ;AAAiBL,OAAOC,KAAP,CAAaC,QAAQ,iCAAR,CAAb,EAAwD;AAAA,uBAASC,CAAT,EAAW;AAACE,mBAAaF,CAAb;AAAe;AAA3B,CAAxD,EAAqF,CAArF;AAAwF,IAAIG,uBAAJ;AAAmBN,OAAOC,KAAP,CAAaC,QAAQ,cAAR,CAAb,EAAqC;AAACI,gBAAD,YAAgBH,CAAhB,EAAkB;AAACG,qBAAeH,CAAf;AAAiB;AAApC,CAArC,EAA2E,CAA3E;AAA8E,IAAII,aAAJ;AAASP,OAAOC,KAAP,CAAaC,QAAQ,cAAR,CAAb,EAAqC;AAACK,MAAD,YAAMJ,CAAN,EAAQ;AAACI,WAAKJ,CAAL;AAAO;AAAhB,CAArC,EAAuD,CAAvD;AAA0D,IAAIK,oBAAJ;AAAgBR,OAAOC,KAAP,CAAaC,QAAQ,0BAAR,CAAb,EAAiD;AAACM,aAAD,YAAaL,CAAb,EAAe;AAACK,kBAAYL,CAAZ;AAAc;AAA9B,CAAjD,EAAiF,CAAjF;AAAoF,IAAIM,gBAAJ;AAAYT,OAAOC,KAAP,CAAaC,QAAQ,kBAAR,CAAb,EAAyC;AAACO,SAAD,YAASN,CAAT,EAAW;AAACM,cAAQN,CAAR;AAAU;AAAtB,CAAzC,EAAiE,CAAjE;;IAQliBO,c;;;AACJ,4BAAa;AAAA;;AAAA,+DACX,wBADW;;AAEX,UAAKC,KAAL,GAAY;AACVC,iBAAkB,EADR;AAEVC,iBAAkB,EAFR;AAGVC,mBAAkB,EAHR;AAIVC,mBAAkB,EAJR;AAKVC,uBAAkB,EALR;AAMVC,gBAAkB,EANR;AAOVC,cAAkB,EAPR;AAQVC,mBAAkB,EARR;AASVC,sBAAkB,EATR;AAUVC,mBAAkB,EAVR;AAWVC,oBAAkB,EAXR;AAYVC,sBAAkB,EAZR;AAaVC,sBAAkB,EAbR;AAcVC,UAAkB,EAdR;AAeVC,YAAkB,EAfR;AAgBVC,eAAkB,EAhBR;AAiBVC,WAAkB,EAjBR;AAkBV,sBAAiB;AACf,yBAAkBC,OAAOC,SAAP,CAAiB,eAAjB;AADH;AAlBP,KAAZ;AAFW;AAwBZ;;2BACDC,kB;kCAAoB,CACnB;;;;;2BACDC,oB;oCAAsB,CACrB;;;;;2BACDC,iB;iCAAmB,CAClB;;;;;2BACDC,O;qBAAQC,K,EAAM;AACZA,YAAMC,cAAN,GADY,CAEZ;AACA;;AACA,UAAIC,cAAmB,KAAKC,KAAL,CAAWX,OAAX,CAAmBY,SAA1C;AACA,UAAI3B,YAAmB,KAAK0B,KAAL,CAAWX,OAAX,CAAmBf,SAA1C;AACA,UAAIC,YAAmB,KAAKyB,KAAL,CAAWX,OAAX,CAAmBd,SAA1C;AACA,UAAIC,cAAmB,KAAKwB,KAAL,CAAWX,OAAX,CAAmBb,WAA1C;AACA,UAAIC,cAAmB,KAAKuB,KAAL,CAAWX,OAAX,CAAmBZ,WAA1C;AACA,UAAIC,kBAAmB,KAAKsB,KAAL,CAAWX,OAAX,CAAmBX,eAA1C;AACA,UAAIE,SAAmB,KAAKoB,KAAL,CAAWX,OAAX,CAAmBT,MAA1C;AACA,UAAID,WAAmB,KAAKqB,KAAL,CAAWX,OAAX,CAAmBV,QAA1C;AACA,UAAIuB,cAAmB,KAAKC,IAAL,CAAUD,WAAV,CAAsBE,KAA7C;AACEb,aAAOc,IAAP,CAAY,mBAAZ,EAAgCN,WAAhC,EAA4CzB,SAA5C,EAAsDC,SAAtD,EAAgEC,WAAhE,EAA4EC,WAA5E,EAAwFC,eAAxF,EAAwGE,MAAxG,EAA+GD,QAA/G,EAAwHuB,WAAxH,EAAoI,UAASI,KAAT,EAAeC,MAAf,EAAsB;AACzJ,YAAID,KAAJ,EAAW;AACVE,kBAAQC,GAAR,CAAY,OAAZ,EAAoBH,MAAMI,MAA1B;AACA,SAFD,MAEK;AACJC,eAAK,MAAL;AACA,cAAIC,OAAO,qBAAmBL,MAA9B;AACAvC,yBAAe6C,OAAf,CAAuBD,IAAvB;AACA;AACD,OARD;AASH;;;;;2BACDV,W;2BAAa;AACV,UAAIY,WAAW,CAAf;AACA,UAAIC,OAAOC,WAAW,KAAKhB,KAAL,CAAWX,OAAX,CAAmBZ,WAA9B,CAAX;AACA,UAAIa,MAAO,KAAKU,KAAL,CAAWX,OAAX,CAAmBC,GAA9B;;AACA,WAAK,IAAI2B,IAAI,CAAb,EAAgBA,IAAI3B,IAAI4B,MAAxB,EAAgCD,GAAhC,EAAoC;AAClCH,oBAAYE,WAAW1B,IAAI2B,CAAJ,EAAOE,aAAlB,CAAZ;AACD;;AACD,UAAIjB,cAAca,OAAOD,QAAzB;AACA,aAAOZ,WAAP;AACF;;;;;2BACDkB,K;qBAAO;AACL,aAAO,KAAKpB,KAAL,CAAWX,OAAX,CAAmBC,GAAnB,CAAuB+B,GAAvB,CAA2B,UAAC/B,GAAD,EAAKgC,KAAL,EAAc;AAC9C,eACE;AAAA;AAAA;AAAK,uBAAU,sDAAf;AAAsE,iBAAKA;AAA3E;AACE;AAAA;AAAA;AAAM,yBAAU;AAAhB;AAA6BhC,gBAAIiC;AAAjC,WADF;AAEE;AAAA;AAAA;AAAM,yBAAU;AAAhB;AAA6B;AAAG,yBAAU;AAAb,cAA7B;AAAA;AAA8DjC,gBAAI6B;AAAlE;AAFF,SADF;AAOD,OARM,CAAP;AAUD;;;;;2BACDrD,M;sBAAQ;AACN,UAAG,CAAC,KAAKkC,KAAL,CAAWwB,OAAf,EAAuB;AACrB,YAAG,KAAKxB,KAAL,CAAWX,OAAd,EAAsB;AACtB,iBACE;AAAA;AAAA;AAAK,yBAAU;AAAf;AACE;AAAA;AAAA;AAAK,2BAAU;AAAf;AACE;AAAA;AAAA;AAAK,6BAAU;AAAf;AACC;AAAA;AAAA;AAAI,+BAAU;AAAd;AAAA;AAAA,iBADD;AAEG;AAAA;AAAA;AAAK,+BAAU;AAAf;AACK;AAAA;AAAA;AAAK,iCAAU;AAAf;AACE;AAAA;AAAA;AAAK,mCAAU;AAAf;AACI;AAAA;AAAA;AAAK,6BAAKW,KAAL,CAAWX,OAAX,CAAmBR;AAAxB,uBADJ;AAEE;AAAI,mCAAU;AAAd;AAFF,qBADF;AAKE;AAAA;AAAA;AAAK,mCAAU;AAAf;AACE;AAAA;AAAA;AAAK,qCAAU;AAAf;AACE;AAAA;AAAA;AAAK,uCAAU;AAAf;AAAA;AAAsC;AAAA;AAAA;AAAM,yCAAU;AAAhB;AAAsC4C,mCAAO,KAAKzB,KAAL,CAAWX,OAAX,CAAmBY,SAA1B,EAAqCyB,MAArC,CAA4C,YAA5C;AAAtC;AAAtC,yBADF;AAEE;AAAA;AAAA;AAAK,uCAAU;AAAf;AAAA;AAAgD;AAAA;AAAA;AAAM,yCAAU;AAAhB;AAAsC,iCAAK1B,KAAL,CAAWX,OAAX,CAAmBf;AAAzD;AAAhD;AAFF;AADF,qBALF;AAWE;AAAA;AAAA;AAAK,mCAAU;AAAf;AACE;AAAA;AAAA;AAAK,qCAAU;AAAf;AAAA;AAAA,uBADF;AAEE;AAAA;AAAA;AAAK,qCAAU;AAAf;AAAiC,6BAAK0B,KAAL,CAAWX,OAAX,CAAmBV;AAApD;AAFF,qBAXF;AAeE;AAAA;AAAA;AAAK,mCAAU;AAAf;AACE;AAAA;AAAA;AAAK,qCAAU;AAAf;AAAA;AAAA,uBADF;AAEE;AAAA;AAAA;AAAK,qCAAU;AAAf;AAAiC,6BAAKqB,KAAL,CAAWX,OAAX,CAAmBR;AAApD,uBAFF;AAGE;AAAA;AAAA;AAAM,6BAAKmB,KAAL,CAAWX,OAAX,CAAmBP,cAAzB;AAAA;AAAA,uBAHF;AAIE;AAAA;AAAA;AAAA;AAAO,6BAAKkB,KAAL,CAAWX,OAAX,CAAmBN,WAA1B;AAAA;AAA0C,6BAAKiB,KAAL,CAAWX,OAAX,CAAmBL,YAA7D;AAAA;AAA6E,6BAAKgB,KAAL,CAAWX,OAAX,CAAmBJ,cAAhG;AAAA;AAAmH,6BAAKe,KAAL,CAAWX,OAAX,CAAmBH;AAAtI;AAJF,qBAfF;AAqBE;AAAA;AAAA;AAAK,mCAAU;AAAf;AACE;AAAA;AAAA;AAAK,qCAAU;AAAf;AACE;AAAA;AAAA;AAAK,uCAAU;AAAf;AACE;AAAA;AAAA;AAAA;AAAA;AADF,yBADF;AAIE;AAAA;AAAA;AAAK,uCAAU;AAAf;AACE;AAAA;AAAA;AAAO,iCAAKc,KAAL,CAAWX,OAAX,CAAmBb;AAA1B;AADF;AAJF,uBADF;AASE;AAAA;AAAA;AAAK,qCAAU;AAAf;AACE;AAAA;AAAA;AAAK,uCAAU;AAAf;AACE;AAAA;AAAA;AAAA;AAAA;AADF,yBADF;AAIE;AAAA;AAAA;AAAK,uCAAU;AAAf;AACE;AAAA;AAAA;AAAO,iCAAKwB,KAAL,CAAWX,OAAX,CAAmBX;AAA1B;AADF;AAJF,uBATF;AAiBE;AAAA;AAAA;AAAK,qCAAU;AAAf;AACE;AAAA;AAAA;AAAK,uCAAU;AAAf;AACE;AAAA;AAAA;AAAM,yCAAU;AAAhB;AAAA;AAAA,2BADF;AAEE;AAAA;AAAA;AAAM,yCAAU;AAAhB;AAA6B;AAAG,yCAAU;AAAb,8BAA7B;AAAA;AAA8D,iCAAKwB,WAAL;AAA9D;AAFF,yBADF;AAKE;AAAA;AAAA;AAAK,uCAAU;AAAf;AACE;AAAA;AAAA;AAAM,yCAAU;AAAhB;AAAA;AAAA,2BADF;AAEE;AAAA;AAAA;AAAM,yCAAU;AAAhB;AAA6B;AAAG,yCAAU;AAAb,8BAA7B;AAAA;AAA8D,iCAAKF,KAAL,CAAWX,OAAX,CAAmBZ;AAAjF;AAFF,yBALF;AASG,6BAAK2C,KAAL,EATH;AAUG;AAAA;AAAA;AAAK,uCAAU;AAAf;AACC;AAAA;AAAA;AAAM,yCAAU;AAAhB;AAAA;AAAA,2BADD;AAEC;AAAA;AAAA;AAAM,yCAAU;AAAhB;AAA6B;AAAG,yCAAU;AAAb,8BAA7B;AAAA;AAA8D,iCAAKlB,WAAL;AAA9D,2BAFD;AAGC;AAAO,kCAAK,SAAZ;AAAsB,mCAAO,KAAKA,WAAL,EAA7B;AAAiD,iCAAI,aAArD;AAAmE,kCAAK,aAAxE;AAAsF,uCAAU;AAAhG;AAHD;AAVH;AAjBF;AArBF;AADL,iBAFH;AA+EG;AAAA;AAAA;AAAK,+BAAU;AAAf;AACC;AAAA;AAAA;AAAS,4BAAK,QAAd;AAAuB,iCAAU,sFAAjC;AAAwH,+BAAS,KAAKN,OAAL,CAAa+B,IAAb,CAAkB,IAAlB;AAAjI;AAAA;AAAA;AADD;AA/EH;AADF;AADF,WADF;AAyFA;AACD,OA5FD,MA4FK;AACH,eAAO;AAAA;AAAA;AAAA;AAAA,SAAP;AACD;AACF;;;;;;EA7K0B5D,aAAaN,SAAb,C;;AAgL7BmE,oBAAoB1D,YAAY,gBAAc;AAAA,MAAZ2D,MAAY,QAAZA,MAAY;AAC1C,MAAIC,MAAMD,OAAO1C,EAAjB,CAD0C,CAE1C;;AACA,MAAM4C,aAAaxC,OAAOC,SAAP,CAAiB,eAAjB,EAAiCsC,GAAjC,CAAnB,CAH0C,CAI1C;AACA;;AACA,MAAMzC,UAAUlB,QAAQ6D,OAAR,CAAgB;AAAC,WAAMF;AAAP,GAAhB,CAAhB,CAN0C,CAO1C;;AACA,MAAMN,UAAU,CAACO,WAAWE,KAAX,EAAjB;;AAEA,MAAGH,GAAH,EAAO;AACL,WAAO;AACHN,sBADG;AAEHnC;AAFG,KAAP;AAID;AACJ,CAhBmB,EAgBjBjB,cAhBiB,CAApB;AAxLAV,OAAOwE,aAAP,CAyMeN,iBAzMf","file":"imports/website/ServiceProcess/ServiceInvoice.jsx.map","sourcesContent":["import React,{Component}  from 'react';\nimport {render} from 'react-dom';\nimport TrackerReact from 'meteor/ultimatejs:tracker-react';\nimport {browserHistory} from 'react-router';\nimport { Link } from 'react-router';\nimport { withTracker } from 'meteor/react-meteor-data';\nimport { Invoice } from './api/Invoice.js';\n\nclass ServiceInvoice extends TrackerReact(Component){\n  constructor(){\n    super();\n    this.state ={\n      invoiceNo       : '',\n      serviceId       : '',\n      serviceName     : '',\n      serviceRate     : '',\n      serviceDuration : '',\n      userName        : '',\n      userId          : '',\n      companyName     : '',\n      companyAddress  : '',\n      companyCity     : '',\n      companyState    : '',\n      companyCountry  : '',\n      companyPincode  : '',\n      id              : '', \n      date            : '',\n      invoice         : [],\n      tax             : [],\n      \"subscription\" : {\n        \"singleInvoice\" : Meteor.subscribe(\"singleInvoice\"),   \n      }\n    };\n  }\n  componentWillMount(){\n  }\n  componentWillUnmount(){\n  }\n  componentDidMount(){ \n  }\n  confirm(event){ \n    event.preventDefault();\n    // var path = \"/PaymentGateway\";\n    // browserHistory.replace(path);\n    var invoiceDate      = this.props.invoice.createdAt\n    var invoiceNo        = this.props.invoice.invoiceNo;\n    var serviceId        = this.props.invoice.serviceId;\n    var serviceName      = this.props.invoice.serviceName;\n    var serviceRate      = this.props.invoice.serviceRate;\n    var serviceDuration  = this.props.invoice.serviceDuration;\n    var userId           = this.props.invoice.userId;\n    var userName         = this.props.invoice.userName;\n    var totalAmount      = this.refs.totalAmount.value;    \n      Meteor.call(\"insertTempPayment\",invoiceDate,invoiceNo,serviceId,serviceName,serviceRate,serviceDuration,userId,userName,totalAmount,function(error,result){\n       if (error) {\n        console.log(\"error\",error.reason);\n       }else{\n        swal(\"Done\");  \n        var path = \"/PaymentGateway/\"+result;\n        browserHistory.replace(path);\n       }\n      });\n  }\n  totalAmount(){\n     var totalTax = 0;\n     var rate = parseFloat(this.props.invoice.serviceRate);\n     var tax  = this.props.invoice.tax;\n     for (var i = 0; i < tax.length; i++){\n       totalTax += parseFloat(tax[i].applicableTax);\n     }\n     var totalAmount = rate + totalTax;\n     return totalAmount;\n  }invoice\n  taxes(){\n    return this.props.invoice.tax.map((tax,index) =>{\n      return( \n        <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 invoiceValue\" key={index}>\n          <span className=\"pull-left\">{tax.taxType}</span>\n          <span className=\"pull-right\"><i className=\"fa fa-rupee\"></i> {tax.applicableTax}</span>\n        </div>\n      );\n\n    });\n\n  }\n  render(){\n    if(!this.props.loading){\n      if(this.props.invoice){ \n      return(\n        <div className=\"outerServiceBlock col-lg-12 col-md-12 col-sm-12 col-xs-1\">\n          <div className=\"servieInnerBlock col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n            <div className=\"col-lg-10 col-lg-offset-1 col-md-10 col-md-offset-1 col-sm-12 col-xs-12\">\n             <h1 className=\"text-center\">Invoice</h1>\n               <div className=\"manageRowAds\">\n                    <div className=\"row\">\n                      <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 invoiceCompanyName\">\n                          <h3>{this.props.invoice.companyName}</h3> \n                        <hr className=\"horizontalLine\" />\n                      </div>\n                      <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                        <div className=\"pull-right bannerInvDate\">\n                          <div className=\"bannerTextFont\">Date: <span className=\"bannerSpanTextFont\">{moment(this.props.invoice.createdAt).format(\"DD/MM/YYYY\")}</span></div>\n                          <div className=\"bannerTextFont\">Invoice Number: <span className=\"bannerSpanTextFont\">{this.props.invoice.invoiceNo}</span></div>\n                        </div>\n                      </div>\n                      <div className=\"col-lg-6 col-md-6 col-sm-6 col-xs-6 bannerDataTextFont\">\n                        <div className=\"bannerTextFont\">From,</div>\n                        <div className=\"bannerTextFont\">{this.props.invoice.userName}</div>\n                      </div>\n                      <div className=\"col-lg-6 col-md-6 col-sm-6 col-xs-6 bannerDataTextFont\">\n                        <div className=\"bannerTextFont\">To,</div>\n                        <div className=\"bannerTextFont\">{this.props.invoice.companyName}</div>\n                        <div>{this.props.invoice.companyAddress} ,</div>\n                        <div> {this.props.invoice.companyCity} , {this.props.invoice.companyState} ,{this.props.invoice.companyCountry}  -{this.props.invoice.companyPincode}</div>\n                      </div>\n                      <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 bannerInvMar\">\n                        <div className=\"col-lg-4 col-md-4 col-sm-3 col-xs-3 noPadLeftRight\">\n                          <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 invoicetitleHeader\">\n                            <span>Service Name</span>\n                          </div>\n                          <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 invoiceValue\">\n                            <span>{this.props.invoice.serviceName}</span>\n                          </div>\n                        </div>\n                        <div className=\"col-lg-3 col-md-3 col-sm-3 col-xs-3 noPadLeftRight\">\n                          <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 invoicetitleHeader\">\n                            <span>Service Duration</span>\n                          </div>\n                          <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 invoiceValue\">\n                            <span>{this.props.invoice.serviceDuration}</span>\n                          </div>\n                        </div>\n                        <div className=\"col-lg-5 col-md-5 col-sm-6 col-xs-6 noPadLeftRight\">\n                          <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12  invoicetitleHeader\">\n                            <span className=\"pull-left\">Total Amount</span>\n                            <span className=\"pull-right\"><i className=\"fa fa-rupee\"></i> {this.totalAmount()}</span>\n                          </div>\n                          <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 invoiceValue\">\n                            <span className=\"pull-left\">Service Rate</span>\n                            <span className=\"pull-right\"><i className=\"fa fa-rupee\"></i> {this.props.invoice.serviceRate}</span>\n                          </div>\n                          {this.taxes()}\n                           <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 invoicetitleHeader\">\n                            <span className=\"pull-left\">Total Amount</span>\n                            <span className=\"pull-right\"><i className=\"fa fa-rupee\"></i> {this.totalAmount()}</span>\n                            <input type=\"hiddden\" value={this.totalAmount()} ref=\"totalAmount\" name=\"totalAmount\" className=\"notDisplay\" />\n                          </div>\n                        </div>\n                         {/*<table className=\"table table-bordered\">\n                           <thead>\n                             <tr>\n                               <th>Service Name</th>\n                               <th>Service Rate</th>\n                               <th>Service Duration</th>\n                               <th>Total Amount</th>\n                             </tr>\n                           </thead>\n                           <tbody>\n                             <tr> \n                               <td>{this.props.invoice.serviceName}</td>\n                               <td><i className=\"fa fa-rupee\"></i> {this.props.invoice.serviceRate}</td>\n                               <td>{this.props.invoice.serviceDuration}</td>\n                               <td><i className=\"fa fa-rupee\"></i> {this.totalAmount()} </td>\n                             </tr>\n                           </tbody>\n                         </table>*/}\n                      </div>\n\n                    </div>\n                  </div>  \n               <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 outerButtonDiv\">\n                <button  type=\"submit\" className=\"col-lg-3 col-md-4 col-xs-12 col-sm-12 col-xs-12 btn ServiceProcessButtons pull-right\" onClick={this.confirm.bind(this)}>Make Payment</button>\n               </div>\n           </div>\n          </div>\n        </div>\n      );\n     }\n    }else{\n      return(<span>Data not available</span>);\n    }\n  } \n}\n \nEditPageContainer = withTracker(({params}) => {\n    var _id = params.id;\n    // console.log(\"_id\",_id);\n    const postHandle = Meteor.subscribe('singleInvoice',_id);\n    // var editServices   = this.props.params.id;\n    // console.log(\"Param\" +editServices);\n    const invoice = Invoice.findOne({\"_id\":_id});\n    // console.log('invoice ', invoice);\n    const loading = !postHandle.ready();\n    \n    if(_id){\n      return {\n          loading,\n          invoice,\n      };\n    }\n})(ServiceInvoice);\nexport default EditPageContainer;\n"]},"hash":"e0a7cf2d45b92e6547db7b17b485eb9c97df4152"}
