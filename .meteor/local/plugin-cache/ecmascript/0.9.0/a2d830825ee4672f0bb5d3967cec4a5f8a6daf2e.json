{"metadata":{"usedHelpers":["inherits","possibleConstructorReturn","classCallCheck","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"react","imported":["default","Component"],"specifiers":[{"kind":"named","imported":"default","local":"React"},{"kind":"named","imported":"Component","local":"Component"}]},{"source":"react-dom","imported":["render"],"specifiers":[{"kind":"named","imported":"render","local":"render"}]},{"source":"meteor/ultimatejs:tracker-react","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"TrackerReact"}]},{"source":"meteor/react-meteor-data","imported":["withTracker"],"specifiers":[{"kind":"named","imported":"withTracker","local":"withTracker"}]},{"source":"../api/NotificationTemplate.js","imported":["NotificationTemplate"],"specifiers":[{"kind":"named","imported":"NotificationTemplate","local":"NotificationTemplate"}]},{"source":"react-router","imported":["browserHistory"],"specifiers":[{"kind":"named","imported":"browserHistory","local":"browserHistory"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"imports/dashboard/notification/components/CreateTemplate.jsx","filenameRelative":"imports/dashboard/notification/components/CreateTemplate.jsx","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/dashboard/notification/components/CreateTemplate.jsx.map","sourceFileName":"imports/dashboard/notification/components/CreateTemplate.jsx","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"CreateTemplate"},"ignored":false,"code":"var _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar React = void 0,\n    Component = void 0;\nmodule.watch(require(\"react\"), {\n\t\"default\": function (v) {\n\t\tReact = v;\n\t},\n\tComponent: function (v) {\n\t\tComponent = v;\n\t}\n}, 0);\nvar render = void 0;\nmodule.watch(require(\"react-dom\"), {\n\trender: function (v) {\n\t\trender = v;\n\t}\n}, 1);\nvar TrackerReact = void 0;\nmodule.watch(require(\"meteor/ultimatejs:tracker-react\"), {\n\t\"default\": function (v) {\n\t\tTrackerReact = v;\n\t}\n}, 2);\nvar withTracker = void 0;\nmodule.watch(require(\"meteor/react-meteor-data\"), {\n\twithTracker: function (v) {\n\t\twithTracker = v;\n\t}\n}, 3);\nvar NotificationTemplate = void 0;\nmodule.watch(require(\"../api/NotificationTemplate.js\"), {\n\tNotificationTemplate: function (v) {\n\t\tNotificationTemplate = v;\n\t}\n}, 4);\nvar browserHistory = void 0;\nmodule.watch(require(\"react-router\"), {\n\tbrowserHistory: function (v) {\n\t\tbrowserHistory = v;\n\t}\n}, 5);\n\nvar CreateTemplate = function (_TrackerReact) {\n\t(0, _inherits3.default)(CreateTemplate, _TrackerReact);\n\n\tCreateTemplate.prototype.componentDidMount = function () {\n\t\tfunction componentDidMount() {\n\t\t\t// renderFunction();\n\t\t\t$(\"html,body\").scrollTop(0);\n\n\t\t\tif (!$(\"#adminLte\").length > 0 && !$('body').hasClass('adminLte')) {\n\t\t\t\tvar adminLte = document.createElement(\"script\");\n\t\t\t\tadminLte.type = \"text/javascript\";\n\t\t\t\tadminLte.src = \"/js/adminLte.js\";\n\t\t\t\t$(\"body\").append(adminLte);\n\t\t\t}\n\n\t\t\t$(document).ready(function () {// $('#messageContent').summernote({\n\t\t\t\t//      height: 190,\n\t\t\t\t//      maxHeight:190,\n\t\t\t\t//      minHeight:175,\n\t\t\t\t//  \t});\n\t\t\t});\n\t\t\tvar getId = this.props.params.id;\n\n\t\t\tif (getId) {\n\t\t\t\tvar notifContent = NotificationTemplate.findOne({\n\t\t\t\t\t'_id': getId\n\t\t\t\t});\n\n\t\t\t\tif (notifContent) {\n\t\t\t\t\tvar content = notifContent.content;\n\t\t\t\t\t$('.note-editable').html(content);\n\n\t\t\t\t\tif (!notifContent.subject) {\n\t\t\t\t\t\t$('.subjectDiv').css({\n\t\t\t\t\t\t\t'display': 'none'\n\t\t\t\t\t\t});\n\t\t\t\t\t} //subject\n\n\t\t\t\t} //notifContent\n\n\n\t\t\t\t$('.sendtxtmsgbtn').css({\n\t\t\t\t\t'display': 'none'\n\t\t\t\t});\n\t\t\t\t$('.updatebtn').css({\n\t\t\t\t\t'display': 'block'\n\t\t\t\t});\n\n\t\t\t\tif ($(\".reportTitleName\").text(\"CREATE TEMPLATE\")) {\n\t\t\t\t\t$(\".reportTitleName\").html(\"UPDATE TEMPLATE\");\n\t\t\t\t}\n\t\t\t} //getId\t\t\n\n\t\t}\n\n\t\treturn componentDidMount;\n\t}();\n\n\tCreateTemplate.prototype.componentWillMount = function () {\n\t\tfunction componentWillMount() {// if (!!!$(\"link[href='/css/dashboard.css']\").length > 0) {\n\t\t\t//   var dashboardCss = document.createElement(\"link\");\n\t\t\t//   dashboardCss.type = \"text/css\"; \n\t\t\t//   dashboardCss.rel = \"stylesheet\";\n\t\t\t//   dashboardCss.href = \"/css/dashboard.css\"; \n\t\t\t//   document.head.append(dashboardCss);\n\t\t\t// }\n\t\t}\n\n\t\treturn componentWillMount;\n\t}();\n\n\tCreateTemplate.prototype.componentWillUnmount = function () {\n\t\tfunction componentWillUnmount() {\n\t\t\t$(\"script[src='/js/adminLte.js']\").remove(); // $(\"link[href='/css/dashboard.css']\").remove(); \n\t\t}\n\n\t\treturn componentWillUnmount;\n\t}();\n\n\tCreateTemplate.prototype.handleChange = function () {\n\t\tfunction handleChange(event) {\n\t\t\tvar _setState;\n\n\t\t\tvar target = event.target;\n\t\t\tvar name = target.name;\n\t\t\tthis.setState((_setState = {}, _setState[name] = event.target.value, _setState));\n\t\t}\n\n\t\treturn handleChange;\n\t}();\n\n\tfunction CreateTemplate(props) {\n\t\t(0, _classCallCheck3.default)(this, CreateTemplate);\n\n\t\tvar _this = (0, _possibleConstructorReturn3.default)(this, _TrackerReact.call(this, props));\n\n\t\t_this.state = {\n\t\t\ttemplateType: _this.props.templateType,\n\t\t\ttemplateName: _this.props.templateName,\n\t\t\tsubject: _this.props.subject,\n\t\t\tcontent: _this.props.content\n\t\t};\n\t\t_this.handleChange = _this.handleChange.bind(_this);\n\t\treturn _this;\n\t}\n\n\tCreateTemplate.prototype.componentWillReceiveProps = function () {\n\t\tfunction componentWillReceiveProps(nextProps) {\n\t\t\tthis.setState({\n\t\t\t\ttemplateType: nextProps.post.templateType,\n\t\t\t\ttemplateName: nextProps.post.templateName,\n\t\t\t\tsubject: nextProps.post.subject,\n\t\t\t\tcontent: nextProps.post.content\n\t\t\t});\n\t\t\tthis.handleChange = this.handleChange.bind(this); /*this.handleSubmit = this.handleSubmit.bind(this);*/\n\t\t}\n\n\t\treturn componentWillReceiveProps;\n\t}();\n\n\tCreateTemplate.prototype.submitTemplate = function () {\n\t\tfunction submitTemplate(event) {\n\t\t\tevent.preventDefault();\n\t\t\tvar templateType = this.refs.templateType.value;\n\t\t\tvar templateName = this.refs.templateName.value;\n\t\t\tvar subject = this.refs.subject.value; // var emailContent     = $('#messageContent').summernote('code');\n\n\t\t\tvar emailContent = this.refs.content.value;\n\t\t\tvar NotificationData = NotificationTemplate.findOne({\n\t\t\t\t'templateType': templateType,\n\t\t\t\t'templateName': templateName\n\t\t\t});\n\n\t\t\tif (NotificationData) {\n\t\t\t\tswal(\"Template Name Already Exist\");\n\t\t\t} else if (templateType == 'Notification' || templateType == 'SMS') {\n\t\t\t\tif (templateName.length == 0) {\n\t\t\t\t\tswal(\"Please fill in all the required fields\");\n\t\t\t\t} else {\n\t\t\t\t\tMeteor.call('insertTemplate', templateType, templateName, emailContent, function (error, result) {\n\t\t\t\t\t\tif (error) {\n\t\t\t\t\t\t\tconsole.log(error.reason);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tswal(\"Successfully Inserted..!!\");\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tthis.refs.templateName.value = '';\n\t\t\t\tthis.refs.content.value = ''; // $('#messageContent').summernote('code','');\n\t\t\t} else {\n\t\t\t\tif (templateName.length == 0 || subject.length == 0) {\n\t\t\t\t\tswal(\"Please fill in all the required fields\");\n\t\t\t\t} else {\n\t\t\t\t\tMeteor.call('insertNewTemplate', templateType, templateName, subject, emailContent, function (error, result) {\n\t\t\t\t\t\tif (error) {\n\t\t\t\t\t\t\tconsole.log(error.reason);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tswal(\"Successfully Inserted..!!\");\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tthis.refs.templateName.value = '';\n\t\t\t\tthis.refs.subject.value = '';\n\t\t\t\tthis.refs.content.value = ''; // $('#messageContent').summernote('code','');\n\t\t\t}\n\t\t}\n\n\t\treturn submitTemplate;\n\t}();\n\n\tCreateTemplate.prototype.updateTemplate = function () {\n\t\tfunction updateTemplate(event) {\n\t\t\tevent.preventDefault(); // var id = FlowRouter.getParam(\"id\");\n\n\t\t\tvar id = this.props.params.id;\n\t\t\tconsole.log(\"id\", id);\n\t\t\tvar templateType = this.refs.templateType.value;\n\t\t\tvar templateName = this.refs.templateName.value;\n\t\t\tvar subject = this.refs.subject.value; // var emailContent     = $('#messageContent').summernote('code');\n\n\t\t\tvar emailContent = this.refs.content.value;\n\n\t\t\tif (templateType == 'Notification' || templateType == 'SMS') {\n\t\t\t\tconsole.log(\"in if\");\n\t\t\t\tMeteor.call('updateTemplate', id, templateName, emailContent, function (error, result) {\n\t\t\t\t\tif (error) {\n\t\t\t\t\t\tconsole.log(error.reason);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tswal(\"Updated Successfully..!!\");\n\t\t\t\t\t\tvar path = \"/admin/ViewTemplates\";\n\t\t\t\t\t\tbrowserHistory.replace(path);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.refs.templateName.value = '';\n\t\t\t\tthis.refs.content.value = ''; // $('#messageContent').summernote('code','');\n\t\t\t} else {\n\t\t\t\tconsole.log(\"in else\");\n\t\t\t\tMeteor.call('updateNewTemplate', id, templateName, subject, emailContent, function (error, result) {\n\t\t\t\t\tif (error) {\n\t\t\t\t\t\tconsole.log(error.reason);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tswal(\"Updated Successfully..!!\");\n\t\t\t\t\t\tvar path = \"/admin/ViewTemplates\";\n\t\t\t\t\t\tbrowserHistory.replace(path);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.refs.templateName.value = '';\n\t\t\t\tthis.refs.subject.value = '';\n\t\t\t\tthis.refs.content.value = ''; // $('#messageContent').summernote('code','');\n\t\t\t} // FlowRouter.go('/viewAllTemplates');\n\n\t\t}\n\n\t\treturn updateTemplate;\n\t}();\n\n\tCreateTemplate.prototype.selectType = function () {\n\t\tfunction selectType(event) {\n\t\t\tevent.preventDefault(); // const target = event.target;\n\t\t\t//  const name   = target.name;\n\t\t\t//  this.setState({\n\t\t\t//  \t[name]: event.target.value,\n\t\t\t//  });\n\n\t\t\tif (this.refs.templateType.value == 'Notification' || this.refs.templateType.value == 'SMS') {\n\t\t\t\t$('.subjectRow').css({\n\t\t\t\t\t'display': 'none'\n\t\t\t\t});\n\t\t\t} else if (this.refs.templateType.value == 'Email') {\n\t\t\t\t$('.subjectRow').css({\n\t\t\t\t\t'display': 'block'\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\treturn selectType;\n\t}();\n\n\tCreateTemplate.prototype.render = function () {\n\t\tfunction render() {\n\t\t\treturn React.createElement(\n\t\t\t\t\"div\",\n\t\t\t\t{\n\t\t\t\t\tclassName: \"content-wrapper\"\n\t\t\t\t},\n\t\t\t\tReact.createElement(\n\t\t\t\t\t\"section\",\n\t\t\t\t\t{\n\t\t\t\t\t\tclassName: \"content NotificationContent\"\n\t\t\t\t\t},\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\"div\",\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tclassName: \"row\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\"div\",\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tclassName: \"col-lg-12 col-md-10 col-sm-12 col-xs-12 \"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\"div\",\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tclassName: \"box box-primary\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\"div\",\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tclassName: \"box-header with-border\"\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\"h3\",\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tclassName: \"box-title\"\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\"CREATE TEMPLATE\"\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\"div\",\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tclassName: \"box-body\"\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\"form\",\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tclassName: \"newTemplateForm\"\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\"div\",\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"row\"\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\t\"div\",\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"col-lg-6 col-md-6 col-sm-12 col-xs-12\"\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"div\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"form-group\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"label\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"col-lg-6 label-category\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"Template Type\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"span\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"astrick\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"*\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\":\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"select\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"form-control templateType\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"templateType\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tref: \"templateType\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange: this.selectType.bind(this),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: this.state.templateType\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"option\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\" -- Select --\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"option\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\" Email \"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"option\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\" Notification \"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"option\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\" SMS \"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\"div\",\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"row inputrow\"\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\t\"div\",\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\"\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"div\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"form-group\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"label\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 label-category\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"Template Name\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"span\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"astrick\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"*\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\":\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\tReact.createElement(\"input\", {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"text\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tref: \"templateName\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"templateName\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: this.state.templateName,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange: this.handleChange,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"templateName col-lg-12 col-md-12 col-sm-12 col-xs-12 inputValid \",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired: true\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\"div\",\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"row inputrow subjectRow\"\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\t\"div\",\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\"\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"div\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"form-group subjectDiv\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"label\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 label-category\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"Subject\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"span\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"astrick\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"*\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\":\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\tReact.createElement(\"input\", {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"text\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tref: \"subject\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"subject\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: this.state.subject,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange: this.handleChange,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"subject col-lg-12 col-md-12 col-sm-12 col-xs-12 inputValid\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired: true\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\"div\",\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"row inputrow\"\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\t\"div\",\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\"\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"div\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"form-group\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"label\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 label-category\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"Message\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"span\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"astrick\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"*\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\":\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"div\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tReact.createElement(\"textarea\", {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"content\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tref: \"content\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: this.state.content,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"templateName  col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trows: \"10\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange: this.handleChange\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\"div\",\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"savetemp col-lg-12 col-md-12 col-sm-12 col-xs-12\"\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\t\"button\",\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick: this.submitTemplate.bind(this),\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"submit\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"col-lg-2 col-md-3 col-sm-6 col-xs-12 btn btn-primary pull-right sendtxtmsgbtn\"\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\"Save Template\"\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\t\"button\",\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick: this.updateTemplate.bind(this),\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"submit\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"btn btn-primary pull-right updatebtn col-lg-2 col-md-3 col-sm-6 col-xs-12\"\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\"Update Template\"\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\t\treturn render;\n\t}();\n\n\treturn CreateTemplate;\n}(TrackerReact(Component));\n\nEditTemplate = withTracker(function (_ref) {\n\tvar params = _ref.params;\n\tvar postHandle = Meteor.subscribe('notificationTemplate'); // var Id           = FlowRouter.getParam(\"id\");\n\n\tvar Id = params.id; //  if (Id) {\n\t//    $('.sendtxtmsgbtn').css({'display':'none'});\n\t// $('.updatebtn').css({'display':'block'});\n\t//  }\n\n\tvar post = NotificationTemplate.findOne({\n\t\t'_id': Id\n\t}) || {};\n\tvar loading = !postHandle.ready();\n\treturn {\n\t\tloading: loading,\n\t\tpost: post\n\t};\n})(CreateTemplate);\nmodule.exportDefault(EditTemplate);","map":{"version":3,"sources":["imports/dashboard/notification/components/CreateTemplate.jsx"],"names":["React","Component","module","watch","require","v","render","TrackerReact","withTracker","NotificationTemplate","browserHistory","CreateTemplate","componentDidMount","$","scrollTop","length","hasClass","adminLte","document","createElement","type","src","append","ready","getId","props","params","id","notifContent","findOne","content","html","subject","css","text","componentWillMount","componentWillUnmount","remove","handleChange","event","target","name","setState","value","state","templateType","templateName","bind","componentWillReceiveProps","nextProps","post","submitTemplate","preventDefault","refs","emailContent","NotificationData","swal","Meteor","call","error","result","console","log","reason","updateTemplate","path","replace","selectType","EditTemplate","postHandle","subscribe","Id","loading","exportDefault"],"mappings":";;;;;;;;;;;;;;AAAA,IAAIA,cAAJ;AAAA,IAAUC,kBAAV;AAAoBC,OAAOC,KAAP,CAAaC,QAAQ,OAAR,CAAb,EAA8B;AAAA,sBAASC,CAAT,EAAW;AAACL,UAAMK,CAAN;AAAQ,EAApB;AAAqBJ,UAArB,YAA+BI,CAA/B,EAAiC;AAACJ,cAAUI,CAAV;AAAY;AAA9C,CAA9B,EAA8E,CAA9E;AAAiF,IAAIC,eAAJ;AAAWJ,OAAOC,KAAP,CAAaC,QAAQ,WAAR,CAAb,EAAkC;AAACE,OAAD,YAAQD,CAAR,EAAU;AAACC,WAAOD,CAAP;AAAS;AAApB,CAAlC,EAAwD,CAAxD;AAA2D,IAAIE,qBAAJ;AAAiBL,OAAOC,KAAP,CAAaC,QAAQ,iCAAR,CAAb,EAAwD;AAAA,sBAASC,CAAT,EAAW;AAACE,iBAAaF,CAAb;AAAe;AAA3B,CAAxD,EAAqF,CAArF;AAAwF,IAAIG,oBAAJ;AAAgBN,OAAOC,KAAP,CAAaC,QAAQ,0BAAR,CAAb,EAAiD;AAACI,YAAD,YAAaH,CAAb,EAAe;AAACG,gBAAYH,CAAZ;AAAc;AAA9B,CAAjD,EAAiF,CAAjF;AAAoF,IAAII,6BAAJ;AAAyBP,OAAOC,KAAP,CAAaC,QAAQ,gCAAR,CAAb,EAAuD;AAACK,qBAAD,YAAsBJ,CAAtB,EAAwB;AAACI,yBAAqBJ,CAArB;AAAuB;AAAhD,CAAvD,EAAyG,CAAzG;AAA4G,IAAIK,uBAAJ;AAAmBR,OAAOC,KAAP,CAAaC,QAAQ,cAAR,CAAb,EAAqC;AAACM,eAAD,YAAgBL,CAAhB,EAAkB;AAACK,mBAAeL,CAAf;AAAiB;AAApC,CAArC,EAA2E,CAA3E;;IAQ1gBM,c;;;0BAGLC,iB;+BAAmB;AAClB;AACEC,KAAE,WAAF,EAAeC,SAAf,CAAyB,CAAzB;;AACA,OAAI,CAACD,EAAE,WAAF,EAAeE,MAAhB,GAAuB,CAAvB,IAA4B,CAACF,EAAE,MAAF,EAAUG,QAAV,CAAmB,UAAnB,CAAjC,EAAiE;AAChE,QAAIC,WAAWC,SAASC,aAAT,CAAuB,QAAvB,CAAf;AACAF,aAASG,IAAT,GAAc,iBAAd;AACAH,aAASI,GAAT,GAAe,iBAAf;AACAR,MAAE,MAAF,EAAUS,MAAV,CAAiBL,QAAjB;AACA;;AACHJ,KAAEK,QAAF,EAAYK,KAAZ,CAAkB,YAAW,CAE3B;AACA;AACA;AACA;AACA;AACD,IAPD;AASA,OAAIC,QAAY,KAAKC,KAAL,CAAWC,MAAX,CAAkBC,EAAlC;;AACA,OAAGH,KAAH,EAAS;AACR,QAAII,eAAenB,qBAAqBoB,OAArB,CAA6B;AAAC,YAAML;AAAP,KAA7B,CAAnB;;AACA,QAAGI,YAAH,EAAgB;AACf,SAAIE,UAAUF,aAAaE,OAA3B;AACAjB,OAAE,gBAAF,EAAoBkB,IAApB,CAAyBD,OAAzB;;AACA,SAAG,CAACF,aAAaI,OAAjB,EAAyB;AACxBnB,QAAE,aAAF,EAAiBoB,GAAjB,CAAqB;AAAC,kBAAU;AAAX,OAArB;AACA,MALc,CAKd;;AACD,KARO,CAQP;;;AACDpB,MAAE,gBAAF,EAAoBoB,GAApB,CAAwB;AAAC,gBAAU;AAAX,KAAxB;AACApB,MAAE,YAAF,EAAgBoB,GAAhB,CAAoB;AAAC,gBAAU;AAAX,KAApB;;AACA,QAAIpB,EAAE,kBAAF,EAAsBqB,IAAtB,CAA2B,iBAA3B,CAAJ,EACK;AACErB,OAAE,kBAAF,EAAsBkB,IAAtB,CAA2B,iBAA3B;AACD;AACN,IAlCiB,CAkCjB;;AAED;;;;;0BACDI,kB;gCAAqB,CAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACD;;;;;0BACAC,oB;kCAAsB;AACpBvB,KAAE,+BAAF,EAAmCwB,MAAnC,GADoB,CAEpB;AACD;;;;;0BACHC,Y;wBAAaC,K,EAAM;AAAA;;AACjB,OAAMC,SAASD,MAAMC,MAArB;AACA,OAAMC,OAASD,OAAOC,IAAtB;AACA,QAAKC,QAAL,4BACED,IADF,IACSF,MAAMC,MAAN,CAAaG,KADtB;AAGD;;;;;AAED,yBAAYlB,KAAZ,EAAmB;AAAA;;AAAA,6DACjB,yBAAMA,KAAN,CADiB;;AAEjB,QAAKmB,KAAL,GAAa;AACXC,iBAAkB,MAAKpB,KAAL,CAAWoB,YADlB;AAEXC,iBAAkB,MAAKrB,KAAL,CAAWqB,YAFlB;AAGXd,YAAkB,MAAKP,KAAL,CAAWO,OAHlB;AAIXF,YAAkB,MAAKL,KAAL,CAAWK;AAJlB,GAAb;AAQE,QAAKQ,YAAL,GAAoB,MAAKA,YAAL,CAAkBS,IAAlB,OAApB;AAVe;AAWlB;;0BAEAC,yB;qCAA0BC,S,EAAW;AACjC,QAAKP,QAAL,CAAc;AACVG,kBAAmBI,UAAUC,IAAV,CAAeL,YADxB;AAEVC,kBAAmBG,UAAUC,IAAV,CAAeJ,YAFxB;AAGVd,aAAmBiB,UAAUC,IAAV,CAAelB,OAHxB;AAIVF,aAAiBmB,UAAUC,IAAV,CAAepB;AAJtB,IAAd;AAOA,QAAKQ,YAAL,GAAoB,KAAKA,YAAL,CAAkBS,IAAlB,CAAuB,IAAvB,CAApB,CARiC,CASjC;AACD;;;;;0BAEJI,c;0BAAeZ,K,EAAM;AACpBA,SAAMa,cAAN;AACA,OAAIP,eAAmB,KAAKQ,IAAL,CAAUR,YAAV,CAAuBF,KAA9C;AACA,OAAIG,eAAmB,KAAKO,IAAL,CAAUP,YAAV,CAAuBH,KAA9C;AACA,OAAIX,UAAmB,KAAKqB,IAAL,CAAUrB,OAAV,CAAkBW,KAAzC,CAJoB,CAKpB;;AACE,OAAIW,eAAmB,KAAKD,IAAL,CAAUvB,OAAV,CAAkBa,KAAzC;AAEF,OAAIY,mBAAmB9C,qBAAqBoB,OAArB,CAA6B;AAAC,oBAAegB,YAAhB;AAA6B,oBAAeC;AAA5C,IAA7B,CAAvB;;AACA,OAAGS,gBAAH,EAAoB;AACnBC,SAAK,6BAAL;AACA,IAFD,MAEM,IAAGX,gBAAgB,cAAhB,IAAkCA,gBAAgB,KAArD,EAA2D;AAChE,QAAGC,aAAa/B,MAAb,IAAuB,CAA1B,EAA4B;AAC3ByC,UAAK,wCAAL;AACA,KAFD,MAEK;AACJC,YAAOC,IAAP,CAAY,gBAAZ,EAA6Bb,YAA7B,EAA0CC,YAA1C,EAAuDQ,YAAvD,EAAoE,UAASK,KAAT,EAAeC,MAAf,EAAsB;AACnF,UAAGD,KAAH,EAAS;AACRE,eAAQC,GAAR,CAAYH,MAAMI,MAAlB;AACA,OAFD,MAEK;AACJP,YAAK,2BAAL;AACA;AACD,MANP;AAOA;;AAEK,SAAKH,IAAL,CAAUP,YAAV,CAAuBH,KAAvB,GAAgC,EAAhC;AACA,SAAKU,IAAL,CAAUvB,OAAV,CAAkBa,KAAlB,GAA2B,EAA3B,CAd0D,CAgB1D;AACN,IAjBK,MAiBD;AACJ,QAAGG,aAAa/B,MAAb,IAAuB,CAAvB,IAA4BiB,QAAQjB,MAAR,IAAkB,CAAjD,EAAmD;AAClDyC,UAAK,wCAAL;AACA,KAFD,MAEK;AACJC,YAAOC,IAAP,CAAY,mBAAZ,EAAgCb,YAAhC,EAA6CC,YAA7C,EAA0Dd,OAA1D,EAAkEsB,YAAlE,EAA+E,UAASK,KAAT,EAAeC,MAAf,EAAsB;AAC9F,UAAGD,KAAH,EAAS;AACRE,eAAQC,GAAR,CAAYH,MAAMI,MAAlB;AACA,OAFD,MAEK;AACJP,YAAK,2BAAL;AACA;AACD,MANP;AAOA;;AAEK,SAAKH,IAAL,CAAUP,YAAV,CAAuBH,KAAvB,GAAgC,EAAhC;AACA,SAAKU,IAAL,CAAUrB,OAAV,CAAkBW,KAAlB,GAAgC,EAAhC;AACA,SAAKU,IAAL,CAAUvB,OAAV,CAAkBa,KAAlB,GAA2B,EAA3B,CAfF,CAiBE;AACN;AAGD;;;;;0BAEDqB,c;0BAAezB,K,EAAM;AACpBA,SAAMa,cAAN,GADoB,CAEpB;;AACA,OAAIzB,KAAmB,KAAKF,KAAL,CAAWC,MAAX,CAAkBC,EAAzC;AACAkC,WAAQC,GAAR,CAAY,IAAZ,EAAiBnC,EAAjB;AACA,OAAIkB,eAAmB,KAAKQ,IAAL,CAAUR,YAAV,CAAuBF,KAA9C;AACA,OAAIG,eAAmB,KAAKO,IAAL,CAAUP,YAAV,CAAuBH,KAA9C;AACA,OAAIX,UAAmB,KAAKqB,IAAL,CAAUrB,OAAV,CAAkBW,KAAzC,CAPoB,CAQpB;;AACA,OAAIW,eAAmB,KAAKD,IAAL,CAAUvB,OAAV,CAAkBa,KAAzC;;AAEA,OAAGE,gBAAgB,cAAhB,IAAkCA,gBAAgB,KAArD,EAA2D;AAC1DgB,YAAQC,GAAR,CAAY,OAAZ;AACAL,WAAOC,IAAP,CAAY,gBAAZ,EAA6B/B,EAA7B,EAAgCmB,YAAhC,EAA6CQ,YAA7C,EAA0D,UAASK,KAAT,EAAeC,MAAf,EAAsB;AACzE,SAAGD,KAAH,EAAS;AACRE,cAAQC,GAAR,CAAYH,MAAMI,MAAlB;AACA,MAFD,MAEK;AACJP,WAAK,0BAAL;AACA,UAAIS,OAAO,sBAAX;AACIvD,qBAAewD,OAAf,CAAuBD,IAAvB;AACJ;AACD,KARP;AAUM,SAAKZ,IAAL,CAAUP,YAAV,CAAuBH,KAAvB,GAAgC,EAAhC;AACA,SAAKU,IAAL,CAAUvB,OAAV,CAAkBa,KAAlB,GAA2B,EAA3B,CAboD,CAcpD;AACN,IAfD,MAeK;AACJkB,YAAQC,GAAR,CAAY,SAAZ;AACAL,WAAOC,IAAP,CAAY,mBAAZ,EAAgC/B,EAAhC,EAAmCmB,YAAnC,EAAgDd,OAAhD,EAAwDsB,YAAxD,EAAqE,UAASK,KAAT,EAAeC,MAAf,EAAsB;AACpF,SAAGD,KAAH,EAAS;AACRE,cAAQC,GAAR,CAAYH,MAAMI,MAAlB;AACA,MAFD,MAEK;AACJP,WAAK,0BAAL;AACA,UAAIS,OAAO,sBAAX;AACKvD,qBAAewD,OAAf,CAAuBD,IAAvB;AACL;AACD,KARP;AAUM,SAAKZ,IAAL,CAAUP,YAAV,CAAuBH,KAAvB,GAAgC,EAAhC;AACA,SAAKU,IAAL,CAAUrB,OAAV,CAAkBW,KAAlB,GAAgC,EAAhC;AACA,SAAKU,IAAL,CAAUvB,OAAV,CAAkBa,KAAlB,GAA2B,EAA3B,CAdF,CAeE;AACN,IA1CmB,CA2CpB;;AAEA;;;;;0BAEDwB,U;sBAAW5B,K,EAAM;AAChBA,SAAMa,cAAN,GADgB,CAEhB;AACA;AACA;AACA;AACA;;AACA,OAAG,KAAKC,IAAL,CAAUR,YAAV,CAAuBF,KAAvB,IAAiC,cAAjC,IAAmD,KAAKU,IAAL,CAAUR,YAAV,CAAuBF,KAAvB,IAAiC,KAAvF,EAA8F;AAC7F9B,MAAE,aAAF,EAAiBoB,GAAjB,CAAqB;AAAC,gBAAU;AAAX,KAArB;AACA,IAFD,MAEM,IAAG,KAAKoB,IAAL,CAAUR,YAAV,CAAuBF,KAAvB,IAAiC,OAApC,EAA4C;AACjD9B,MAAE,aAAF,EAAiBoB,GAAjB,CAAqB;AAAC,gBAAU;AAAX,KAArB;AACA;AACD;;;;;0BAED3B,M;oBAAQ;AACJ,UACD;AAAA;AAAA;AAAK,gBAAU;AAAf;AACE;AAAA;AAAA;AAAS,iBAAU;AAAnB;AACE;AAAA;AAAA;AAAK,kBAAU;AAAf;AACE;AAAA;AAAA;AAAK,mBAAU;AAAf;AACE;AAAA;AAAA;AAAK,oBAAU;AAAf;AACC;AAAA;AAAA;AAAK,qBAAU;AAAf;AACA;AAAA;AAAA;AAAI,sBAAU;AAAd;AAAA;AAAA;AADA,SADD;AAIP;AAAA;AAAA;AAAK,qBAAU;AAAf;AACC;AAAA;AAAA;AAAM,sBAAU;AAAhB;AACC;AAAA;AAAA;AAAK,uBAAU;AAAf;AACC;AAAA;AAAA;AAAK,wBAAU;AAAf;AACC;AAAA;AAAA;AAAK,yBAAU;AAAf;AACC;AAAA;AAAA;AAAO,0BAAU;AAAjB;AAAA;AAAwD;AAAA;AAAA;AAAM,2BAAU;AAAhB;AAAA;AAAA,eAAxD;AAAA;AAAA,cADD;AAEO;AAAA;AAAA;AAAQ,0BAAU,2BAAlB;AAA8C,qBAAK,cAAnD;AAAkE,oBAAI,cAAtE;AAAqF,yBAAU,KAAK6D,UAAL,CAAgBpB,IAAhB,CAAqB,IAArB,CAA/F;AAA2H,sBAAO,KAAKH,KAAL,CAAWC;AAA7I;AACD;AAAA;AAAA;AAAA;AAAA,eADC;AAEH;AAAA;AAAA;AAAA;AAAA,eAFG;AAGH;AAAA;AAAA;AAAA;AAAA,eAHG;AAIH;AAAA;AAAA;AAAA;AAAA;AAJG;AAFP;AADD;AADD,WADD;AAeC;AAAA;AAAA;AAAK,uBAAU;AAAf;AACC;AAAA;AAAA;AAAK,wBAAU;AAAf;AACC;AAAA;AAAA;AAAK,yBAAU;AAAf;AACC;AAAA;AAAA;AAAO,0BAAU;AAAjB;AAAA;AAAuF;AAAA;AAAA;AAAM,2BAAU;AAAhB;AAAA;AAAA,eAAvF;AAAA;AAAA,cADD;AAEO;AAAO,oBAAK,MAAZ;AAAmB,mBAAI,cAAvB;AAAsC,oBAAK,cAA3C;AAA0D,qBAAO,KAAKD,KAAL,CAAWE,YAA5E;AAA0F,wBAAU,KAAKR,YAAzG;AAAuH,yBAAU,kEAAjI;AAAoM;AAApM;AAFP;AADD;AADD,WAfD;AAuBC;AAAA;AAAA;AAAK,uBAAU;AAAf;AACC;AAAA;AAAA;AAAK,wBAAU;AAAf;AACC;AAAA;AAAA;AAAK,yBAAU;AAAf;AACC;AAAA;AAAA;AAAO,0BAAU;AAAjB;AAAA;AAAiF;AAAA;AAAA;AAAM,2BAAU;AAAhB;AAAA;AAAA,eAAjF;AAAA;AAAA,cADD;AAEO;AAAO,oBAAK,MAAZ;AAAmB,mBAAI,SAAvB;AAAiC,oBAAK,SAAtC;AAAgD,qBAAO,KAAKM,KAAL,CAAWZ,OAAlE;AAA2E,wBAAU,KAAKM,YAA1F;AAAwG,yBAAU,4DAAlH;AAA+K;AAA/K;AAFP;AADD;AADD,WAvBD;AA+BC;AAAA;AAAA;AAAK,uBAAU;AAAf;AACC;AAAA;AAAA;AAAK,wBAAU;AAAf;AACC;AAAA;AAAA;AAAK,yBAAU;AAAf;AACC;AAAA;AAAA;AAAO,0BAAU;AAAjB;AAAA;AAAiF;AAAA;AAAA;AAAM,2BAAU;AAAhB;AAAA;AAAA,eAAjF;AAAA;AAAA,cADD;AAEC;AAAA;AAAA;AAAK,0BAAU;AAAf;AAEC;AAAU,qBAAK,SAAf;AAAyB,oBAAI,SAA7B;AAAuC,sBAAO,KAAKM,KAAL,CAAWd,OAAzD;AAAmE,0BAAU,uDAA7E;AAAqI,qBAAK,IAA1I;AAA+I,yBAAU,KAAKQ;AAA9J;AAFD;AAFD;AADD;AADD,WA/BD;AA0CC;AAAA;AAAA;AAAK,uBAAU;AAAf;AACC;AAAA;AAAA;AAAQ,sBAAS,KAAKa,cAAL,CAAoBJ,IAApB,CAAyB,IAAzB,CAAjB;AAAiD,mBAAK,QAAtD;AAA+D,wBAAU;AAAzE;AAAA;AAAA,YADD;AAEC;AAAA;AAAA;AAAQ,sBAAS,KAAKiB,cAAL,CAAoBjB,IAApB,CAAyB,IAAzB,CAAjB;AAAiD,mBAAK,QAAtD;AAA+D,wBAAU;AAAzE;AAAA;AAAA;AAFD;AA1CD;AADD;AAJO;AADF;AADF;AADF;AADF,IADC;AAgEA;;;;;;EAvQwBxC,aAAaN,SAAb,C;;AA0Q7BmE,eAAe5D,YAAY,gBAAY;AAAA,KAAVkB,MAAU,QAAVA,MAAU;AAEnC,KAAM2C,aAAaZ,OAAOa,SAAP,CAAiB,sBAAjB,CAAnB,CAFmC,CAGnC;;AACA,KAAIC,KAAe7C,OAAOC,EAA1B,CAJmC,CAKpC;AACA;AACA;AACA;;AACC,KAAMuB,OAAazC,qBAAqBoB,OAArB,CAA6B;AAAC,SAAM0C;AAAP,EAA7B,KAA0C,EAA7D;AACA,KAAMC,UAAa,CAACH,WAAW9C,KAAX,EAApB;AAEA,QAAO;AACHiD,kBADG;AAEHtB;AAFG,EAAP;AAIH,CAhBc,EAgBZvC,cAhBY,CAAf;AAlRAT,OAAOuE,aAAP,CAoSeL,YApSf","file":"imports/dashboard/notification/components/CreateTemplate.jsx.map","sourcesContent":["import React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport TrackerReact from 'meteor/ultimatejs:tracker-react';\nimport { withTracker } from 'meteor/react-meteor-data';\nimport { NotificationTemplate } from '../api/NotificationTemplate.js';\nimport {browserHistory} from 'react-router';\n\n\nclass CreateTemplate extends TrackerReact(Component) {\n   \n\n\tcomponentDidMount(){\n\t\t// renderFunction();\n    $(\"html,body\").scrollTop(0);\n    if (!$(\"#adminLte\").length>0 && !$('body').hasClass('adminLte')) {\n     var adminLte = document.createElement(\"script\");  \n     adminLte.type=\"text/javascript\";  \n     adminLte.src = \"/js/adminLte.js\";  \n     $(\"body\").append(adminLte);  \n    }\n\t\t$(document).ready(function() {\n\n\t\t  // $('#messageContent').summernote({\n\t   //      height: 190,\n\t   //      maxHeight:190,\n\t   //      minHeight:175,\n\t   //  \t});\n\t\t});\n\n\t\tvar getId     = this.props.params.id;\n\t\tif(getId){\n\t\t\tvar notifContent = NotificationTemplate.findOne({'_id':getId});\n\t\t\tif(notifContent){\n\t\t\t\tvar content = notifContent.content;\n\t\t\t\t$('.note-editable').html(content);\n\t\t\t\tif(!notifContent.subject){\n\t\t\t\t\t$('.subjectDiv').css({'display':'none'});\n\t\t\t\t}//subject\n\t\t\t}//notifContent\n\t\t\t$('.sendtxtmsgbtn').css({'display':'none'});\n\t\t\t$('.updatebtn').css({'display':'block'});\n\t\t\tif ($(\".reportTitleName\").text(\"CREATE TEMPLATE\"))\n\t      \t{\t\t\t\n\t        \t$(\".reportTitleName\").html(\"UPDATE TEMPLATE\");\n\t      \t}\n\t\t}//getId\t\t\n\n\t}\n\tcomponentWillMount() {\n    // if (!!!$(\"link[href='/css/dashboard.css']\").length > 0) {\n    //   var dashboardCss = document.createElement(\"link\");\n    //   dashboardCss.type = \"text/css\"; \n    //   dashboardCss.rel = \"stylesheet\";\n    //   dashboardCss.href = \"/css/dashboard.css\"; \n    //   document.head.append(dashboardCss);\n    // }\n  }\n   componentWillUnmount(){  \n     $(\"script[src='/js/adminLte.js']\").remove(); \n     // $(\"link[href='/css/dashboard.css']\").remove(); \n   }\n\thandleChange(event){\n\t  const target = event.target;\n\t  const name   = target.name;\n\t  this.setState({\n\t  \t[name]: event.target.value,\n\t  });\n\t}\n\n\tconstructor(props) {\n\t  super(props);\n\t  this.state = {\n\t    templateType    : this.props.templateType,\n\t    templateName    : this.props.templateName,\n\t    subject         : this.props.subject,\n\t    content         : this.props.content,\n\t   \n\t  };\n\n\t    this.handleChange = this.handleChange.bind(this);\n\t}\n\n  componentWillReceiveProps(nextProps) {\n      this.setState({\n          templateType     : nextProps.post.templateType,\n          templateName     : nextProps.post.templateName,\n          subject      \t   : nextProps.post.subject,\n          content   \t\t   : nextProps.post.content,     \n      })\n\n      this.handleChange = this.handleChange.bind(this);\n      /*this.handleSubmit = this.handleSubmit.bind(this);*/\n    }\n\n\tsubmitTemplate(event){\n\t\tevent.preventDefault();\n\t\tvar templateType     = this.refs.templateType.value;\n\t\tvar templateName     = this.refs.templateName.value;\n\t\tvar subject          = this.refs.subject.value;\n\t\t// var emailContent     = $('#messageContent').summernote('code');\n    var emailContent     = this.refs.content.value;\n\n\t\tvar NotificationData = NotificationTemplate.findOne({'templateType':templateType,'templateName':templateName});\n\t\tif(NotificationData){\n\t\t\tswal(\"Template Name Already Exist\");\n\t\t}else if(templateType == 'Notification' || templateType == 'SMS'){\n\t\t\tif(templateName.length == 0){\n\t\t\t\tswal(\"Please fill in all the required fields\");\n\t\t\t}else{\n\t\t\t\tMeteor.call('insertTemplate',templateType,templateName,emailContent,function(error,result){\n\t\t        \tif(error){\n\t\t        \t\tconsole.log(error.reason);\n\t\t        \t}else{\n\t\t        \t\tswal(\"Successfully Inserted..!!\");\n\t\t        \t}\n\t\t        });\t\n\t\t\t}\n\n\t        this.refs.templateName.value  = '';\n\t        this.refs.content.value  = '';\n\n\t        // $('#messageContent').summernote('code','');\n\t\t}else{\n\t\t\tif(templateName.length == 0 || subject.length == 0){\n\t\t\t\tswal(\"Please fill in all the required fields\");\n\t\t\t}else{\n\t\t\t\tMeteor.call('insertNewTemplate',templateType,templateName,subject,emailContent,function(error,result){\n\t\t        \tif(error){\n\t\t        \t\tconsole.log(error.reason);\n\t\t        \t}else{\n\t\t        \t\tswal(\"Successfully Inserted..!!\");\n\t\t        \t}\n\t\t        });\t\n\t\t\t}\n\n\t        this.refs.templateName.value  = '';\n\t        this.refs.subject.value       = '';\n\t        this.refs.content.value  = '';\n\n\t        // $('#messageContent').summernote('code','');\n\t\t}\n\n        \n\t}\n\n\tupdateTemplate(event){\n\t\tevent.preventDefault();\n\t\t// var id = FlowRouter.getParam(\"id\");\n\t\tvar id               = this.props.params.id;\n\t\tconsole.log(\"id\",id);\n\t\tvar templateType     = this.refs.templateType.value;\n\t\tvar templateName     = this.refs.templateName.value;\n\t\tvar subject          = this.refs.subject.value;\n\t\t// var emailContent     = $('#messageContent').summernote('code');\n\t\tvar emailContent     = this.refs.content.value;\n\n\t\tif(templateType == 'Notification' || templateType == 'SMS'){\n\t\t\tconsole.log(\"in if\");\n\t\t\tMeteor.call('updateTemplate',id,templateName,emailContent,function(error,result){\n\t        \tif(error){\n\t        \t\tconsole.log(error.reason);\n\t        \t}else{\n\t        \t\tswal(\"Updated Successfully..!!\");\n\t        \t\tvar path = \"/admin/ViewTemplates\";\n               browserHistory.replace(path);\n\t        \t}\n\t        });\t\n\n\t        this.refs.templateName.value  = '';\n\t        this.refs.content.value  = '';\n\t        // $('#messageContent').summernote('code','');\n\t\t}else{\n\t\t\tconsole.log(\"in else\");\n\t\t\tMeteor.call('updateNewTemplate',id,templateName,subject,emailContent,function(error,result){\n\t        \tif(error){\n\t        \t\tconsole.log(error.reason);\n\t        \t}else{\n\t        \t\tswal(\"Updated Successfully..!!\");\n\t        \t\tvar path = \"/admin/ViewTemplates\";\n                browserHistory.replace(path);\n\t        \t}\n\t        });\t\n\n\t        this.refs.templateName.value  = '';\n\t        this.refs.subject.value       = '';\n\t        this.refs.content.value  = '';\n\t        // $('#messageContent').summernote('code','');\n\t\t}\n\t\t// FlowRouter.go('/viewAllTemplates');\n\t\t\n\t}\n\n\tselectType(event){\n\t\tevent.preventDefault();\n\t\t// const target = event.target;\n\t //  const name   = target.name;\n\t //  this.setState({\n\t //  \t[name]: event.target.value,\n\t //  });\n\t\tif(this.refs.templateType.value  == 'Notification' || this.refs.templateType.value  == 'SMS' ){\n\t\t\t$('.subjectRow').css({'display':'none'});\n\t\t}else if(this.refs.templateType.value  == 'Email'){\n\t\t\t$('.subjectRow').css({'display':'block'});\n\t\t}\n\t}\n\n\trender(){\n     return(\n    <div className=\"content-wrapper\">\n      <section className=\"content NotificationContent\">\n        <div className=\"row\">\n          <div className=\"col-lg-12 col-md-10 col-sm-12 col-xs-12 \">\n            <div className=\"box box-primary\">\n\t            <div className=\"box-header with-border\">\n\t            <h3 className=\"box-title\">CREATE TEMPLATE</h3>\n\t            </div>\n\t\t\t\t\t<div className=\"box-body\">\n\t\t\t\t\t\t<form className=\"newTemplateForm\">\n\t\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t\t<div className=\"col-lg-6 col-md-6 col-sm-12 col-xs-12\">\n\t\t\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t\t <label className=\"col-lg-6 label-category\">Template Type<span className=\"astrick\">*</span>:</label>     \t\t\t\t\t\t\n\t\t\t\t\t\t\t\t        <select className=\"form-control templateType\" name=\"templateType\" ref=\"templateType\" onChange={this.selectType.bind(this)} value={this.state.templateType}>\n\t\t\t\t\t\t\t\t      \t<option> -- Select --</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option> Email </option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option> Notification </option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option> SMS </option>\n\t\t\t\t\t\t\t\t       </select> \n    \t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t</div>\t\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row inputrow\">\n\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n\t\t\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t\t <label className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 label-category\">Template Name<span className=\"astrick\">*</span>:</label>     \t\t\t\t\t\t\n\t\t\t\t\t\t\t\t        <input type=\"text\" ref=\"templateName\" name=\"templateName\" value={this.state.templateName} onChange={this.handleChange} className=\"templateName col-lg-12 col-md-12 col-sm-12 col-xs-12 inputValid \" required />\n\t\t\t\t\t\t\t\t\t</div>\t\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row inputrow subjectRow\">\n\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n\t\t\t\t\t\t\t\t\t<div className=\"form-group subjectDiv\">\n\t\t\t\t\t\t\t\t\t <label className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 label-category\">Subject<span className=\"astrick\">*</span>:</label>     \t\t\t\t\t\t\n\t\t\t\t\t\t\t\t        <input type=\"text\" ref=\"subject\" name=\"subject\" value={this.state.subject} onChange={this.handleChange} className=\"subject col-lg-12 col-md-12 col-sm-12 col-xs-12 inputValid\" required/>\n\t\t\t\t\t\t\t\t\t</div>\t\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row inputrow\">\n\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n\t\t\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t\t <label className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 label-category\">Message<span className=\"astrick\">*</span>:</label> \n\t\t\t\t\t\t\t\t\t <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding\"> \n\t\t\t\t\t\t\t\t\t \t{/*<div id=\"messageContent\" name=\"content\" onChange={this.handleChange}></div>*/}  \n\t\t\t\t\t\t\t\t\t \t<textarea name=\"content\" ref=\"content\" value={this.state.content}  className=\"templateName  col-lg-12 col-md-12 col-sm-12 col-xs-12\" rows=\"10\" onChange={this.handleChange}></textarea>\n\t\t\t\t\t\t\t\t\t </div> \t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t</div>\t\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"savetemp col-lg-12 col-md-12 col-sm-12 col-xs-12\"> \n\t\t\t\t\t\t\t\t<button onClick={this.submitTemplate.bind(this)} type=\"submit\" className=\"col-lg-2 col-md-3 col-sm-6 col-xs-12 btn btn-primary pull-right sendtxtmsgbtn\">Save Template</button>\n\t\t\t\t\t\t\t\t<button onClick={this.updateTemplate.bind(this)} type=\"submit\" className=\"btn btn-primary pull-right updatebtn col-lg-2 col-md-3 col-sm-6 col-xs-12\">Update Template</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t</section>\n   </div>\n     \t);\n    }\n}\n\nEditTemplate = withTracker(({params})=>{\n\n    const postHandle = Meteor.subscribe('notificationTemplate');\n    // var Id           = FlowRouter.getParam(\"id\");\n    var Id           = params.id;\n   //  if (Id) {\n   //    $('.sendtxtmsgbtn').css({'display':'none'});\n\t\t\t// $('.updatebtn').css({'display':'block'});\n   //  }\n    const post       = NotificationTemplate.findOne({'_id':Id})||{};\n    const loading    = !postHandle.ready();\n\n    return {\n        loading,\n        post,\n    }; \n})(CreateTemplate);\n\nexport default EditTemplate;\n\n"]},"hash":"a2d830825ee4672f0bb5d3967cec4a5f8a6daf2e"}
