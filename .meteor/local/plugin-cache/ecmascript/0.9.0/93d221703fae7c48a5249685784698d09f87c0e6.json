{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"react","imported":["default","Component"],"specifiers":[{"kind":"named","imported":"default","local":"React"},{"kind":"named","imported":"Component","local":"Component"}]},{"source":"react-dom","imported":["render"],"specifiers":[{"kind":"named","imported":"render","local":"render"}]},{"source":"meteor/ultimatejs:tracker-react","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"TrackerReact"}]},{"source":"meteor/react-meteor-data","imported":["withTracker"],"specifiers":[{"kind":"named","imported":"withTracker","local":"withTracker"}]},{"source":"../api/NotificationTemplate.js","imported":["NotificationTemplate"],"specifiers":[{"kind":"named","imported":"NotificationTemplate","local":"NotificationTemplate"}]},{"source":"react-router","imported":["browserHistory"],"specifiers":[{"kind":"named","imported":"browserHistory","local":"browserHistory"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"imports/dashboard/notification/components/CreateTemplate.jsx","filenameRelative":"imports/dashboard/notification/components/CreateTemplate.jsx","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"useNativeAsyncAwait":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/dashboard/notification/components/CreateTemplate.jsx.map","sourceFileName":"imports/dashboard/notification/components/CreateTemplate.jsx","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"CreateTemplate"},"ignored":false,"code":"let React, Component;\nmodule.watch(require(\"react\"), {\n\tdefault(v) {\n\t\tReact = v;\n\t},\n\n\tComponent(v) {\n\t\tComponent = v;\n\t}\n\n}, 0);\nlet render;\nmodule.watch(require(\"react-dom\"), {\n\trender(v) {\n\t\trender = v;\n\t}\n\n}, 1);\nlet TrackerReact;\nmodule.watch(require(\"meteor/ultimatejs:tracker-react\"), {\n\tdefault(v) {\n\t\tTrackerReact = v;\n\t}\n\n}, 2);\nlet withTracker;\nmodule.watch(require(\"meteor/react-meteor-data\"), {\n\twithTracker(v) {\n\t\twithTracker = v;\n\t}\n\n}, 3);\nlet NotificationTemplate;\nmodule.watch(require(\"../api/NotificationTemplate.js\"), {\n\tNotificationTemplate(v) {\n\t\tNotificationTemplate = v;\n\t}\n\n}, 4);\nlet browserHistory;\nmodule.watch(require(\"react-router\"), {\n\tbrowserHistory(v) {\n\t\tbrowserHistory = v;\n\t}\n\n}, 5);\n\nclass CreateTemplate extends TrackerReact(Component) {\n\tcomponentDidMount() {\n\t\t// renderFunction();\n\t\t$(\"html,body\").scrollTop(0);\n\n\t\tif (!$(\"#adminLte\").length > 0 && !$('body').hasClass('adminLte')) {\n\t\t\tvar adminLte = document.createElement(\"script\");\n\t\t\tadminLte.type = \"text/javascript\";\n\t\t\tadminLte.src = \"/js/adminLte.js\";\n\t\t\t$(\"body\").append(adminLte);\n\t\t}\n\n\t\t$(document).ready(function () {// $('#messageContent').summernote({\n\t\t\t//      height: 190,\n\t\t\t//      maxHeight:190,\n\t\t\t//      minHeight:175,\n\t\t\t//  \t});\n\t\t});\n\t\tvar getId = this.props.params.id;\n\n\t\tif (getId) {\n\t\t\tvar notifContent = NotificationTemplate.findOne({\n\t\t\t\t'_id': getId\n\t\t\t});\n\n\t\t\tif (notifContent) {\n\t\t\t\tvar content = notifContent.content;\n\t\t\t\t$('.note-editable').html(content);\n\n\t\t\t\tif (!notifContent.subject) {\n\t\t\t\t\t$('.subjectDiv').css({\n\t\t\t\t\t\t'display': 'none'\n\t\t\t\t\t});\n\t\t\t\t} //subject\n\n\t\t\t} //notifContent\n\n\n\t\t\t$('.sendtxtmsgbtn').css({\n\t\t\t\t'display': 'none'\n\t\t\t});\n\t\t\t$('.updatebtn').css({\n\t\t\t\t'display': 'block'\n\t\t\t});\n\n\t\t\tif ($(\".reportTitleName\").text(\"CREATE TEMPLATE\")) {\n\t\t\t\t$(\".reportTitleName\").html(\"UPDATE TEMPLATE\");\n\t\t\t}\n\t\t} //getId\t\t\n\n\t}\n\n\tcomponentWillMount() {// if (!!!$(\"link[href='/css/dashboard.css']\").length > 0) {\n\t\t//   var dashboardCss = document.createElement(\"link\");\n\t\t//   dashboardCss.type = \"text/css\"; \n\t\t//   dashboardCss.rel = \"stylesheet\";\n\t\t//   dashboardCss.href = \"/css/dashboard.css\"; \n\t\t//   document.head.append(dashboardCss);\n\t\t// }\n\t}\n\n\tcomponentWillUnmount() {\n\t\t$(\"script[src='/js/adminLte.js']\").remove(); // $(\"link[href='/css/dashboard.css']\").remove(); \n\t}\n\n\thandleChange(event) {\n\t\tconst target = event.target;\n\t\tconst name = target.name;\n\t\tthis.setState({\n\t\t\t[name]: event.target.value\n\t\t});\n\t}\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttemplateType: this.props.templateType,\n\t\t\ttemplateName: this.props.templateName,\n\t\t\tsubject: this.props.subject,\n\t\t\tcontent: this.props.content\n\t\t};\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tthis.setState({\n\t\t\ttemplateType: nextProps.post.templateType,\n\t\t\ttemplateName: nextProps.post.templateName,\n\t\t\tsubject: nextProps.post.subject,\n\t\t\tcontent: nextProps.post.content\n\t\t});\n\t\tthis.handleChange = this.handleChange.bind(this); /*this.handleSubmit = this.handleSubmit.bind(this);*/\n\t}\n\n\tsubmitTemplate(event) {\n\t\tevent.preventDefault();\n\t\tvar templateType = this.refs.templateType.value;\n\t\tvar templateName = this.refs.templateName.value;\n\t\tvar subject = this.refs.subject.value; // var emailContent     = $('#messageContent').summernote('code');\n\n\t\tvar emailContent = this.refs.content.value;\n\t\tvar NotificationData = NotificationTemplate.findOne({\n\t\t\t'templateType': templateType,\n\t\t\t'templateName': templateName\n\t\t});\n\n\t\tif (NotificationData) {\n\t\t\tswal(\"Template Name Already Exist\");\n\t\t} else if (templateType == 'Notification' || templateType == 'SMS') {\n\t\t\tif (templateName.length == 0) {\n\t\t\t\tswal(\"Please fill in all the required fields\");\n\t\t\t} else {\n\t\t\t\tMeteor.call('insertTemplate', templateType, templateName, emailContent, function (error, result) {\n\t\t\t\t\tif (error) {\n\t\t\t\t\t\tconsole.log(error.reason);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tswal(\"Successfully Inserted..!!\");\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.refs.templateName.value = '';\n\t\t\tthis.refs.content.value = ''; // $('#messageContent').summernote('code','');\n\t\t} else {\n\t\t\tif (templateName.length == 0 || subject.length == 0) {\n\t\t\t\tswal(\"Please fill in all the required fields\");\n\t\t\t} else {\n\t\t\t\tMeteor.call('insertNewTemplate', templateType, templateName, subject, emailContent, function (error, result) {\n\t\t\t\t\tif (error) {\n\t\t\t\t\t\tconsole.log(error.reason);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tswal(\"Successfully Inserted..!!\");\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.refs.templateName.value = '';\n\t\t\tthis.refs.subject.value = '';\n\t\t\tthis.refs.content.value = ''; // $('#messageContent').summernote('code','');\n\t\t}\n\t}\n\n\tupdateTemplate(event) {\n\t\tevent.preventDefault(); // var id = FlowRouter.getParam(\"id\");\n\n\t\tvar id = this.props.params.id;\n\t\tconsole.log(\"id\", id);\n\t\tvar templateType = this.refs.templateType.value;\n\t\tvar templateName = this.refs.templateName.value;\n\t\tvar subject = this.refs.subject.value; // var emailContent     = $('#messageContent').summernote('code');\n\n\t\tvar emailContent = this.refs.content.value;\n\n\t\tif (templateType == 'Notification' || templateType == 'SMS') {\n\t\t\tconsole.log(\"in if\");\n\t\t\tMeteor.call('updateTemplate', id, templateName, emailContent, function (error, result) {\n\t\t\t\tif (error) {\n\t\t\t\t\tconsole.log(error.reason);\n\t\t\t\t} else {\n\t\t\t\t\tswal(\"Updated Successfully..!!\");\n\t\t\t\t\tvar path = \"/admin/ViewTemplates\";\n\t\t\t\t\tbrowserHistory.replace(path);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.refs.templateName.value = '';\n\t\t\tthis.refs.content.value = ''; // $('#messageContent').summernote('code','');\n\t\t} else {\n\t\t\tconsole.log(\"in else\");\n\t\t\tMeteor.call('updateNewTemplate', id, templateName, subject, emailContent, function (error, result) {\n\t\t\t\tif (error) {\n\t\t\t\t\tconsole.log(error.reason);\n\t\t\t\t} else {\n\t\t\t\t\tswal(\"Updated Successfully..!!\");\n\t\t\t\t\tvar path = \"/admin/ViewTemplates\";\n\t\t\t\t\tbrowserHistory.replace(path);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.refs.templateName.value = '';\n\t\t\tthis.refs.subject.value = '';\n\t\t\tthis.refs.content.value = ''; // $('#messageContent').summernote('code','');\n\t\t} // FlowRouter.go('/viewAllTemplates');\n\n\t}\n\n\tselectType(event) {\n\t\tevent.preventDefault(); // const target = event.target;\n\t\t//  const name   = target.name;\n\t\t//  this.setState({\n\t\t//  \t[name]: event.target.value,\n\t\t//  });\n\n\t\tif (this.refs.templateType.value == 'Notification' || this.refs.templateType.value == 'SMS') {\n\t\t\t$('.subjectRow').css({\n\t\t\t\t'display': 'none'\n\t\t\t});\n\t\t} else if (this.refs.templateType.value == 'Email') {\n\t\t\t$('.subjectRow').css({\n\t\t\t\t'display': 'block'\n\t\t\t});\n\t\t}\n\t}\n\n\trender() {\n\t\treturn React.createElement(\n\t\t\t\"div\",\n\t\t\t{\n\t\t\t\tclassName: \"content-wrapper\"\n\t\t\t},\n\t\t\tReact.createElement(\n\t\t\t\t\"section\",\n\t\t\t\t{\n\t\t\t\t\tclassName: \"content NotificationContent\"\n\t\t\t\t},\n\t\t\t\tReact.createElement(\n\t\t\t\t\t\"div\",\n\t\t\t\t\t{\n\t\t\t\t\t\tclassName: \"row\"\n\t\t\t\t\t},\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\"div\",\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tclassName: \"col-lg-12 col-md-10 col-sm-12 col-xs-12 \"\n\t\t\t\t\t\t},\n\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\"div\",\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tclassName: \"box box-primary\"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\"div\",\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tclassName: \"box-header with-border\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\"h3\",\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tclassName: \"box-title\"\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\"CREATE TEMPLATE\"\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\"div\",\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tclassName: \"box-body\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\"form\",\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tclassName: \"newTemplateForm\"\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\"div\",\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tclassName: \"row\"\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\"div\",\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"col-lg-6 col-md-6 col-sm-12 col-xs-12\"\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\t\"div\",\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"form-group\"\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"label\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"col-lg-6 label-category\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"Template Type\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"span\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"astrick\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"*\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\":\"\n\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"select\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"form-control templateType\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"templateType\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tref: \"templateType\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange: this.selectType.bind(this),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: this.state.templateType\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"option\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\" -- Select --\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"option\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\" Email \"\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"option\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\" Notification \"\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"option\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\" SMS \"\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\"div\",\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tclassName: \"row inputrow\"\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\"div\",\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\"\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\t\"div\",\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"form-group\"\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"label\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 label-category\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"Template Name\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"span\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"astrick\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"*\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\":\"\n\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\tReact.createElement(\"input\", {\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"text\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tref: \"templateName\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"templateName\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: this.state.templateName,\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange: this.handleChange,\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"templateName col-lg-12 col-md-12 col-sm-12 col-xs-12 inputValid \",\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired: true\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\"div\",\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tclassName: \"row inputrow subjectRow\"\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\"div\",\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\"\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\t\"div\",\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"form-group subjectDiv\"\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"label\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 label-category\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"Subject\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"span\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"astrick\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"*\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\":\"\n\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\tReact.createElement(\"input\", {\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"text\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tref: \"subject\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"subject\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: this.state.subject,\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange: this.handleChange,\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"subject col-lg-12 col-md-12 col-sm-12 col-xs-12 inputValid\",\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired: true\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\"div\",\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tclassName: \"row inputrow\"\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\"div\",\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\"\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\t\"div\",\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"form-group\"\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"label\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 label-category\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"Message\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"span\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"astrick\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"*\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\":\"\n\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"div\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\tReact.createElement(\"textarea\", {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"content\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tref: \"content\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: this.state.content,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"templateName  col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trows: \"10\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange: this.handleChange\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\"div\",\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tclassName: \"savetemp col-lg-12 col-md-12 col-sm-12 col-xs-12\"\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\"button\",\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tonClick: this.submitTemplate.bind(this),\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"submit\",\n\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"col-lg-2 col-md-3 col-sm-6 col-xs-12 btn btn-primary pull-right sendtxtmsgbtn\"\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\"Save Template\"\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t\"button\",\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tonClick: this.updateTemplate.bind(this),\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"submit\",\n\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"btn btn-primary pull-right updatebtn col-lg-2 col-md-3 col-sm-6 col-xs-12\"\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\"Update Template\"\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t}\n\n}\n\nEditTemplate = withTracker(({\n\tparams\n}) => {\n\tconst postHandle = Meteor.subscribe('notificationTemplate'); // var Id           = FlowRouter.getParam(\"id\");\n\n\tvar Id = params.id; //  if (Id) {\n\t//    $('.sendtxtmsgbtn').css({'display':'none'});\n\t// $('.updatebtn').css({'display':'block'});\n\t//  }\n\n\tconst post = NotificationTemplate.findOne({\n\t\t'_id': Id\n\t}) || {};\n\tconst loading = !postHandle.ready();\n\treturn {\n\t\tloading,\n\t\tpost\n\t};\n})(CreateTemplate);\nmodule.exportDefault(EditTemplate);","map":{"version":3,"sources":["imports/dashboard/notification/components/CreateTemplate.jsx"],"names":["React","Component","module","watch","require","default","v","render","TrackerReact","withTracker","NotificationTemplate","browserHistory","CreateTemplate","componentDidMount","$","scrollTop","length","hasClass","adminLte","document","createElement","type","src","append","ready","getId","props","params","id","notifContent","findOne","content","html","subject","css","text","componentWillMount","componentWillUnmount","remove","handleChange","event","target","name","setState","value","constructor","state","templateType","templateName","bind","componentWillReceiveProps","nextProps","post","submitTemplate","preventDefault","refs","emailContent","NotificationData","swal","Meteor","call","error","result","console","log","reason","updateTemplate","path","replace","selectType","EditTemplate","postHandle","subscribe","Id","loading","exportDefault"],"mappings":"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","file":"imports/dashboard/notification/components/CreateTemplate.jsx.map","sourcesContent":["import React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport TrackerReact from 'meteor/ultimatejs:tracker-react';\nimport { withTracker } from 'meteor/react-meteor-data';\nimport { NotificationTemplate } from '../api/NotificationTemplate.js';\nimport {browserHistory} from 'react-router';\n\n\nclass CreateTemplate extends TrackerReact(Component) {\n   \n\n\tcomponentDidMount(){\n\t\t// renderFunction();\n    $(\"html,body\").scrollTop(0);\n    if (!$(\"#adminLte\").length>0 && !$('body').hasClass('adminLte')) {\n     var adminLte = document.createElement(\"script\");  \n     adminLte.type=\"text/javascript\";  \n     adminLte.src = \"/js/adminLte.js\";  \n     $(\"body\").append(adminLte);  \n    }\n\t\t$(document).ready(function() {\n\n\t\t  // $('#messageContent').summernote({\n\t   //      height: 190,\n\t   //      maxHeight:190,\n\t   //      minHeight:175,\n\t   //  \t});\n\t\t});\n\n\t\tvar getId     = this.props.params.id;\n\t\tif(getId){\n\t\t\tvar notifContent = NotificationTemplate.findOne({'_id':getId});\n\t\t\tif(notifContent){\n\t\t\t\tvar content = notifContent.content;\n\t\t\t\t$('.note-editable').html(content);\n\t\t\t\tif(!notifContent.subject){\n\t\t\t\t\t$('.subjectDiv').css({'display':'none'});\n\t\t\t\t}//subject\n\t\t\t}//notifContent\n\t\t\t$('.sendtxtmsgbtn').css({'display':'none'});\n\t\t\t$('.updatebtn').css({'display':'block'});\n\t\t\tif ($(\".reportTitleName\").text(\"CREATE TEMPLATE\"))\n\t      \t{\t\t\t\n\t        \t$(\".reportTitleName\").html(\"UPDATE TEMPLATE\");\n\t      \t}\n\t\t}//getId\t\t\n\n\t}\n\tcomponentWillMount() {\n    // if (!!!$(\"link[href='/css/dashboard.css']\").length > 0) {\n    //   var dashboardCss = document.createElement(\"link\");\n    //   dashboardCss.type = \"text/css\"; \n    //   dashboardCss.rel = \"stylesheet\";\n    //   dashboardCss.href = \"/css/dashboard.css\"; \n    //   document.head.append(dashboardCss);\n    // }\n  }\n   componentWillUnmount(){  \n     $(\"script[src='/js/adminLte.js']\").remove(); \n     // $(\"link[href='/css/dashboard.css']\").remove(); \n   }\n\thandleChange(event){\n\t  const target = event.target;\n\t  const name   = target.name;\n\t  this.setState({\n\t  \t[name]: event.target.value,\n\t  });\n\t}\n\n\tconstructor(props) {\n\t  super(props);\n\t  this.state = {\n\t    templateType    : this.props.templateType,\n\t    templateName    : this.props.templateName,\n\t    subject         : this.props.subject,\n\t    content         : this.props.content,\n\t   \n\t  };\n\n\t    this.handleChange = this.handleChange.bind(this);\n\t}\n\n  componentWillReceiveProps(nextProps) {\n      this.setState({\n          templateType     : nextProps.post.templateType,\n          templateName     : nextProps.post.templateName,\n          subject      \t   : nextProps.post.subject,\n          content   \t\t   : nextProps.post.content,     \n      })\n\n      this.handleChange = this.handleChange.bind(this);\n      /*this.handleSubmit = this.handleSubmit.bind(this);*/\n    }\n\n\tsubmitTemplate(event){\n\t\tevent.preventDefault();\n\t\tvar templateType     = this.refs.templateType.value;\n\t\tvar templateName     = this.refs.templateName.value;\n\t\tvar subject          = this.refs.subject.value;\n\t\t// var emailContent     = $('#messageContent').summernote('code');\n    var emailContent     = this.refs.content.value;\n\n\t\tvar NotificationData = NotificationTemplate.findOne({'templateType':templateType,'templateName':templateName});\n\t\tif(NotificationData){\n\t\t\tswal(\"Template Name Already Exist\");\n\t\t}else if(templateType == 'Notification' || templateType == 'SMS'){\n\t\t\tif(templateName.length == 0){\n\t\t\t\tswal(\"Please fill in all the required fields\");\n\t\t\t}else{\n\t\t\t\tMeteor.call('insertTemplate',templateType,templateName,emailContent,function(error,result){\n\t\t        \tif(error){\n\t\t        \t\tconsole.log(error.reason);\n\t\t        \t}else{\n\t\t        \t\tswal(\"Successfully Inserted..!!\");\n\t\t        \t}\n\t\t        });\t\n\t\t\t}\n\n\t        this.refs.templateName.value  = '';\n\t        this.refs.content.value  = '';\n\n\t        // $('#messageContent').summernote('code','');\n\t\t}else{\n\t\t\tif(templateName.length == 0 || subject.length == 0){\n\t\t\t\tswal(\"Please fill in all the required fields\");\n\t\t\t}else{\n\t\t\t\tMeteor.call('insertNewTemplate',templateType,templateName,subject,emailContent,function(error,result){\n\t\t        \tif(error){\n\t\t        \t\tconsole.log(error.reason);\n\t\t        \t}else{\n\t\t        \t\tswal(\"Successfully Inserted..!!\");\n\t\t        \t}\n\t\t        });\t\n\t\t\t}\n\n\t        this.refs.templateName.value  = '';\n\t        this.refs.subject.value       = '';\n\t        this.refs.content.value  = '';\n\n\t        // $('#messageContent').summernote('code','');\n\t\t}\n\n        \n\t}\n\n\tupdateTemplate(event){\n\t\tevent.preventDefault();\n\t\t// var id = FlowRouter.getParam(\"id\");\n\t\tvar id               = this.props.params.id;\n\t\tconsole.log(\"id\",id);\n\t\tvar templateType     = this.refs.templateType.value;\n\t\tvar templateName     = this.refs.templateName.value;\n\t\tvar subject          = this.refs.subject.value;\n\t\t// var emailContent     = $('#messageContent').summernote('code');\n\t\tvar emailContent     = this.refs.content.value;\n\n\t\tif(templateType == 'Notification' || templateType == 'SMS'){\n\t\t\tconsole.log(\"in if\");\n\t\t\tMeteor.call('updateTemplate',id,templateName,emailContent,function(error,result){\n\t        \tif(error){\n\t        \t\tconsole.log(error.reason);\n\t        \t}else{\n\t        \t\tswal(\"Updated Successfully..!!\");\n\t        \t\tvar path = \"/admin/ViewTemplates\";\n               browserHistory.replace(path);\n\t        \t}\n\t        });\t\n\n\t        this.refs.templateName.value  = '';\n\t        this.refs.content.value  = '';\n\t        // $('#messageContent').summernote('code','');\n\t\t}else{\n\t\t\tconsole.log(\"in else\");\n\t\t\tMeteor.call('updateNewTemplate',id,templateName,subject,emailContent,function(error,result){\n\t        \tif(error){\n\t        \t\tconsole.log(error.reason);\n\t        \t}else{\n\t        \t\tswal(\"Updated Successfully..!!\");\n\t        \t\tvar path = \"/admin/ViewTemplates\";\n                browserHistory.replace(path);\n\t        \t}\n\t        });\t\n\n\t        this.refs.templateName.value  = '';\n\t        this.refs.subject.value       = '';\n\t        this.refs.content.value  = '';\n\t        // $('#messageContent').summernote('code','');\n\t\t}\n\t\t// FlowRouter.go('/viewAllTemplates');\n\t\t\n\t}\n\n\tselectType(event){\n\t\tevent.preventDefault();\n\t\t// const target = event.target;\n\t //  const name   = target.name;\n\t //  this.setState({\n\t //  \t[name]: event.target.value,\n\t //  });\n\t\tif(this.refs.templateType.value  == 'Notification' || this.refs.templateType.value  == 'SMS' ){\n\t\t\t$('.subjectRow').css({'display':'none'});\n\t\t}else if(this.refs.templateType.value  == 'Email'){\n\t\t\t$('.subjectRow').css({'display':'block'});\n\t\t}\n\t}\n\n\trender(){\n     return(\n    <div className=\"content-wrapper\">\n      <section className=\"content NotificationContent\">\n        <div className=\"row\">\n          <div className=\"col-lg-12 col-md-10 col-sm-12 col-xs-12 \">\n            <div className=\"box box-primary\">\n\t            <div className=\"box-header with-border\">\n\t            <h3 className=\"box-title\">CREATE TEMPLATE</h3>\n\t            </div>\n\t\t\t\t\t<div className=\"box-body\">\n\t\t\t\t\t\t<form className=\"newTemplateForm\">\n\t\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t\t<div className=\"col-lg-6 col-md-6 col-sm-12 col-xs-12\">\n\t\t\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t\t <label className=\"col-lg-6 label-category\">Template Type<span className=\"astrick\">*</span>:</label>     \t\t\t\t\t\t\n\t\t\t\t\t\t\t\t        <select className=\"form-control templateType\" name=\"templateType\" ref=\"templateType\" onChange={this.selectType.bind(this)} value={this.state.templateType}>\n\t\t\t\t\t\t\t\t      \t<option> -- Select --</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option> Email </option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option> Notification </option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option> SMS </option>\n\t\t\t\t\t\t\t\t       </select> \n    \t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t</div>\t\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row inputrow\">\n\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n\t\t\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t\t <label className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 label-category\">Template Name<span className=\"astrick\">*</span>:</label>     \t\t\t\t\t\t\n\t\t\t\t\t\t\t\t        <input type=\"text\" ref=\"templateName\" name=\"templateName\" value={this.state.templateName} onChange={this.handleChange} className=\"templateName col-lg-12 col-md-12 col-sm-12 col-xs-12 inputValid \" required />\n\t\t\t\t\t\t\t\t\t</div>\t\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row inputrow subjectRow\">\n\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n\t\t\t\t\t\t\t\t\t<div className=\"form-group subjectDiv\">\n\t\t\t\t\t\t\t\t\t <label className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 label-category\">Subject<span className=\"astrick\">*</span>:</label>     \t\t\t\t\t\t\n\t\t\t\t\t\t\t\t        <input type=\"text\" ref=\"subject\" name=\"subject\" value={this.state.subject} onChange={this.handleChange} className=\"subject col-lg-12 col-md-12 col-sm-12 col-xs-12 inputValid\" required/>\n\t\t\t\t\t\t\t\t\t</div>\t\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row inputrow\">\n\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n\t\t\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t\t <label className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 label-category\">Message<span className=\"astrick\">*</span>:</label> \n\t\t\t\t\t\t\t\t\t <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding\"> \n\t\t\t\t\t\t\t\t\t \t{/*<div id=\"messageContent\" name=\"content\" onChange={this.handleChange}></div>*/}  \n\t\t\t\t\t\t\t\t\t \t<textarea name=\"content\" ref=\"content\" value={this.state.content}  className=\"templateName  col-lg-12 col-md-12 col-sm-12 col-xs-12\" rows=\"10\" onChange={this.handleChange}></textarea>\n\t\t\t\t\t\t\t\t\t </div> \t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t</div>\t\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"savetemp col-lg-12 col-md-12 col-sm-12 col-xs-12\"> \n\t\t\t\t\t\t\t\t<button onClick={this.submitTemplate.bind(this)} type=\"submit\" className=\"col-lg-2 col-md-3 col-sm-6 col-xs-12 btn btn-primary pull-right sendtxtmsgbtn\">Save Template</button>\n\t\t\t\t\t\t\t\t<button onClick={this.updateTemplate.bind(this)} type=\"submit\" className=\"btn btn-primary pull-right updatebtn col-lg-2 col-md-3 col-sm-6 col-xs-12\">Update Template</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t</section>\n   </div>\n     \t);\n    }\n}\n\nEditTemplate = withTracker(({params})=>{\n\n    const postHandle = Meteor.subscribe('notificationTemplate');\n    // var Id           = FlowRouter.getParam(\"id\");\n    var Id           = params.id;\n   //  if (Id) {\n   //    $('.sendtxtmsgbtn').css({'display':'none'});\n\t\t\t// $('.updatebtn').css({'display':'block'});\n   //  }\n    const post       = NotificationTemplate.findOne({'_id':Id})||{};\n    const loading    = !postHandle.ready();\n\n    return {\n        loading,\n        post,\n    }; \n})(CreateTemplate);\n\nexport default EditTemplate;\n\n"]},"hash":"93d221703fae7c48a5249685784698d09f87c0e6"}
