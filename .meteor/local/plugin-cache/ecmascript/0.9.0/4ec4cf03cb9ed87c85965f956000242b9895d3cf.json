{"metadata":{"usedHelpers":["inherits","possibleConstructorReturn","classCallCheck","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"react","imported":["default","Component"],"specifiers":[{"kind":"named","imported":"default","local":"React"},{"kind":"named","imported":"Component","local":"Component"}]},{"source":"react-dom","imported":["render"],"specifiers":[{"kind":"named","imported":"render","local":"render"}]},{"source":"meteor/ultimatejs:tracker-react","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"TrackerReact"}]},{"source":"react-validation","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"Validation"}]},{"source":"validator","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"validator"}]},{"source":"../api/CompanySettingMaster.js","imported":["CompanySettings"],"specifiers":[{"kind":"named","imported":"CompanySettings","local":"CompanySettings"}]},{"source":"meteor/react-meteor-data","imported":["createContainer"],"specifiers":[{"kind":"named","imported":"createContainer","local":"createContainer"}]},{"source":"./CompanyTaxList.jsx","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"CompanyTaxList"}]},{"source":"./companySettingIndicators.jsx","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"CompanySettingIndicators"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"imports/dashboard/companySetting/components/CompanyTaxDetails.jsx","filenameRelative":"imports/dashboard/companySetting/components/CompanyTaxDetails.jsx","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/dashboard/companySetting/components/CompanyTaxDetails.jsx.map","sourceFileName":"imports/dashboard/companySetting/components/CompanyTaxDetails.jsx","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"CompanyTaxDetails"},"ignored":false,"code":"var _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar React = void 0,\n    Component = void 0;\nmodule.watch(require(\"react\"), {\n  \"default\": function (v) {\n    React = v;\n  },\n  Component: function (v) {\n    Component = v;\n  }\n}, 0);\nvar render = void 0;\nmodule.watch(require(\"react-dom\"), {\n  render: function (v) {\n    render = v;\n  }\n}, 1);\nvar TrackerReact = void 0;\nmodule.watch(require(\"meteor/ultimatejs:tracker-react\"), {\n  \"default\": function (v) {\n    TrackerReact = v;\n  }\n}, 2);\nvar Validation = void 0;\nmodule.watch(require(\"react-validation\"), {\n  \"default\": function (v) {\n    Validation = v;\n  }\n}, 3);\nvar validator = void 0;\nmodule.watch(require(\"validator\"), {\n  \"default\": function (v) {\n    validator = v;\n  }\n}, 4);\nvar CompanySettings = void 0;\nmodule.watch(require(\"../api/CompanySettingMaster.js\"), {\n  CompanySettings: function (v) {\n    CompanySettings = v;\n  }\n}, 5);\nvar createContainer = void 0;\nmodule.watch(require(\"meteor/react-meteor-data\"), {\n  createContainer: function (v) {\n    createContainer = v;\n  }\n}, 6);\nvar CompanyTaxList = void 0;\nmodule.watch(require(\"./CompanyTaxList.jsx\"), {\n  \"default\": function (v) {\n    CompanyTaxList = v;\n  }\n}, 7);\nvar CompanySettingIndicators = void 0;\nmodule.watch(require(\"./companySettingIndicators.jsx\"), {\n  \"default\": function (v) {\n    CompanySettingIndicators = v;\n  }\n}, 8);\n\nvar CompanyTaxDetails = function (_TrackerReact) {\n  (0, _inherits3.default)(CompanyTaxDetails, _TrackerReact);\n\n  CompanyTaxDetails.prototype.componentDidMount = function () {\n    function componentDidMount() {\n      $('.companyTaxDetails').addClass('divActive');\n    }\n\n    return componentDidMount;\n  }();\n\n  CompanyTaxDetails.prototype.handleChange = function () {\n    function handleChange(event) {\n      var _setState;\n\n      var target = event.target;\n      var name = target.name;\n      this.setState((_setState = {}, _setState[name] = event.target.value, _setState));\n    }\n\n    return handleChange;\n  }();\n\n  function CompanyTaxDetails(props) {\n    (0, _classCallCheck3.default)(this, CompanyTaxDetails);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _TrackerReact.call(this, props));\n\n    _this.state = {\n      taxType: _this.props.taxType,\n      applicableTax: _this.props.applicableTax,\n      effectiveFrom: _this.props.effectiveFrom,\n      subscription: {\n        \"companyData\": Meteor.subscribe('companyData')\n      }\n    };\n    _this.handleChange = _this.handleChange.bind(_this);\n    return _this;\n  }\n\n  CompanyTaxDetails.prototype.componentWillReceiveProps = function () {\n    function componentWillReceiveProps(nextProps) {\n      this.setState({\n        taxType: nextProps.post.taxType,\n        applicableTax: nextProps.post.applicableTax,\n        effectiveFrom: nextProps.post.effectiveFrom\n      });\n      this.handleChange = this.handleChange.bind(this); // this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    return componentWillReceiveProps;\n  }();\n\n  CompanyTaxDetails.prototype.companyTaxData = function () {\n    function companyTaxData() {\n      var companyData = CompanySettings.findOne({\n        \"companyId\": 1\n      });\n      var companyarray = [];\n\n      if (companyData) {\n        if (companyData.taxSettings) {\n          for (i = 0; i < companyData.taxSettings.length; i++) {\n            companyarray.push({\n              'taxType': companyData.taxSettings[i].taxType,\n              'applicableTax': companyData.taxSettings[i].applicableTax,\n              'effectiveFrom': companyData.taxSettings[i].effectiveFrom,\n              'effectiveTo': companyData.taxSettings[i].effectiveTo,\n              'index': i,\n              '_id': companyData._id\n            });\n          } //i\n\n        }\n      } //companyData\n\n\n      return companyarray;\n    }\n\n    return companyTaxData;\n  }();\n\n  CompanyTaxDetails.prototype.submitCompanyTax = function () {\n    function submitCompanyTax(event) {\n      event.preventDefault();\n      var sessionVar = Session.get('taxType');\n      var targetedID = Session.get('targetedID');\n      var taxSettingsFormValue = {\n        taxType: $(\".taxType\").val(),\n        applicableTax: $(\".applicableTax\").val(),\n        effectiveFrom: $(\".effectiveFrom\").val() //close array\n\n      };\n\n      if (sessionVar) {\n        Meteor.call('updatetaxSettings', taxSettingsFormValue, targetedID, function (error, result) {\n          if (error) {\n            console.log(error);\n          } else {\n            swal('Tax Detail Updated!');\n            $(\".taxType\").val('');\n            $(\".applicableTax\").val('');\n            $(\".effectiveFrom\").val('');\n          }\n        });\n      } else {\n        Meteor.call('insertTaxSettings', taxSettingsFormValue, function (error, result) {\n          if (error) {\n            console.log(error);\n          } else {\n            swal('Tax Detail Added!');\n            $(\".taxType\").val('');\n            $(\".applicableTax\").val('');\n            $(\".effectiveFrom\").val('');\n          }\n        });\n      }\n    }\n\n    return submitCompanyTax;\n  }();\n\n  CompanyTaxDetails.prototype.render = function () {\n    function render() {\n      return React.createElement(\n        \"section\",\n        {\n          className: \"NotificationContent\"\n        },\n        React.createElement(\n          \"div\",\n          {\n            className: \"row\"\n          },\n          React.createElement(\n            \"div\",\n            {\n              className: \"col-lg-10 col-lg-offset-1 col-md-10 col-md-offset-1 col-sm-12 col-xs-12 \"\n            },\n            React.createElement(\n              \"div\",\n              {\n                className: \"box box-default\"\n              },\n              React.createElement(\n                \"div\",\n                {\n                  className: \"box-header with-border\"\n                },\n                React.createElement(\n                  \"h3\",\n                  {\n                    className: \"box-title\"\n                  },\n                  \"TAX DETAILS\"\n                )\n              ),\n              React.createElement(\n                \"div\",\n                {\n                  className: \"box-body\"\n                },\n                React.createElement(\n                  \"form\",\n                  {\n                    id: \"companyTaxForm\",\n                    className: \"companyTaxForm\"\n                  },\n                  React.createElement(\n                    \"div\",\n                    {\n                      className: \"form-group col-lg-6 col-md-4 col-sm-12 col-xs-12\"\n                    },\n                    React.createElement(\n                      \"div\",\n                      {\n                        className: \"input-group\"\n                      },\n                      React.createElement(\n                        \"span\",\n                        {\n                          className: \"input-group-addon ipAddons\"\n                        },\n                        React.createElement(\"i\", {\n                          className: \"fa fa-usd\",\n                          \"aria-hidden\": \"true\"\n                        })\n                      ),\n                      React.createElement(\"input\", {\n                        value: this.state.taxType,\n                        onChange: this.handleChange,\n                        type: \"text\",\n                        placeholder: \"Enter Tax Type\",\n                        name: \"taxType\",\n                        className: \"form-control taxType inputValid\",\n                        required: true\n                      })\n                    )\n                  ),\n                  React.createElement(\n                    \"div\",\n                    {\n                      className: \"form-group col-lg-6 col-md-4 col-sm-12 col-xs-12\"\n                    },\n                    React.createElement(\n                      \"div\",\n                      {\n                        className: \"input-group\"\n                      },\n                      React.createElement(\n                        \"span\",\n                        {\n                          className: \"input-group-addon ipAddons\"\n                        },\n                        React.createElement(\"i\", {\n                          className: \"fa fa-money\",\n                          \"aria-hidden\": \"true\"\n                        })\n                      ),\n                      React.createElement(\"input\", {\n                        value: this.state.applicableTax,\n                        onChange: this.handleChange,\n                        type: \"number\",\n                        placeholder: \"Enter Tax Rate(%)\",\n                        name: \"applicableTax\",\n                        className: \"form-control applicableTax inputValid\",\n                        required: true\n                      })\n                    )\n                  ),\n                  React.createElement(\n                    \"div\",\n                    {\n                      className: \"form-group col-lg-6 col-md-4 col-sm-12 col-xs-12\"\n                    },\n                    React.createElement(\n                      \"div\",\n                      {\n                        className: \"input-group\"\n                      },\n                      React.createElement(\n                        \"span\",\n                        {\n                          className: \"input-group-addon ipAddons\"\n                        },\n                        React.createElement(\"i\", {\n                          className: \"fa fa-calendar\",\n                          \"aria-hidden\": \"true\"\n                        })\n                      ),\n                      React.createElement(\"input\", {\n                        value: this.state.effectiveFrom,\n                        onChange: this.handleChange,\n                        type: \"date\",\n                        name: \"effectiveFrom\",\n                        className: \"form-control effectiveFrom inputValid\",\n                        required: true\n                      })\n                    )\n                  ),\n                  React.createElement(\n                    \"div\",\n                    {\n                      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\"\n                    },\n                    React.createElement(\n                      \"button\",\n                      {\n                        className: \"col-lg-3 col-md-4 col-sm-6 col-xs-12  btn btn-primary pull-right companyTaxSubmit marginBottomDiv\",\n                        onClick: this.submitCompanyTax.bind(this)\n                      },\n                      \"Submit\"\n                    )\n                  )\n                )\n              )\n            )\n          )\n        ),\n        React.createElement(\n          \"div\",\n          {\n            className: \"table-responsive\"\n          },\n          React.createElement(\n            \"table\",\n            {\n              className: \"table table-bordered table-striped table-hover\"\n            },\n            React.createElement(\n              \"thead\",\n              null,\n              React.createElement(\n                \"tr\",\n                {\n                  className: \"tableHeader\"\n                },\n                React.createElement(\n                  \"th\",\n                  null,\n                  \" Tax Type \"\n                ),\n                React.createElement(\n                  \"th\",\n                  null,\n                  \" Applicable Tax \"\n                ),\n                React.createElement(\n                  \"th\",\n                  null,\n                  \" Effective From \"\n                ),\n                React.createElement(\n                  \"th\",\n                  null,\n                  \" Effective To \"\n                ),\n                React.createElement(\n                  \"th\",\n                  null,\n                  \" Action \"\n                )\n              )\n            ),\n            React.createElement(\n              \"tbody\",\n              null,\n              this.companyTaxData().map(function (taxData) {\n                return React.createElement(CompanyTaxList, {\n                  key: taxData.index,\n                  companyTaxDataVales: taxData\n                });\n              })\n            )\n          )\n        )\n      );\n    }\n\n    return render;\n  }();\n\n  return CompanyTaxDetails;\n}(TrackerReact(Component));\n\nEditCompanyTaxDetails = createContainer(function (props) {\n  var postHandle = Meteor.subscribe('companyData');\n  var post = CompanySettings.findOne({}) || {};\n  var loading = !postHandle.ready();\n  return {\n    loading: loading,\n    post: post\n  };\n}, CompanyTaxDetails);\nmodule.exportDefault(EditCompanyTaxDetails);","map":{"version":3,"sources":["imports/dashboard/companySetting/components/CompanyTaxDetails.jsx"],"names":["React","Component","module","watch","require","v","render","TrackerReact","Validation","validator","CompanySettings","createContainer","CompanyTaxList","CompanySettingIndicators","CompanyTaxDetails","componentDidMount","$","addClass","handleChange","event","target","name","setState","value","props","state","taxType","applicableTax","effectiveFrom","subscription","Meteor","subscribe","bind","componentWillReceiveProps","nextProps","post","companyTaxData","companyData","findOne","companyarray","taxSettings","i","length","push","effectiveTo","_id","submitCompanyTax","preventDefault","sessionVar","Session","get","targetedID","taxSettingsFormValue","val","call","error","result","console","log","swal","map","taxData","index","EditCompanyTaxDetails","postHandle","loading","ready","exportDefault"],"mappings":"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","file":"imports/dashboard/companySetting/components/CompanyTaxDetails.jsx.map","sourcesContent":["import React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport TrackerReact from 'meteor/ultimatejs:tracker-react';\nimport Validation from 'react-validation';\nimport validator from 'validator';\nimport { CompanySettings } from '../api/CompanySettingMaster.js';\nimport {createContainer} from 'meteor/react-meteor-data';\n\nimport CompanyTaxList from './CompanyTaxList.jsx';\nimport CompanySettingIndicators from './companySettingIndicators.jsx';\n\nclass CompanyTaxDetails extends TrackerReact(Component){\n\n  componentDidMount(){\n    $('.companyTaxDetails').addClass('divActive');\n  }\n\n  handleChange(event){\n\t  const target = event.target;\n\t  const name   = target.name;\n\t  this.setState({\n\t  \t[name]: event.target.value,\n\t  });\n\t}\n\n\tconstructor(props) {\n\t  super(props);\n\t  this.state = {\n\t    taxType        : this.props.taxType,\n\t    applicableTax  : this.props.applicableTax,\n\t    effectiveFrom  : this.props.effectiveFrom,\n\n\t    subscription : {\n\t        \"companyData\" : Meteor.subscribe('companyData'),\n\t      }\n\n\t  };\n\n\t    this.handleChange = this.handleChange.bind(this);\n\t}\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({\n        taxType       : nextProps.post.taxType,\n        applicableTax : nextProps.post.applicableTax,\n        effectiveFrom : nextProps.post.effectiveFrom,\n    })\n\n    this.handleChange = this.handleChange.bind(this);\n    // this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n  companyTaxData(){\n  \tvar companyData = CompanySettings.findOne({\"companyId\" : 1});\n  \tvar companyarray = [];\n  \tif(companyData){\n  \t\tif(companyData.taxSettings){\n  \t\t\tfor(i=0;i<companyData.taxSettings.length;i++){\n  \t\t\t\tcompanyarray.push({\n  \t\t\t\t\t'taxType'        : companyData.taxSettings[i].taxType,\n  \t\t\t\t\t'applicableTax'  : companyData.taxSettings[i].applicableTax,\n            'effectiveFrom'  : companyData.taxSettings[i].effectiveFrom,\n  \t\t\t\t\t'effectiveTo'    : companyData.taxSettings[i].effectiveTo,\n  \t\t\t\t\t'index'\t\t\t     : i,\n  \t\t\t\t\t'_id'\t\t\t       : companyData._id,\n  \t\t\t\t})\n  \t\t\t}//i\n  \t\t}\n  \t}//companyData\n  \treturn companyarray;\n  }\n\n  submitCompanyTax(event){\n    event.preventDefault();\n    var sessionVar = Session.get('taxType');\n    var targetedID = Session.get('targetedID');\n\n    var taxSettingsFormValue ={\n\n    \ttaxType       : $(\".taxType\").val(),\n      applicableTax : $(\".applicableTax\").val(),\n      effectiveFrom : $(\".effectiveFrom\").val(),\n\n     }//close array\n\n     if(sessionVar){\n        Meteor.call('updatetaxSettings', taxSettingsFormValue,targetedID,\n              function(error, result){\n                if(error){\n                  console.log(error);\n                }else{\n\n                  swal('Tax Detail Updated!');\n                  $(\".taxType\").val('');\n                  $(\".applicableTax\").val('');\n                  $(\".effectiveFrom\").val('');\n                }\n              }\n        );\n     }else{\n\t    Meteor.call('insertTaxSettings', taxSettingsFormValue,\n\t            function(error, result){\n\t              if(error){\n\t                console.log(error);\n\t              }else{\n\n\t                swal('Tax Detail Added!');\n\t                $(\".taxType\").val('');\n                  $(\".applicableTax\").val('');\n                  $(\".effectiveFrom\").val('');\n\t              }\n\t            }\n\t    );\n     }\n  }\n\n  render(){\n\n  \treturn(\n\n  \t\t<section className=\"NotificationContent\">\n        <div className=\"row\">\n          <div className=\"col-lg-10 col-lg-offset-1 col-md-10 col-md-offset-1 col-sm-12 col-xs-12 \">\n            <div className=\"box box-default\">\n            <div className=\"box-header with-border\">\n            <h3 className=\"box-title\">TAX DETAILS</h3>\n            </div>\n\n            <div className=\"box-body\">\n            <form id=\"companyTaxForm\" className=\"companyTaxForm\">\n              <div className=\"form-group col-lg-6 col-md-4 col-sm-12 col-xs-12\">\n                <div className=\"input-group\">\n                 <span className=\"input-group-addon ipAddons\"><i className=\"fa fa-usd\" aria-hidden=\"true\"></i></span>\n                 <input value={this.state.taxType} onChange={this.handleChange} type=\"text\" placeholder=\"Enter Tax Type\" name=\"taxType\" className=\"form-control taxType inputValid\" required/>\n                </div>\n              </div>\n\n              <div className=\"form-group col-lg-6 col-md-4 col-sm-12 col-xs-12\">\n                <div className=\"input-group\">\n                  <span className=\"input-group-addon ipAddons\"><i className=\"fa fa-money\" aria-hidden=\"true\"></i></span>\n                  <input value={this.state.applicableTax} onChange={this.handleChange} type=\"number\" placeholder=\"Enter Tax Rate(%)\" name=\"applicableTax\" className=\"form-control applicableTax inputValid\" required />\n                </div>\n              </div>\n\n               <div className=\"form-group col-lg-6 col-md-4 col-sm-12 col-xs-12\">\n                <div className=\"input-group\">\n    \t             <span className=\"input-group-addon ipAddons\"><i className=\"fa fa-calendar\" aria-hidden=\"true\"></i></span>\n                   <input value={this.state.effectiveFrom} onChange={this.handleChange} type=\"date\"  name=\"effectiveFrom\" className=\"form-control effectiveFrom inputValid\" required/>\n                </div>\n              </div>\n              <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n              <button className=\"col-lg-3 col-md-4 col-sm-6 col-xs-12  btn btn-primary pull-right companyTaxSubmit marginBottomDiv\" onClick={this.submitCompanyTax.bind(this)}>Submit</button>\n              </div>\n            </form>\n            </div>\n            </div>\n          </div>\n  \t\t  </div>\n\n  \t\t  <div className=\"table-responsive\">\n    \t\t\t<table className=\"table table-bordered table-striped table-hover\">\n    \t\t\t\t<thead>\n    \t\t\t\t\t<tr className=\"tableHeader\">\n    \t\t\t\t\t\t<th> Tax Type </th>\n    \t\t\t\t\t\t<th> Applicable Tax </th>\n                <th> Effective From </th>\n    \t\t\t\t\t\t<th> Effective To </th>\n    \t\t\t\t\t\t<th> Action </th>\n    \t\t\t\t\t</tr>\n    \t\t\t\t</thead>\n    \t\t\t\t<tbody>\n    \t\t\t\t\t{ this.companyTaxData().map( (taxData)=>{\n    \t\t\t\t\t\treturn <CompanyTaxList key={taxData.index} companyTaxDataVales={taxData}/>\n    \t\t\t\t\t  })\n    \t\t\t\t\t}\n    \t\t\t\t</tbody>\n    \t\t\t</table>\n    \t\t</div>\n\n\n\n\t\t    {/*<div className=\"emptyDiv\"></div>*/}\n      </section>\n\n  \t\t);\n  }\n\n }\n\n EditCompanyTaxDetails = createContainer((props)=>{\n\n    const postHandle = Meteor.subscribe('companyData');\n    const post       = CompanySettings.findOne({})||{};\n    const loading    = !postHandle.ready();\n\n    return {\n        loading,\n        post,\n    };\n}, CompanyTaxDetails);\n\nexport default EditCompanyTaxDetails;\n"]},"hash":"4ec4cf03cb9ed87c85965f956000242b9895d3cf"}
