{"metadata":{"usedHelpers":["inherits","possibleConstructorReturn","classCallCheck","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"react","imported":["default","Component"],"specifiers":[{"kind":"named","imported":"default","local":"React"},{"kind":"named","imported":"Component","local":"Component"}]},{"source":"react-dom","imported":["render"],"specifiers":[{"kind":"named","imported":"render","local":"render"}]},{"source":"meteor/ultimatejs:tracker-react","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"TrackerReact"}]},{"source":"../api/BlogPages","imported":["BlogPages"],"specifiers":[{"kind":"named","imported":"BlogPages","local":"BlogPages"}]},{"source":"../api/BlogPages","imported":["TempBlogImages"],"specifiers":[{"kind":"named","imported":"TempBlogImages","local":"TempBlogImages"}]},{"source":"meteor/react-meteor-data","imported":["createContainer"],"specifiers":[{"kind":"named","imported":"createContainer","local":"createContainer"}]},{"source":"react-router","imported":["browserHistory"],"specifiers":[{"kind":"named","imported":"browserHistory","local":"browserHistory"}]},{"source":"react-router","imported":["Link"],"specifiers":[{"kind":"named","imported":"Link","local":"Link"}]},{"source":"youtube-embed-video","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"YoutubeEmbedVideo"}]}],"exports":{"exported":["ListOfBlogs"],"specifiers":[{"kind":"local","local":"ListOfBlogs","exported":"default"}]}}},"options":{"filename":"imports/dashboard/reactCMS/components/ListOfBlogs.jsx","filenameRelative":"imports/dashboard/reactCMS/components/ListOfBlogs.jsx","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/dashboard/reactCMS/components/ListOfBlogs.jsx.map","sourceFileName":"imports/dashboard/reactCMS/components/ListOfBlogs.jsx","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"ListOfBlogs"},"ignored":false,"code":"var _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nmodule.export({\n  \"default\": function () {\n    return ListOfBlogs;\n  }\n});\nvar React = void 0,\n    Component = void 0;\nmodule.watch(require(\"react\"), {\n  \"default\": function (v) {\n    React = v;\n  },\n  Component: function (v) {\n    Component = v;\n  }\n}, 0);\nvar render = void 0;\nmodule.watch(require(\"react-dom\"), {\n  render: function (v) {\n    render = v;\n  }\n}, 1);\nvar TrackerReact = void 0;\nmodule.watch(require(\"meteor/ultimatejs:tracker-react\"), {\n  \"default\": function (v) {\n    TrackerReact = v;\n  }\n}, 2);\nvar BlogPages = void 0;\nmodule.watch(require(\"../api/BlogPages\"), {\n  BlogPages: function (v) {\n    BlogPages = v;\n  }\n}, 3);\nvar TempBlogImages = void 0;\nmodule.watch(require(\"../api/BlogPages\"), {\n  TempBlogImages: function (v) {\n    TempBlogImages = v;\n  }\n}, 4);\nvar createContainer = void 0;\nmodule.watch(require(\"meteor/react-meteor-data\"), {\n  createContainer: function (v) {\n    createContainer = v;\n  }\n}, 5);\nvar browserHistory = void 0;\nmodule.watch(require(\"react-router\"), {\n  browserHistory: function (v) {\n    browserHistory = v;\n  }\n}, 6);\nvar Link = void 0;\nmodule.watch(require(\"react-router\"), {\n  Link: function (v) {\n    Link = v;\n  }\n}, 7);\nvar YoutubeEmbedVideo = void 0;\nmodule.watch(require(\"youtube-embed-video\"), {\n  \"default\": function (v) {\n    YoutubeEmbedVideo = v;\n  }\n}, 8);\n\nvar getVideoId = require('get-video-id');\n\nvar ListOfBlogs = function (_TrackerReact) {\n  (0, _inherits3.default)(ListOfBlogs, _TrackerReact);\n\n  function ListOfBlogs(props) {\n    (0, _classCallCheck3.default)(this, ListOfBlogs);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _TrackerReact.call(this, props));\n\n    _this.state = {\n      blogPages: [],\n      \"subscription\": {\n        \"blogPages\": Meteor.subscribe(\"blogPages\"),\n        \"projectSettingsPublish\": Meteor.subscribe(\"projectSettingsPublish\"),\n        \"tempBlogImages\": Meteor.subscribe(\"tempBlogImages\")\n      }\n    };\n    return _this;\n  }\n\n  ListOfBlogs.prototype.componentDidMount = function () {\n    function componentDidMount() {\n      var _this2 = this;\n\n      $(\"html,body\").scrollTop(0);\n\n      if (!$(\"#adminLte\").length > 0 && !$('body').hasClass('adminLte')) {\n        var adminLte = document.createElement(\"script\");\n        adminLte.type = \"text/javascript\";\n        adminLte.src = \"/js/adminLte.js\";\n        $(\"body\").append(adminLte);\n      }\n\n      this.blogPageTracker = Tracker.autorun(function () {\n        Meteor.subscribe(\"blogPages\");\n        var blogPages = BlogPages.find().fetch();\n\n        _this2.setState({\n          blogPages: blogPages\n        });\n      });\n      this.tempBlogImageTracker = Tracker.autorun(function () {\n        Meteor.subscribe('tempBlogImages');\n        var tempBlogImages = TempBlogImages.find().fetch();\n\n        _this2.setState({\n          tempBlogImages: tempBlogImages\n        });\n      });\n    }\n\n    return componentDidMount;\n  }();\n\n  ListOfBlogs.prototype.componentWillMount = function () {\n    function componentWillMount() {// if (!!!$(\"link[href='/css/dashboard.css']\").length > 0) {\n      //   var dashboardCss = document.createElement(\"link\");\n      //   dashboardCss.type = \"text/css\"; \n      //   dashboardCss.rel = \"stylesheet\";\n      //   dashboardCss.href = \"/css/dashboard.css\"; \n      //   document.head.append(dashboardCss);\n      // }\n    }\n\n    return componentWillMount;\n  }();\n\n  ListOfBlogs.prototype.componentWillUnmount = function () {\n    function componentWillUnmount() {\n      $(\"script[src='/js/adminLte.js']\").remove(); // $(\"link[href='/css/dashboard.css']\").remove(); \n\n      if (this.blogPageTracker) {\n        this.blogPageTracker.stop();\n      }\n\n      if (this.tempBlogImageTracker) {\n        this.tempBlogImageTracker.stop();\n      }\n    }\n\n    return componentWillUnmount;\n  }();\n\n  ListOfBlogs.prototype.renderTableRow = function () {\n    function renderTableRow() {\n      var _this3 = this;\n\n      return this.state.blogPages.map(function (blogPages, index) {\n        var text = blogPages.blogPageBody;\n        var regex = new RegExp(\"</p><p>\", 'g');\n        text = text.replace(regex, '\\n');\n        var strippedText = $(\"<div/>\").html(text).text();\n        return React.createElement(\n          \"tr\",\n          {\n            key: index\n          },\n          React.createElement(\n            \"td\",\n            null,\n            \" \",\n            blogPages.blogPageName,\n            \" \"\n          ),\n          React.createElement(\n            \"td\",\n            null,\n            \" \",\n            strippedText,\n            \" \"\n          ),\n          React.createElement(\n            \"td\",\n            null,\n            blogPages.blogMediaType == \"youTubeVideo\" ? React.createElement(YoutubeEmbedVideo, {\n              suggestions: false,\n              width: 120,\n              height: 120,\n              controls: true,\n              videoId: getVideoId(blogPages.youTubeVideoLink).id,\n              suggestions: false\n            }) : blogPages.blogMediaType == \"localImage\" ? React.createElement(\"img\", {\n              src: blogPages.blogImageFile,\n              className: \"img-responsive serviceLogo\"\n            }) : React.createElement(\n              \"video\",\n              {\n                width: \"120\",\n                height: \"120\",\n                controls: true,\n                className: \"\"\n              },\n              React.createElement(\"source\", {\n                src: blogPages.blogLocalVideo,\n                type: \"video/mp4\"\n              })\n            )\n          ),\n          React.createElement(\n            \"td\",\n            null,\n            React.createElement(\n              Link,\n              {\n                to: '/admin/EditBlog/' + blogPages._id,\n                className: \"editButton\",\n                title: \"Edit\"\n              },\n              React.createElement(\n                \"i\",\n                {\n                  className: \"fa fa-pencil\"\n                },\n                \" \"\n              )\n            ),\n            React.createElement(\n              \"a\",\n              {\n                href: \"#\",\n                id: blogPages._id,\n                onClick: _this3.delete.bind(_this3),\n                className: \"deleteButton\",\n                title: \"Delete\"\n              },\n              React.createElement(\"i\", {\n                className: \"fa fa-trash-o\"\n              })\n            )\n          )\n        );\n      });\n    }\n\n    return renderTableRow;\n  }();\n\n  ListOfBlogs.prototype.delete = function () {\n    function _delete(e) {\n      e.preventDefault();\n      var id = $(e.currentTarget).attr(\"id\"); // var getBlogPages = BlogPages.findOne({\"_id\": id});\n      // if (getBlogPages) {\n      // var getblogImage = getBlogPages.blogImage;\n\n      swal({\n        title: \"Are you sure?\",\n        text: \"You want to delete this blog!\",\n        type: \"warning\",\n        showCancelButton: true,\n        confirmButtonColor: \"#DD6B55\",\n        confirmButtonText: \"Yes, delete it!\",\n        closeOnConfirm: false,\n        html: false\n      }, function () {\n        Meteor.call(\"deleteBlogPage\", id, function (error, result) {\n          if (error) {\n            console.log(error.reason);\n          } else {\n            // Bert.alert(\"Successfully Deleted..!!\");\n            swal(\"Done\", \"Your page has been deleted!.\", \"success\");\n          }\n        });\n      }); // }\n    }\n\n    return _delete;\n  }();\n\n  ListOfBlogs.prototype.render = function () {\n    function render() {\n      return React.createElement(\n        \"div\",\n        {\n          className: \"content-wrapper\"\n        },\n        React.createElement(\n          \"section\",\n          {\n            className: \"content-header\"\n          },\n          React.createElement(\n            \"h1\",\n            null,\n            \" Blog Management \"\n          ),\n          React.createElement(\n            \"ol\",\n            {\n              className: \"breadcrumb\"\n            },\n            React.createElement(\n              \"li\",\n              null,\n              React.createElement(\n                \"a\",\n                {\n                  href: \"#\"\n                },\n                React.createElement(\"i\", {\n                  className: \"fa fa-files-o\"\n                }),\n                \" Blog Management\"\n              )\n            ),\n            React.createElement(\n              \"li\",\n              {\n                className: \"active\"\n              },\n              \"List Of Blogs\"\n            )\n          )\n        ),\n        React.createElement(\n          \"section\",\n          {\n            className: \"content\"\n          },\n          React.createElement(\n            \"div\",\n            {\n              className: \"row\"\n            },\n            React.createElement(\n              \"div\",\n              {\n                className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\"\n              },\n              React.createElement(\n                \"div\",\n                {\n                  className: \"box box-primary\"\n                },\n                React.createElement(\n                  \"div\",\n                  {\n                    className: \"box-header with-border\"\n                  },\n                  React.createElement(\n                    \"h2\",\n                    {\n                      className: \"box-title\"\n                    },\n                    \"List Of Blogs\"\n                  )\n                ),\n                React.createElement(\n                  \"div\",\n                  {\n                    className: \"box-body\"\n                  },\n                  React.createElement(\n                    \"div\",\n                    {\n                      className: \"dataTable tableBasicPage col-lg-12 col-md-12 col-sm-12 col-xs-12\"\n                    },\n                    React.createElement(\n                      \"table\",\n                      {\n                        className: \"display table table-bordered servicesTable\",\n                        width: \"100%\",\n                        cellSpacing: \"0\"\n                      },\n                      React.createElement(\n                        \"thead\",\n                        null,\n                        React.createElement(\n                          \"tr\",\n                          null,\n                          React.createElement(\n                            \"th\",\n                            null,\n                            \"Blog Page\"\n                          ),\n                          React.createElement(\n                            \"th\",\n                            null,\n                            \"Blog Description\"\n                          ),\n                          React.createElement(\n                            \"th\",\n                            null,\n                            \"Video/Image\"\n                          ),\n                          React.createElement(\n                            \"th\",\n                            null,\n                            \"Actions\"\n                          )\n                        )\n                      ),\n                      React.createElement(\n                        \"tbody\",\n                        null,\n                        this.renderTableRow()\n                      )\n                    )\n                  )\n                )\n              )\n            )\n          )\n        )\n      );\n    }\n\n    return render;\n  }();\n\n  return ListOfBlogs;\n}(TrackerReact(Component));","map":{"version":3,"sources":["imports/dashboard/reactCMS/components/ListOfBlogs.jsx"],"names":["module","export","ListOfBlogs","React","Component","watch","require","v","render","TrackerReact","BlogPages","TempBlogImages","createContainer","browserHistory","Link","YoutubeEmbedVideo","getVideoId","props","state","blogPages","Meteor","subscribe","componentDidMount","$","scrollTop","length","hasClass","adminLte","document","createElement","type","src","append","blogPageTracker","Tracker","autorun","find","fetch","setState","tempBlogImageTracker","tempBlogImages","componentWillMount","componentWillUnmount","remove","stop","renderTableRow","map","index","text","blogPageBody","regex","RegExp","replace","strippedText","html","blogPageName","blogMediaType","youTubeVideoLink","id","blogImageFile","blogLocalVideo","_id","delete","bind","e","preventDefault","currentTarget","attr","swal","title","showCancelButton","confirmButtonColor","confirmButtonText","closeOnConfirm","call","error","result","console","log","reason"],"mappings":"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","file":"imports/dashboard/reactCMS/components/ListOfBlogs.jsx.map","sourcesContent":["import React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport TrackerReact from 'meteor/ultimatejs:tracker-react';\nimport {BlogPages} from '../api/BlogPages';\nimport {TempBlogImages} from '../api/BlogPages';\nimport { createContainer } from 'meteor/react-meteor-data';\nimport {browserHistory} from 'react-router';\nimport { Link } from 'react-router';\nimport YoutubeEmbedVideo from \"youtube-embed-video\";\nconst getVideoId = require('get-video-id');\n\nexport default class ListOfBlogs extends TrackerReact(Component) {\n\tconstructor(props) {\n    super(props); \n    this.state = {\n    \tblogPages       : [],\n      \"subscription\"  : {\n        \"blogPages\" : Meteor.subscribe(\"blogPages\"),\n        \"projectSettingsPublish\" : Meteor.subscribe(\"projectSettingsPublish\"),\n        \"tempBlogImages\" : Meteor.subscribe(\"tempBlogImages\"),\n      }  \n    }; \n  }\n\tcomponentDidMount() {\n    $(\"html,body\").scrollTop(0);\n    if (!$(\"#adminLte\").length>0 && !$('body').hasClass('adminLte')) {\n     var adminLte = document.createElement(\"script\");  \n     adminLte.type=\"text/javascript\";  \n     adminLte.src = \"/js/adminLte.js\";  \n     $(\"body\").append(adminLte);  \n    }\n    this.blogPageTracker = Tracker.autorun( ()=> {\n      Meteor.subscribe(\"blogPages\");\n      const blogPages = BlogPages.find().fetch();\n      this.setState({blogPages: blogPages});\n    });\n    this.tempBlogImageTracker = Tracker.autorun(()=>{\n      Meteor.subscribe('tempBlogImages');\n      const tempBlogImages = TempBlogImages.find().fetch();\n      this.setState({tempBlogImages});\n    });\n\t }\n  componentWillMount() {\n    // if (!!!$(\"link[href='/css/dashboard.css']\").length > 0) {\n    //   var dashboardCss = document.createElement(\"link\");\n    //   dashboardCss.type = \"text/css\"; \n    //   dashboardCss.rel = \"stylesheet\";\n    //   dashboardCss.href = \"/css/dashboard.css\"; \n    //   document.head.append(dashboardCss);\n    // }\n  }\n  componentWillUnmount(){\n    $(\"script[src='/js/adminLte.js']\").remove(); \n     // $(\"link[href='/css/dashboard.css']\").remove(); \n    if(this.blogPageTracker){\n      this.blogPageTracker.stop();\n    }\n    if(this.tempBlogImageTracker){\n      this.tempBlogImageTracker.stop();\n    }\n  }\n  renderTableRow(){\n    return this.state.blogPages.map((blogPages,index) =>{\n      var text= blogPages.blogPageBody;\n      var regex = new RegExp(\"</p><p>\", 'g');\n      text = text.replace(regex, '\\n');\n      var strippedText = $(\"<div/>\").html(text).text();\n\n      return <tr key={index}>\n              <td> {blogPages.blogPageName} </td>\n              <td> {strippedText} </td> \n              <td>\n                { blogPages.blogMediaType ==  \"youTubeVideo\" ?\n                  <YoutubeEmbedVideo suggestions={false}  width={120} height={120} controls videoId={getVideoId(blogPages.youTubeVideoLink).id} suggestions={false} />\n                 : \n                  blogPages.blogMediaType ==  \"localImage\" ?\n                  <img src={blogPages.blogImageFile} className=\"img-responsive serviceLogo\" />\n\n                 : <video width=\"120\" height=\"120\" controls className=\"\">\n                     <source src={blogPages.blogLocalVideo} type=\"video/mp4\" />\n                  </video>   \n                }\n                </td>\n              <td>\n                <Link to={'/admin/EditBlog/'+blogPages._id} className=\"editButton\" title=\"Edit\">\n                  <i className = \"fa fa-pencil\"> </i>\n                </Link>\n             \n                <a href=\"#\" id={blogPages._id} onClick={this.delete.bind(this)} className=\"deleteButton\" title=\"Delete\">\n                  <i className=\"fa fa-trash-o\"></i>  \n                </a>\n              </td>\n            </tr>;\n      });\n  }\n  \n  delete(e){\n    e.preventDefault();\n    var id = $(e.currentTarget).attr(\"id\");\n    // var getBlogPages = BlogPages.findOne({\"_id\": id});\n    // if (getBlogPages) {\n      // var getblogImage = getBlogPages.blogImage;\n      swal({\n        title: \"Are you sure?\",\n        text: \"You want to delete this blog!\",\n        type: \"warning\",\n        showCancelButton: true,\n        confirmButtonColor: \"#DD6B55\",\n        confirmButtonText: \"Yes, delete it!\",\n        closeOnConfirm: false,\n        html: false\n      }, function(){\n        Meteor.call(\"deleteBlogPage\",id,function(error,result){\n            if(error){\n                console.log(error.reason);\n            }else{\n                // Bert.alert(\"Successfully Deleted..!!\");\n                swal(\"Done\",\"Your page has been deleted!.\", \"success\");\n            }\n        });\n      });\n    // }\n  }\n  \n  render() {\n   return (\n    <div className=\"content-wrapper\">\n      <section className=\"content-header\">\n        <h1> Blog Management </h1>\n        <ol className=\"breadcrumb\">\n          <li>\n            <a href=\"#\"><i className=\"fa fa-files-o\"/> Blog Management</a></li>\n          <li className=\"active\">List Of Blogs</li>\n        </ol>\n      </section>\n       <section className=\"content\">\n         <div className=\"row\">\n           <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n             <div className=\"box box-primary\">\n                <div className=\"box-header with-border\">\n                 <h2 className=\"box-title\">List Of Blogs</h2>  \n                </div>\n                <div className=\"box-body\">  \n                  <div className=\"dataTable tableBasicPage col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                    <table className=\"display table table-bordered servicesTable\" width=\"100%\" cellSpacing=\"0\">\n                      <thead>\n                          <tr>\n                              <th>Blog Page</th>\n                              <th>Blog Description</th>\n                              <th>Video/Image</th>\n                              <th>Actions</th>\n                          </tr>\n                      </thead>\n                       \n                      <tbody>\n                        {this.renderTableRow()}\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n             </div>\n            </div>\n         </div>\n       </section>\n    </div>\n    );\n  } \n}"]},"hash":"22ae3b23fa3db467c737df46277383a9849e9d5d"}
