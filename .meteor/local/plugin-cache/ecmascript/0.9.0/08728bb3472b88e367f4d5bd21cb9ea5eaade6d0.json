{"metadata":{"usedHelpers":["inherits","possibleConstructorReturn","classCallCheck","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"react","imported":["default","Component"],"specifiers":[{"kind":"named","imported":"default","local":"React"},{"kind":"named","imported":"Component","local":"Component"}]},{"source":"react-dom","imported":["render"],"specifiers":[{"kind":"named","imported":"render","local":"render"}]},{"source":"meteor/ultimatejs:tracker-react","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"TrackerReact"}]},{"source":"react-validation","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"Validation"}]},{"source":"validator","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"validator"}]},{"source":"../api/CompanySettingMaster.js","imported":["CompanySettings"],"specifiers":[{"kind":"named","imported":"CompanySettings","local":"CompanySettings"}]},{"source":"meteor/react-meteor-data","imported":["createContainer"],"specifiers":[{"kind":"named","imported":"createContainer","local":"createContainer"}]},{"source":"./CompanyBankList.jsx","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"CompanyBankList"}]},{"source":"./companySettingIndicators.jsx","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"CompanySettingIndicators"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"imports/dashboard/companySetting/components/CompanyBankDetails.jsx","filenameRelative":"imports/dashboard/companySetting/components/CompanyBankDetails.jsx","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/dashboard/companySetting/components/CompanyBankDetails.jsx.map","sourceFileName":"imports/dashboard/companySetting/components/CompanyBankDetails.jsx","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"CompanyBankDetails"},"ignored":false,"code":"var _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar React = void 0,\n    Component = void 0;\nmodule.watch(require(\"react\"), {\n  \"default\": function (v) {\n    React = v;\n  },\n  Component: function (v) {\n    Component = v;\n  }\n}, 0);\nvar render = void 0;\nmodule.watch(require(\"react-dom\"), {\n  render: function (v) {\n    render = v;\n  }\n}, 1);\nvar TrackerReact = void 0;\nmodule.watch(require(\"meteor/ultimatejs:tracker-react\"), {\n  \"default\": function (v) {\n    TrackerReact = v;\n  }\n}, 2);\nvar Validation = void 0;\nmodule.watch(require(\"react-validation\"), {\n  \"default\": function (v) {\n    Validation = v;\n  }\n}, 3);\nvar validator = void 0;\nmodule.watch(require(\"validator\"), {\n  \"default\": function (v) {\n    validator = v;\n  }\n}, 4);\nvar CompanySettings = void 0;\nmodule.watch(require(\"../api/CompanySettingMaster.js\"), {\n  CompanySettings: function (v) {\n    CompanySettings = v;\n  }\n}, 5);\nvar createContainer = void 0;\nmodule.watch(require(\"meteor/react-meteor-data\"), {\n  createContainer: function (v) {\n    createContainer = v;\n  }\n}, 6);\nvar CompanyBankList = void 0;\nmodule.watch(require(\"./CompanyBankList.jsx\"), {\n  \"default\": function (v) {\n    CompanyBankList = v;\n  }\n}, 7);\nvar CompanySettingIndicators = void 0;\nmodule.watch(require(\"./companySettingIndicators.jsx\"), {\n  \"default\": function (v) {\n    CompanySettingIndicators = v;\n  }\n}, 8);\n\nvar CompanyBankDetails = function (_TrackerReact) {\n  (0, _inherits3.default)(CompanyBankDetails, _TrackerReact);\n\n  CompanyBankDetails.prototype.handleChange = function () {\n    function handleChange(event) {\n      var _setState;\n\n      var target = event.target;\n      var name = target.name;\n      this.setState((_setState = {}, _setState[name] = event.target.value, _setState));\n    }\n\n    return handleChange;\n  }();\n\n  function CompanyBankDetails(props) {\n    (0, _classCallCheck3.default)(this, CompanyBankDetails);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _TrackerReact.call(this, props));\n\n    _this.state = {\n      accHolderName: _this.props.accHolderName,\n      bankName: _this.props.bankName,\n      branchName: _this.props.branchName,\n      accNumber: _this.props.accNumber,\n      ifscCode: _this.props.ifscCode,\n      subscription: {\n        \"companyData\": Meteor.subscribe('companyData')\n      }\n    };\n    _this.handleChange = _this.handleChange.bind(_this);\n    return _this;\n  }\n\n  CompanyBankDetails.prototype.componentWillReceiveProps = function () {\n    function componentWillReceiveProps(nextProps) {\n      if (!nextProps.loading) {\n        if (nextProps.post.bankDetails) {\n          this.setState({\n            accHolderName: nextProps.post.accHolderName,\n            bankName: nextProps.post.bankName,\n            branchName: nextProps.post.branchName,\n            accNumber: nextProps.post.accNumber,\n            ifscCode: nextProps.post.ifscCode\n          });\n        }\n      }\n\n      this.handleChange = this.handleChange.bind(this); // this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    return componentWillReceiveProps;\n  }();\n\n  CompanyBankDetails.prototype.submitBankDetail = function () {\n    function submitBankDetail(event) {\n      event.preventDefault();\n      var sessionVar = Session.get('bankDetail');\n\n      if (sessionVar) {\n        var companyBankDetailsFormValue = {\n          accHolderName: $(\".accHolderName\").val(),\n          bankName: $(\".bankName\").val(),\n          branchName: $(\".branchName\").val(),\n          accNumber: $(\".accNumber\").val(),\n          ifscCode: $(\".ifscCode\").val() //close array\n\n        };\n        Meteor.call('updateBankDetails', companyBankDetailsFormValue, function (error, result) {\n          if (error) {\n            console.log(error);\n          } else {\n            swal('Bank Details Updated Successfully!');\n          }\n        });\n      } else {\n        var companyBankDetailsFormValue = {\n          accHolderName: $(\".accHolderName\").val(),\n          bankName: $(\".bankName\").val(),\n          branchName: $(\".branchName\").val(),\n          accNumber: $(\".accNumber\").val(),\n          ifscCode: $(\".ifscCode\").val() //close array\n\n        };\n        Meteor.call('insertCompanyBankDetails', companyBankDetailsFormValue, function (error, result) {\n          if (error) {\n            console.log(error);\n          } else {\n            swal('Bank Details Added Successfully!');\n            $(\".accHolderName\").val('');\n            $(\".bankName\").val('');\n            $(\".branchName\").val('');\n            $(\".accNumber\").val('');\n            $(\".ifscCode\").val('');\n          }\n        });\n      }\n    }\n\n    return submitBankDetail;\n  }();\n\n  CompanyBankDetails.prototype.companyBankData = function () {\n    function companyBankData() {\n      var companyData = CompanySettings.findOne({\n        \"companyId\": 1\n      });\n      var companyarray = [];\n\n      if (companyData) {\n        if (companyData.bankDetails) {\n          for (i = 0; i < companyData.bankDetails.length; i++) {\n            companyarray.push({\n              'accHolderName': companyData.bankDetails[i].accHolderName,\n              'bankName': companyData.bankDetails[i].bankName,\n              'branchName': companyData.bankDetails[i].branchName,\n              'accNumber': companyData.bankDetails[i].accNumber,\n              'ifscCode': companyData.bankDetails[i].ifscCode,\n              'index': i,\n              '_id': companyData._id\n            });\n          } //i\n\n        }\n      } //companyData\n\n\n      return companyarray;\n    }\n\n    return companyBankData;\n  }();\n\n  CompanyBankDetails.prototype.render = function () {\n    function render() {\n      return React.createElement(\n        \"section\",\n        {\n          className: \"NotificationContent\"\n        },\n        React.createElement(\n          \"div\",\n          {\n            className: \"row\"\n          },\n          React.createElement(\n            \"div\",\n            {\n              className: \"col-lg-10 col-lg-offset-1 col-md-10 col-md-offset-1 col-sm-12 col-xs-12\"\n            },\n            React.createElement(\n              \"div\",\n              {\n                className: \"box box-default\"\n              },\n              React.createElement(\n                \"div\",\n                {\n                  className: \"box-header with-border\"\n                },\n                React.createElement(\n                  \"h3\",\n                  {\n                    className: \"box-title\"\n                  },\n                  \"BANK DETAILS\"\n                )\n              ),\n              React.createElement(\n                \"div\",\n                {\n                  className: \"box-body\"\n                },\n                React.createElement(\n                  \"form\",\n                  {\n                    id: \"bankDetailForm\",\n                    className: \"bankDetailForm\"\n                  },\n                  React.createElement(\n                    \"div\",\n                    {\n                      className: \"form-group col-lg-6 col-md-4 col-sm-12 col-xs-12\"\n                    },\n                    React.createElement(\n                      \"div\",\n                      {\n                        className: \"input-group\"\n                      },\n                      React.createElement(\n                        \"span\",\n                        {\n                          className: \"input-group-addon ipAddons\"\n                        },\n                        React.createElement(\"i\", {\n                          className: \"fa fa-user\",\n                          \"aria-hidden\": \"true\"\n                        })\n                      ),\n                      React.createElement(\"input\", {\n                        value: this.state.accHolderName,\n                        onChange: this.handleChange,\n                        type: \"text\",\n                        placeholder: \"Enter Account Holder Name\",\n                        name: \"accHolderName\",\n                        className: \"form-control accHolderName inputValid\",\n                        required: true\n                      })\n                    )\n                  ),\n                  React.createElement(\n                    \"div\",\n                    {\n                      className: \"form-group col-lg-6 col-md-4 col-sm-12 col-xs-12\"\n                    },\n                    React.createElement(\n                      \"div\",\n                      {\n                        className: \"input-group\"\n                      },\n                      React.createElement(\n                        \"span\",\n                        {\n                          className: \"input-group-addon ipAddons\"\n                        },\n                        React.createElement(\"i\", {\n                          className: \"fa fa-university\",\n                          \"aria-hidden\": \"true\"\n                        })\n                      ),\n                      React.createElement(\"input\", {\n                        value: this.state.bankName,\n                        onChange: this.handleChange,\n                        type: \"text\",\n                        placeholder: \"Enter Bank Name\",\n                        name: \"bankName\",\n                        className: \"form-control bankName inputValid\",\n                        required: true\n                      })\n                    )\n                  ),\n                  React.createElement(\n                    \"div\",\n                    {\n                      className: \"form-group col-lg-6 col-md-4 col-sm-12 col-xs-12\"\n                    },\n                    React.createElement(\n                      \"div\",\n                      {\n                        className: \"input-group\"\n                      },\n                      React.createElement(\n                        \"span\",\n                        {\n                          className: \"input-group-addon ipAddons\"\n                        },\n                        React.createElement(\"i\", {\n                          className: \"fa fa-university\",\n                          \"aria-hidden\": \"true\"\n                        })\n                      ),\n                      React.createElement(\"input\", {\n                        value: this.state.branchName,\n                        onChange: this.handleChange,\n                        type: \"text\",\n                        placeholder: \"Enter Branch Name\",\n                        name: \"branchName\",\n                        className: \"form-control branchName inputValid\",\n                        required: true\n                      })\n                    )\n                  ),\n                  React.createElement(\n                    \"div\",\n                    {\n                      className: \"form-group col-lg-6 col-md-4 col-sm-12 col-xs-12\"\n                    },\n                    React.createElement(\n                      \"div\",\n                      {\n                        className: \"input-group\"\n                      },\n                      React.createElement(\n                        \"span\",\n                        {\n                          className: \"input-group-addon ipAddons\"\n                        },\n                        React.createElement(\"i\", {\n                          className: \"fa fa-address-card-o\",\n                          \"aria-hidden\": \"true\"\n                        })\n                      ),\n                      React.createElement(\"input\", {\n                        value: this.state.accNumber,\n                        onChange: this.handleChange,\n                        type: \"number\",\n                        placeholder: \"Enter Account Number\",\n                        name: \"accNumber\",\n                        className: \"form-control accNumber inputValid\",\n                        required: true\n                      })\n                    )\n                  ),\n                  React.createElement(\n                    \"div\",\n                    {\n                      className: \"form-group col-lg-6 col-md-4 col-sm-12 col-xs-12\"\n                    },\n                    React.createElement(\n                      \"div\",\n                      {\n                        className: \"input-group\"\n                      },\n                      React.createElement(\n                        \"span\",\n                        {\n                          className: \"input-group-addon ipAddons\"\n                        },\n                        React.createElement(\"i\", {\n                          className: \"fa fa-globe\",\n                          \"aria-hidden\": \"true\"\n                        })\n                      ),\n                      React.createElement(\"input\", {\n                        value: this.state.ifscCode,\n                        onChange: this.handleChange,\n                        type: \"text\",\n                        placeholder: \"Enter IFSC Code\",\n                        name: \"ifscCode\",\n                        className: \"form-control ifscCode inputValid\",\n                        required: true,\n                        disabled: this.state.isDisabled\n                      })\n                    )\n                  ),\n                  React.createElement(\n                    \"div\",\n                    {\n                      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\"\n                    },\n                    React.createElement(\n                      \"button\",\n                      {\n                        className: \"col-lg-3 col-md-4 col-sm-6 col-xs-12  btn btn-primary pull-right bankDetails marginBottomDiv\",\n                        onClick: this.submitBankDetail.bind(this)\n                      },\n                      \"Submit\"\n                    )\n                  )\n                )\n              )\n            )\n          )\n        ),\n        React.createElement(\n          \"div\",\n          {\n            className: \"table-responsive\"\n          },\n          React.createElement(\n            \"table\",\n            {\n              className: \"table table-bordered table-striped table-hover\"\n            },\n            React.createElement(\n              \"thead\",\n              null,\n              React.createElement(\n                \"tr\",\n                {\n                  className: \"tableHeader\"\n                },\n                React.createElement(\n                  \"th\",\n                  null,\n                  \" Account Holder \"\n                ),\n                React.createElement(\n                  \"th\",\n                  null,\n                  \" Bank Name \"\n                ),\n                React.createElement(\n                  \"th\",\n                  null,\n                  \" Branch Name \"\n                ),\n                React.createElement(\n                  \"th\",\n                  null,\n                  \" Account Number \"\n                ),\n                React.createElement(\n                  \"th\",\n                  null,\n                  \" IFSC Code \"\n                ),\n                React.createElement(\n                  \"th\",\n                  null,\n                  \" Action \"\n                )\n              )\n            ),\n            React.createElement(\n              \"tbody\",\n              null,\n              this.companyBankData().map(function (bankData) {\n                return React.createElement(CompanyBankList, {\n                  key: bankData.index,\n                  companyBankDataVales: bankData\n                });\n              })\n            )\n          )\n        )\n      );\n    }\n\n    return render;\n  }();\n\n  return CompanyBankDetails;\n}(TrackerReact(Component));\n\nEditBankDetails = createContainer(function (props) {\n  var postHandle = Meteor.subscribe('companyData');\n  var post = CompanySettings.findOne({}) || {};\n  var loading = !postHandle.ready();\n  return {\n    loading: loading,\n    post: post\n  };\n}, CompanyBankDetails);\nmodule.exportDefault(EditBankDetails);","map":{"version":3,"sources":["imports/dashboard/companySetting/components/CompanyBankDetails.jsx"],"names":["React","Component","module","watch","require","v","render","TrackerReact","Validation","validator","CompanySettings","createContainer","CompanyBankList","CompanySettingIndicators","CompanyBankDetails","handleChange","event","target","name","setState","value","props","state","accHolderName","bankName","branchName","accNumber","ifscCode","subscription","Meteor","subscribe","bind","componentWillReceiveProps","nextProps","loading","post","bankDetails","submitBankDetail","preventDefault","sessionVar","Session","get","companyBankDetailsFormValue","$","val","call","error","result","console","log","swal","companyBankData","companyData","findOne","companyarray","i","length","push","_id","isDisabled","map","bankData","index","EditBankDetails","postHandle","ready","exportDefault"],"mappings":"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","file":"imports/dashboard/companySetting/components/CompanyBankDetails.jsx.map","sourcesContent":["import React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport TrackerReact from 'meteor/ultimatejs:tracker-react';\n\nimport Validation from 'react-validation';\nimport validator from 'validator';\n\nimport { CompanySettings } from '../api/CompanySettingMaster.js';\nimport {createContainer} from 'meteor/react-meteor-data';\n\nimport CompanyBankList from './CompanyBankList.jsx';\nimport CompanySettingIndicators from './companySettingIndicators.jsx';\n\n\nclass CompanyBankDetails extends TrackerReact(Component){\n\n  handleChange(event){\n\t  const target = event.target;\n\t  const name   = target.name;\n\t  this.setState({\n\t  \t[name]: event.target.value,\n\t  });\n\t}\n\n\tconstructor(props) {\n\t  super(props);\n\t  this.state = {\n\t    accHolderName  : this.props.accHolderName,\n\t    bankName       : this.props.bankName,\n\t    branchName     : this.props.branchName,\n\t    accNumber      : this.props.accNumber,\n\t    ifscCode       : this.props.ifscCode,\n\n\n\n\t    subscription : {\n\t        \"companyData\" : Meteor.subscribe('companyData'),\n\t      }\n\n\t  };\n\n\t    this.handleChange = this.handleChange.bind(this);\n\t}\n\n  componentWillReceiveProps(nextProps) {\n  \tif(!nextProps.loading){\n      if(nextProps.post.bankDetails){\n\t    this.setState({\n\t        accHolderName : nextProps.post.accHolderName,\n\t        bankName   \t  : nextProps.post.bankName,\n\t        branchName    : nextProps.post.branchName,\n\t        accNumber     : nextProps.post.accNumber,\n\t        ifscCode      : nextProps.post.ifscCode,\n\n\t    })\n\t  }\n\t}\n\n    this.handleChange = this.handleChange.bind(this);\n    // this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n  submitBankDetail(event){\n    event.preventDefault();\n    var sessionVar = Session.get('bankDetail');\n\n    if(sessionVar){\n      var companyBankDetailsFormValue ={\n\n        accHolderName  : $(\".accHolderName\").val(),\n        bankName       : $(\".bankName\").val(),\n        branchName     : $(\".branchName\").val(),\n        accNumber      : $(\".accNumber\").val(),\n        ifscCode       : $(\".ifscCode\").val(),\n\n     }//close array\n\n      Meteor.call('updateBankDetails', companyBankDetailsFormValue,\n              function(error, result){\n                if(error){\n                  console.log(error);\n                }else{\n\n                  swal('Bank Details Updated Successfully!');\n                }\n              }\n      );\n\n    }else{\n      var companyBankDetailsFormValue ={\n\n        accHolderName  : $(\".accHolderName\").val(),\n        bankName       : $(\".bankName\").val(),\n        branchName     : $(\".branchName\").val(),\n        accNumber      : $(\".accNumber\").val(),\n        ifscCode       : $(\".ifscCode\").val(),\n\n     }//close array\n\n      Meteor.call('insertCompanyBankDetails', companyBankDetailsFormValue,\n              function(error, result){\n                if(error){\n                  console.log(error);\n                }else{\n                  swal('Bank Details Added Successfully!');\n                  $(\".accHolderName\").val('');\n                  $(\".bankName\").val('');\n                  $(\".branchName\").val('');\n                  $(\".accNumber\").val('');\n                  $(\".ifscCode\").val('');\n                }\n              }\n      );\n    }\n\n\n  }\n\n\n  companyBankData(){\n    var companyData = CompanySettings.findOne({\"companyId\" : 1});\n    var companyarray = [];\n    if(companyData){\n      if(companyData.bankDetails){\n        for(i=0;i<companyData.bankDetails.length;i++){\n          companyarray.push({\n            'accHolderName' : companyData.bankDetails[i].accHolderName,\n            'bankName'      : companyData.bankDetails[i].bankName,\n            'branchName'    : companyData.bankDetails[i].branchName,\n            'accNumber'     : companyData.bankDetails[i].accNumber,\n            'ifscCode'      : companyData.bankDetails[i].ifscCode,\n            'index'         : i,\n            '_id'           : companyData._id,\n          })\n        }//i\n      }\n    }//companyData\n    return companyarray;\n  }\n\n  render(){\n\n  \treturn(\n\n  \t\t<section className=\"NotificationContent\">\n        <div className=\"row\">\n          <div className=\"col-lg-10 col-lg-offset-1 col-md-10 col-md-offset-1 col-sm-12 col-xs-12\">\n            <div className=\"box box-default\">\n              <div className=\"box-header with-border\">\n              <h3 className=\"box-title\">BANK DETAILS</h3>\n              </div>\n\n            <div className=\"box-body\">\n            <form id=\"bankDetailForm\" className=\"bankDetailForm\">\n              <div className=\"form-group col-lg-6 col-md-4 col-sm-12 col-xs-12\">\n                <div className=\"input-group\">\n                 <span className=\"input-group-addon ipAddons\"><i className=\"fa fa-user\" aria-hidden=\"true\"></i></span>\n                 <input value={this.state.accHolderName} onChange={this.handleChange} type=\"text\" placeholder=\"Enter Account Holder Name\" name=\"accHolderName\" className=\"form-control accHolderName inputValid\" required/>\n                </div>\n              </div>\n\n              <div className=\"form-group col-lg-6 col-md-4 col-sm-12 col-xs-12\">\n                <div className=\"input-group\">\n                  <span className=\"input-group-addon ipAddons\"><i className=\"fa fa-university\" aria-hidden=\"true\"></i></span>\n                  <input value={this.state.bankName} onChange={this.handleChange} type=\"text\" placeholder=\"Enter Bank Name\" name=\"bankName\" className=\"form-control bankName inputValid\" required/>\n                </div>\n              </div>\n\n               <div className=\"form-group col-lg-6 col-md-4 col-sm-12 col-xs-12\">\n                <div className=\"input-group\">\n    \t             <span className=\"input-group-addon ipAddons\"><i className=\"fa fa-university\" aria-hidden=\"true\"></i></span>\n                   <input value={this.state.branchName} onChange={this.handleChange} type=\"text\" placeholder=\"Enter Branch Name\" name=\"branchName\" className=\"form-control branchName inputValid\" required/>\n                </div>\n              </div>\n               <div className=\"form-group col-lg-6 col-md-4 col-sm-12 col-xs-12\">\n                 <div className=\"input-group\">\n    \t             <span className=\"input-group-addon ipAddons\"><i className=\"fa fa-address-card-o\" aria-hidden=\"true\"></i></span>\n                   <input value={this.state.accNumber} onChange={this.handleChange} type=\"number\" placeholder=\"Enter Account Number\" name=\"accNumber\" className=\"form-control accNumber inputValid\" required/>\n                </div>\n              </div>\n               <div className=\"form-group col-lg-6 col-md-4 col-sm-12 col-xs-12\">\n                 <div className=\"input-group\">\n    \t             <span className=\"input-group-addon ipAddons\"><i className=\"fa fa-globe\" aria-hidden=\"true\"></i></span>\n                   <input value={this.state.ifscCode} onChange={this.handleChange} type=\"text\" placeholder=\"Enter IFSC Code\" name=\"ifscCode\" className=\"form-control ifscCode inputValid\" required disabled={this.state.isDisabled}/>\n                 </div>\n              </div>\n              <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                <button className=\"col-lg-3 col-md-4 col-sm-6 col-xs-12  btn btn-primary pull-right bankDetails marginBottomDiv\" onClick={this.submitBankDetail.bind(this)}>Submit</button>\n              </div>\n            </form>\n            </div>\n            </div>\n          </div>\n  \t\t  </div>\n\n         <div className=\"table-responsive\">\n          <table className=\"table table-bordered table-striped table-hover\">\n            <thead>\n              <tr className=\"tableHeader\">\n                <th> Account Holder </th>\n                <th> Bank Name </th>\n                <th> Branch Name </th>\n                <th> Account Number </th>\n                <th> IFSC Code </th>\n                <th> Action </th>\n              </tr>\n            </thead>\n            <tbody>\n              { this.companyBankData().map( (bankData)=>{\n                return <CompanyBankList key={bankData.index} companyBankDataVales={bankData}/>\n                })\n              }\n            </tbody>\n          </table>\n          </div>\n\n\n\n        {/*<div className=\"emptyDiv\"></div>*/}\n      </section>\n\n\n  \t\t);\n  }\n\n }\n\n EditBankDetails = createContainer((props)=>{\n\n    const postHandle = Meteor.subscribe('companyData');\n    const post       = CompanySettings.findOne({})||{};\n    const loading    = !postHandle.ready();\n\n    return {\n        loading,\n        post,\n    };\n}, CompanyBankDetails);\n\nexport default EditBankDetails;\n"]},"hash":"08728bb3472b88e367f4d5bd21cb9ea5eaade6d0"}
