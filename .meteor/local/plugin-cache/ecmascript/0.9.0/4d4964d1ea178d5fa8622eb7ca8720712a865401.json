{"metadata":{"usedHelpers":["inherits","possibleConstructorReturn","classCallCheck","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"react","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"React"}]},{"source":"react-dom","imported":["render"],"specifiers":[{"kind":"named","imported":"render","local":"render"}]},{"source":"meteor/ultimatejs:tracker-react","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"TrackerReact"}]},{"source":"./SignUp.jsx","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"SignUp"}]},{"source":"../permissionModals/OTPModal.jsx","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"OTPModal"}]},{"source":"./ForgotPassword.jsx","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"ForgotPassword"}]},{"source":"react-router","imported":["Router","Route","browserHistory"],"specifiers":[{"kind":"named","imported":"Router","local":"Router"},{"kind":"named","imported":"Route","local":"Route"},{"kind":"named","imported":"browserHistory","local":"browserHistory"}]}],"exports":{"exported":["LogIn"],"specifiers":[{"kind":"local","local":"LogIn","exported":"default"}]}}},"options":{"filename":"imports/website/forms/LogIn.jsx","filenameRelative":"imports/website/forms/LogIn.jsx","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/website/forms/LogIn.jsx.map","sourceFileName":"imports/website/forms/LogIn.jsx","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"LogIn"},"ignored":false,"code":"var _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nmodule.export({\n  \"default\": function () {\n    return LogIn;\n  }\n});\nvar React = void 0;\nmodule.watch(require(\"react\"), {\n  \"default\": function (v) {\n    React = v;\n  }\n}, 0);\nvar render = void 0;\nmodule.watch(require(\"react-dom\"), {\n  render: function (v) {\n    render = v;\n  }\n}, 1);\nvar TrackerReact = void 0;\nmodule.watch(require(\"meteor/ultimatejs:tracker-react\"), {\n  \"default\": function (v) {\n    TrackerReact = v;\n  }\n}, 2);\nvar SignUp = void 0;\nmodule.watch(require(\"./SignUp.jsx\"), {\n  \"default\": function (v) {\n    SignUp = v;\n  }\n}, 3);\nvar OTPModal = void 0;\nmodule.watch(require(\"../permissionModals/OTPModal.jsx\"), {\n  \"default\": function (v) {\n    OTPModal = v;\n  }\n}, 4);\nvar ForgotPassword = void 0;\nmodule.watch(require(\"./ForgotPassword.jsx\"), {\n  \"default\": function (v) {\n    ForgotPassword = v;\n  }\n}, 5);\nvar Router = void 0,\n    Route = void 0,\n    browserHistory = void 0;\nmodule.watch(require(\"react-router\"), {\n  Router: function (v) {\n    Router = v;\n  },\n  Route: function (v) {\n    Route = v;\n  },\n  browserHistory: function (v) {\n    browserHistory = v;\n  }\n}, 6);\n\nvar LogIn = function (_TrackerReact) {\n  (0, _inherits3.default)(LogIn, _TrackerReact);\n\n  function LogIn() {\n    (0, _classCallCheck3.default)(this, LogIn);\n    return (0, _possibleConstructorReturn3.default)(this, _TrackerReact.apply(this, arguments));\n  }\n\n  LogIn.prototype.componentDidMount = function () {\n    function componentDidMount() {\n      $(\"#login\").validate();\n    }\n\n    return componentDidMount;\n  }();\n\n  LogIn.prototype.showSignUp = function () {\n    function showSignUp(event) {\n      event.preventDefault();\n      $('#outerLoginWrapper').hide();\n      $('#outerSignUpWrapper').show();\n      $('.modalContent').addClass('addModalHeight');\n    }\n\n    return showSignUp;\n  }();\n\n  LogIn.prototype.showForgotModal = function () {\n    function showForgotModal(event) {\n      event.preventDefault();\n      $('#outerLoginWrapper').hide();\n      $('#ForgotBlock').show();\n    }\n\n    return showForgotModal;\n  }();\n\n  LogIn.prototype.userlogin = function () {\n    function userlogin(event) {\n      event.preventDefault();\n      var email = this.refs.loginusername.value;\n      var passwordVar = this.refs.loginPassword.value;\n      Meteor.call('checkEmailVerification', email, function (error, data) {\n        console.lo;\n\n        if (data == \"verified\") {\n          Meteor.call('checkBlockedUser', email, function (error, data) {\n            if (data == \"Active\") {\n              console.log(\"email,password:\" + email, passwordVar);\n              Meteor.loginWithPassword(email, passwordVar, function (error) {\n                if (error) {\n                  return swal({\n                    title: \"Either email or password is incorrect\",\n                    text: \"Please try again\",\n                    timer: 3000,\n                    showConfirmButton: false,\n                    type: \"error\"\n                  });\n                } else {\n                  if (Roles.userIsInRole(Meteor.userId(), ['admin', 'superAdmin', 'screening committee'])) {\n                    // FlowRouter.go('/adminDashboard');\n                    $('#loginModal').modal('hide');\n                    $('.modal-backdrop').hide();\n                    browserHistory.replace('/admin/dashboard');\n                  } else {\n                    $('#loginModal').modal('hide');\n                    $('.modal-backdrop').hide();\n                    browserHistory.replace('/'); // swal({\n                    //   title: 'Welcome to ASSUREiD!!',\n                    //   text: 'Your Parking Assistant.',\n                    //   imageUrl: '/images/spotyl.png',\n                    //   imageWidth: 400,\n                    //   imageHeight: 200,\n                    //   animation: false,\n                    //   customClass: 'animated wobble',\n                    // });\n                  }\n                }\n              });\n            } else if (data == \"Blocked\") {\n              swal({\n                title: \"Your profile is blocked\",\n                text: \"Please contact with Admin\",\n                timer: 3000,\n                showConfirmButton: false,\n                type: \"error\"\n              });\n            } else {\n              swal({\n                title: \"Either email or password is incorrect\",\n                text: \"Please try again\",\n                timer: 3000,\n                showConfirmButton: false,\n                type: \"error\"\n              });\n            }\n          });\n        } else if (data == \"unverified\") {\n          swal({\n            title: \"Your Account is not verified\",\n            // timer: 10000,\n            text: \"Please click on 'OK' button to verify now\",\n            showConfirmButton: true,\n            type: \"error\"\n          });\n          $('#outerLoginWrapper').hide();\n          $('#OtpBlock').show();\n        } else {\n          swal({\n            title: \"Username does not exist\",\n            text: \"Please create an account\",\n            timer: 3000,\n            showConfirmButton: false,\n            type: \"error\"\n          });\n        }\n\n        $(\"html,body\").scrollTop(0);\n      });\n      return false;\n    }\n\n    return userlogin;\n  }();\n\n  LogIn.prototype.inputEffect = function () {\n    function inputEffect(event) {\n      event.preventDefault(); // alert('hi');\n\n      if ($(event.target).val() != \"\") {\n        $(event.target).addClass(\"has-content\");\n      } else {\n        $(event.target).removeClass(\"has-content\");\n      }\n    }\n\n    return inputEffect;\n  }();\n\n  LogIn.prototype.render = function () {\n    function render() {\n      return React.createElement(\n        \"div\",\n        null,\n        React.createElement(\n          \"div\",\n          {\n            className: \"modal fade in\",\n            id: \"loginModal\",\n            role: \"dialog\"\n          },\n          React.createElement(\n            \"div\",\n            {\n              className: \"modal-dialog modal-md\"\n            },\n            React.createElement(\n              \"div\",\n              {\n                className: \"modal-content col-lg-12 col-md-12 col-sm-12 col-xs-12 modalContent\"\n              },\n              React.createElement(\n                \"div\",\n                {\n                  className: \"modal-body col-lg-12 col-md-12 col-sm-12 col-xs-12\"\n                },\n                React.createElement(\n                  \"button\",\n                  {\n                    type: \"button\",\n                    className: \"close\",\n                    \"data-dismiss\": \"modal\"\n                  },\n                  \"\\xD7\"\n                ),\n                React.createElement(\n                  \"div\",\n                  {\n                    className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 outerLoginWrapper\",\n                    id: \"outerLoginWrapper\"\n                  },\n                  React.createElement(\n                    \"div\",\n                    {\n                      className: \"logoWrapper col-lg-6 col-lg-offset-3 col-md-12 col-md-offset-4 col-sm-12 col-sm-offset-4 col-xs-4 col-xs-offset-4\"\n                    },\n                    React.createElement(\"img\", {\n                      src: \"../images/AssureIDlogo.png\",\n                      className: \"loginPageLogo\",\n                      alt: \"AssureID logo\"\n                    }),\n                    React.createElement(\n                      \"h2\",\n                      null,\n                      \"Sign In\"\n                    )\n                  ),\n                  React.createElement(\n                    \"div\",\n                    {\n                      className: \"FormWrapper col-lg-12 col-md-12 col-sm-12 col-xs-12\"\n                    },\n                    React.createElement(\n                      \"form\",\n                      {\n                        className: \"\",\n                        id: \"login\",\n                        onSubmit: this.userlogin.bind(this)\n                      },\n                      React.createElement(\n                        \"div\",\n                        {\n                          className: \"form-group col-lg-12 col-md-12 col-lg-12 col-md-12 col-sm-12 col-xs-12\"\n                        },\n                        React.createElement(\n                          \"div\",\n                          {\n                            className: \"input-effect input-group\"\n                          },\n                          React.createElement(\n                            \"span\",\n                            {\n                              className: \"input-group-addon addons\",\n                              id: \"basic-addon1\"\n                            },\n                            React.createElement(\"i\", {\n                              className: \"fa fa-user\",\n                              \"aria-hidden\": \"true\"\n                            })\n                          ),\n                          React.createElement(\"input\", {\n                            type: \"text\",\n                            className: \"effect-21 form-control loginInputs\",\n                            ref: \"loginusername\",\n                            name: \"loginusername\",\n                            onBlur: this.inputEffect.bind(this),\n                            \"aria-label\": \"Username\",\n                            \"aria-describedby\": \"basic-addon1\",\n                            required: true\n                          }),\n                          React.createElement(\n                            \"label\",\n                            null,\n                            \"Username\"\n                          ),\n                          React.createElement(\n                            \"span\",\n                            {\n                              className: \"focus-border\"\n                            },\n                            React.createElement(\"i\", null)\n                          )\n                        )\n                      ),\n                      React.createElement(\n                        \"div\",\n                        {\n                          className: \"form-group col-lg-12 col-md-12 col-lg-12 col-md-12 col-sm-12 col-xs-12\"\n                        },\n                        React.createElement(\n                          \"div\",\n                          {\n                            className: \"input-effect input-group\"\n                          },\n                          React.createElement(\n                            \"span\",\n                            {\n                              className: \"input-group-addon addons\",\n                              id: \"basic-addon1\"\n                            },\n                            React.createElement(\"i\", {\n                              className: \"fa fa-lock\",\n                              \"aria-hidden\": \"true\"\n                            })\n                          ),\n                          React.createElement(\"input\", {\n                            type: \"password\",\n                            className: \"effect-21 form-control loginInputs\",\n                            ref: \"loginPassword\",\n                            name: \"loginPassword\",\n                            onBlur: this.inputEffect.bind(this),\n                            \"aria-label\": \"Username\",\n                            \"aria-describedby\": \"basic-addon1\",\n                            required: true\n                          }),\n                          React.createElement(\n                            \"label\",\n                            null,\n                            \"Password\"\n                          ),\n                          React.createElement(\n                            \"span\",\n                            {\n                              className: \"focus-border\"\n                            },\n                            React.createElement(\"i\", null)\n                          )\n                        )\n                      ),\n                      React.createElement(\n                        \"div\",\n                        {\n                          className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 keepmeloginOuter\"\n                        },\n                        React.createElement(\"input\", {\n                          type: \"checkbox\",\n                          name: \"\",\n                          value: \"\"\n                        }),\n                        \" Keep me Signed In\"\n                      ),\n                      React.createElement(\n                        \"div\",\n                        {\n                          className: \"submitButtonWrapper col-lg-12 col-md-12 col-sm-12 col-xs-12\"\n                        },\n                        React.createElement(\n                          \"button\",\n                          {\n                            type: \"submit\",\n                            className: \"btn col-lg-12 col-md-12 col-sm-12 col-xs-12 submitBtn\"\n                          },\n                          \"Sign In\"\n                        )\n                      )\n                    ),\n                    React.createElement(\n                      \"div\",\n                      {\n                        className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 bottomLiksOuter\"\n                      },\n                      React.createElement(\n                        \"div\",\n                        {\n                          className: \"text-left col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadLeft \"\n                        },\n                        React.createElement(\n                          \"a\",\n                          {\n                            href: \"#\",\n                            className: \"bottomLinks\",\n                            onClick: this.showSignUp.bind(this)\n                          },\n                          React.createElement(\"i\", {\n                            className: \"fa fa-angle-double-left\",\n                            \"aria-hidden\": \"true\"\n                          }),\n                          \" Sign Up\"\n                        )\n                      ),\n                      React.createElement(\n                        \"div\",\n                        {\n                          className: \"text-right col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadRight\"\n                        },\n                        React.createElement(\n                          \"a\",\n                          {\n                            href: \"#\",\n                            className: \"bottomLinks\",\n                            onClick: this.showForgotModal.bind(this)\n                          },\n                          \"Forgot Password ?\"\n                        )\n                      )\n                    )\n                  )\n                ),\n                React.createElement(SignUp, null),\n                React.createElement(ForgotPassword, null)\n              )\n            )\n          )\n        )\n      );\n    }\n\n    return render;\n  }();\n\n  return LogIn;\n}(TrackerReact(React.Component));","map":{"version":3,"sources":["imports/website/forms/LogIn.jsx"],"names":["module","export","LogIn","React","watch","require","v","render","TrackerReact","SignUp","OTPModal","ForgotPassword","Router","Route","browserHistory","componentDidMount","$","validate","showSignUp","event","preventDefault","hide","show","addClass","showForgotModal","userlogin","email","refs","loginusername","value","passwordVar","loginPassword","Meteor","call","error","data","console","lo","log","loginWithPassword","swal","title","text","timer","showConfirmButton","type","Roles","userIsInRole","userId","modal","replace","scrollTop","inputEffect","target","val","removeClass","bind","Component"],"mappings":"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","file":"imports/website/forms/LogIn.jsx.map","sourcesContent":["import React from 'react';\nimport {render} from 'react-dom';\nimport TrackerReact from 'meteor/ultimatejs:tracker-react';\nimport SignUp from './SignUp.jsx';\nimport OTPModal from '../permissionModals/OTPModal.jsx';\nimport ForgotPassword from './ForgotPassword.jsx';\nimport {Router, Route, browserHistory} from 'react-router';\n\nexport default class LogIn extends TrackerReact(React.Component) {\n  componentDidMount() {\n    $(\"#login\").validate();\n    \n  }\n\tshowSignUp(event){\n\t\tevent.preventDefault();\n\t\t$('#outerLoginWrapper').hide();\n    $('#outerSignUpWrapper').show();\n    $('.modalContent').addClass('addModalHeight');\n\t}\n  showForgotModal(event){\n    event.preventDefault();\n    $('#outerLoginWrapper').hide();\n    $('#ForgotBlock').show();\n  }\n  userlogin(event){\n    event.preventDefault();\n\n    var email       = this.refs.loginusername.value;\n    var passwordVar = this.refs.loginPassword.value;  \n\n    Meteor.call('checkEmailVerification', email, function(error,data){\n      console.lo\n      if (data == \"verified\"){\n        \n        Meteor.call('checkBlockedUser', email, function(error,data){\n          \n          if (data == \"Active\"){\n            console.log(\"email,password:\"+email,passwordVar);\n            Meteor.loginWithPassword(email, passwordVar, function(error) {\n              if (error) {\n                \n                return swal({\n                  title: \"Either email or password is incorrect\",\n                  text: \"Please try again\",\n                  timer: 3000,\n                  showConfirmButton: false,\n                  type: \"error\"\n                });\n              } else {\n                if(Roles.userIsInRole(Meteor.userId(), ['admin','superAdmin','screening committee'])) {\n                  // FlowRouter.go('/adminDashboard');\n                  $('#loginModal').modal('hide');\n                  $('.modal-backdrop').hide();\n                  browserHistory.replace('/admin/dashboard');\n                }else{\n                  $('#loginModal').modal('hide');\n                  $('.modal-backdrop').hide();\n                  browserHistory.replace('/');\n                  // swal({\n                  //   title: 'Welcome to ASSUREiD!!',\n                  //   text: 'Your Parking Assistant.',\n                  //   imageUrl: '/images/spotyl.png',\n                  //   imageWidth: 400,\n                  //   imageHeight: 200,\n                  //   animation: false,\n                  //   customClass: 'animated wobble',\n                  // });\n                }\n              }\n            });\n          }else if(data == \"Blocked\"){\n            swal({\n              title: \"Your profile is blocked\",\n              text: \"Please contact with Admin\",\n              timer: 3000,\n              showConfirmButton: false,\n              type: \"error\"\n            });\n          }else{\n            swal({\n              title: \"Either email or password is incorrect\",\n              text: \"Please try again\",\n              timer: 3000,\n              showConfirmButton: false,\n              type: \"error\"\n            });\n          }\n        });  \n      }else if(data == \"unverified\"){\n        swal({\n          title: \"Your Account is not verified\",\n          // timer: 10000,\n          text: \"Please click on 'OK' button to verify now\",\n          showConfirmButton: true,\n          type: \"error\"\n        });\n        $('#outerLoginWrapper').hide();\n        $('#OtpBlock').show();\n      }else{\n        swal({\n          title: \"Username does not exist\",\n          text: \"Please create an account\",\n          timer: 3000,\n          showConfirmButton: false,\n          type: \"error\"\n        });\n      }\n      $(\"html,body\").scrollTop(0);\n    });\n    return false;       \n  }\n\n  inputEffect(event){\n    event.preventDefault();\n    // alert('hi');\n    if($(event.target).val() != \"\"){\n      $(event.target).addClass(\"has-content\");\n    }else{\n      $(event.target).removeClass(\"has-content\");\n    }\n  }\n\n\trender() {\n    return (\n    \t<div>\n  \t   <div className=\"modal fade in\" id=\"loginModal\" role=\"dialog\">\n          <div className=\"modal-dialog modal-md\">\n            <div className=\"modal-content col-lg-12 col-md-12 col-sm-12 col-xs-12 modalContent\"> \n              <div className=\"modal-body col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                <button type=\"button\" className=\"close\" data-dismiss=\"modal\">&times;</button>\n\n                  <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 outerLoginWrapper\" id=\"outerLoginWrapper\">\n                    <div className=\"logoWrapper col-lg-6 col-lg-offset-3 col-md-12 col-md-offset-4 col-sm-12 col-sm-offset-4 col-xs-4 col-xs-offset-4\">\n                      <img src=\"../images/AssureIDlogo.png\" className=\"loginPageLogo\"  alt=\"AssureID logo\"/>\n                      <h2>Sign In</h2>\n                    </div>\n                    <div className=\"FormWrapper col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                      <form className=\"\" id=\"login\" onSubmit={this.userlogin.bind(this)}>\n                        <div className=\"form-group col-lg-12 col-md-12 col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                          <div className=\"input-effect input-group\">\n                            <span className=\"input-group-addon addons\" id=\"basic-addon1\"><i className=\"fa fa-user\" aria-hidden=\"true\"></i></span>\n                            <input type=\"text\" className=\"effect-21 form-control loginInputs\" ref=\"loginusername\" name=\"loginusername\" onBlur={this.inputEffect.bind(this)} aria-label=\"Username\" aria-describedby=\"basic-addon1\" required/>\n                            <label>Username</label>\n                            <span className=\"focus-border\">\n                              <i></i>\n                            </span>\n                          </div>\n                        </div> \n                        <div className=\"form-group col-lg-12 col-md-12 col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                          <div className=\"input-effect input-group\">\n                            <span className=\"input-group-addon addons\" id=\"basic-addon1\"><i className=\"fa fa-lock\" aria-hidden=\"true\"></i></span>\n                            <input type=\"password\" className=\"effect-21 form-control loginInputs\" ref=\"loginPassword\" name=\"loginPassword\" onBlur={this.inputEffect.bind(this)} aria-label=\"Username\" aria-describedby=\"basic-addon1\" required/>\n                            <label>Password</label>\n                            <span className=\"focus-border\">\n                              <i></i>\n                            </span>\n                          </div>\n                        </div>  \n                        <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 keepmeloginOuter\"> \n                         <input type=\"checkbox\" name=\"\" value=\"\"/> Keep me Signed In\n                        </div>\n                        <div className=\"submitButtonWrapper col-lg-12 col-md-12 col-sm-12 col-xs-12\"> \n                         <button type=\"submit\" className=\"btn col-lg-12 col-md-12 col-sm-12 col-xs-12 submitBtn\">Sign In</button>\n                        </div>\n                      </form>\n                      <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 bottomLiksOuter\">\n                        <div className=\"text-left col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadLeft \">\n                          <a href=\"#\" className=\"bottomLinks\" onClick={this.showSignUp.bind(this)}><i className=\"fa fa-angle-double-left\" aria-hidden=\"true\"></i> Sign Up</a>\n                        </div>\n                        <div className=\"text-right col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadRight\">\n                          <a href=\"#\" className=\"bottomLinks\" onClick={this.showForgotModal.bind(this)}>Forgot Password ?</a>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  \n                  <SignUp />\n                  {/* <OTPModal /> */}\n                  <ForgotPassword />\n              </div>\n             \n            </div>\n          </div>\n        </div>\n    \t</div>\n    );\n  }\n}\n"]},"hash":"4d4964d1ea178d5fa8622eb7ca8720712a865401"}
