{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"react","imported":["default","Component"],"specifiers":[{"kind":"named","imported":"default","local":"React"},{"kind":"named","imported":"Component","local":"Component"}]},{"source":"react-dom","imported":["render"],"specifiers":[{"kind":"named","imported":"render","local":"render"}]},{"source":"meteor/ultimatejs:tracker-react","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"TrackerReact"}]},{"source":"react-validation","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"Validation"}]},{"source":"validator","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"validator"}]},{"source":"../api/CompanySettingMaster.js","imported":["CompanySettings"],"specifiers":[{"kind":"named","imported":"CompanySettings","local":"CompanySettings"}]},{"source":"meteor/react-meteor-data","imported":["createContainer"],"specifiers":[{"kind":"named","imported":"createContainer","local":"createContainer"}]},{"source":"./CompanyBankList.jsx","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"CompanyBankList"}]},{"source":"./companySettingIndicators.jsx","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"CompanySettingIndicators"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"imports/dashboard/companySetting/components/CompanyBankDetails.jsx","filenameRelative":"imports/dashboard/companySetting/components/CompanyBankDetails.jsx","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"useNativeAsyncAwait":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/dashboard/companySetting/components/CompanyBankDetails.jsx.map","sourceFileName":"imports/dashboard/companySetting/components/CompanyBankDetails.jsx","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"CompanyBankDetails"},"ignored":false,"code":"let React, Component;\nmodule.watch(require(\"react\"), {\n  default(v) {\n    React = v;\n  },\n\n  Component(v) {\n    Component = v;\n  }\n\n}, 0);\nlet render;\nmodule.watch(require(\"react-dom\"), {\n  render(v) {\n    render = v;\n  }\n\n}, 1);\nlet TrackerReact;\nmodule.watch(require(\"meteor/ultimatejs:tracker-react\"), {\n  default(v) {\n    TrackerReact = v;\n  }\n\n}, 2);\nlet Validation;\nmodule.watch(require(\"react-validation\"), {\n  default(v) {\n    Validation = v;\n  }\n\n}, 3);\nlet validator;\nmodule.watch(require(\"validator\"), {\n  default(v) {\n    validator = v;\n  }\n\n}, 4);\nlet CompanySettings;\nmodule.watch(require(\"../api/CompanySettingMaster.js\"), {\n  CompanySettings(v) {\n    CompanySettings = v;\n  }\n\n}, 5);\nlet createContainer;\nmodule.watch(require(\"meteor/react-meteor-data\"), {\n  createContainer(v) {\n    createContainer = v;\n  }\n\n}, 6);\nlet CompanyBankList;\nmodule.watch(require(\"./CompanyBankList.jsx\"), {\n  default(v) {\n    CompanyBankList = v;\n  }\n\n}, 7);\nlet CompanySettingIndicators;\nmodule.watch(require(\"./companySettingIndicators.jsx\"), {\n  default(v) {\n    CompanySettingIndicators = v;\n  }\n\n}, 8);\n\nclass CompanyBankDetails extends TrackerReact(Component) {\n  handleChange(event) {\n    const target = event.target;\n    const name = target.name;\n    this.setState({\n      [name]: event.target.value\n    });\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      accHolderName: this.props.accHolderName,\n      bankName: this.props.bankName,\n      branchName: this.props.branchName,\n      accNumber: this.props.accNumber,\n      ifscCode: this.props.ifscCode,\n      subscription: {\n        \"companyData\": Meteor.subscribe('companyData')\n      }\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (!nextProps.loading) {\n      if (nextProps.post.bankDetails) {\n        this.setState({\n          accHolderName: nextProps.post.accHolderName,\n          bankName: nextProps.post.bankName,\n          branchName: nextProps.post.branchName,\n          accNumber: nextProps.post.accNumber,\n          ifscCode: nextProps.post.ifscCode\n        });\n      }\n    }\n\n    this.handleChange = this.handleChange.bind(this); // this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  submitBankDetail(event) {\n    event.preventDefault();\n    var sessionVar = Session.get('bankDetail');\n\n    if (sessionVar) {\n      var companyBankDetailsFormValue = {\n        accHolderName: $(\".accHolderName\").val(),\n        bankName: $(\".bankName\").val(),\n        branchName: $(\".branchName\").val(),\n        accNumber: $(\".accNumber\").val(),\n        ifscCode: $(\".ifscCode\").val() //close array\n\n      };\n      Meteor.call('updateBankDetails', companyBankDetailsFormValue, function (error, result) {\n        if (error) {\n          console.log(error);\n        } else {\n          swal('Bank Details Updated Successfully!');\n        }\n      });\n    } else {\n      var companyBankDetailsFormValue = {\n        accHolderName: $(\".accHolderName\").val(),\n        bankName: $(\".bankName\").val(),\n        branchName: $(\".branchName\").val(),\n        accNumber: $(\".accNumber\").val(),\n        ifscCode: $(\".ifscCode\").val() //close array\n\n      };\n      Meteor.call('insertCompanyBankDetails', companyBankDetailsFormValue, function (error, result) {\n        if (error) {\n          console.log(error);\n        } else {\n          swal('Bank Details Added Successfully!');\n          $(\".accHolderName\").val('');\n          $(\".bankName\").val('');\n          $(\".branchName\").val('');\n          $(\".accNumber\").val('');\n          $(\".ifscCode\").val('');\n        }\n      });\n    }\n  }\n\n  companyBankData() {\n    var companyData = CompanySettings.findOne({\n      \"companyId\": 1\n    });\n    var companyarray = [];\n\n    if (companyData) {\n      if (companyData.bankDetails) {\n        for (i = 0; i < companyData.bankDetails.length; i++) {\n          companyarray.push({\n            'accHolderName': companyData.bankDetails[i].accHolderName,\n            'bankName': companyData.bankDetails[i].bankName,\n            'branchName': companyData.bankDetails[i].branchName,\n            'accNumber': companyData.bankDetails[i].accNumber,\n            'ifscCode': companyData.bankDetails[i].ifscCode,\n            'index': i,\n            '_id': companyData._id\n          });\n        } //i\n\n      }\n    } //companyData\n\n\n    return companyarray;\n  }\n\n  render() {\n    return React.createElement(\n      \"section\",\n      {\n        className: \"NotificationContent\"\n      },\n      React.createElement(\n        \"div\",\n        {\n          className: \"row\"\n        },\n        React.createElement(\n          \"div\",\n          {\n            className: \"col-lg-10 col-lg-offset-1 col-md-10 col-md-offset-1 col-sm-12 col-xs-12\"\n          },\n          React.createElement(\n            \"div\",\n            {\n              className: \"box box-default\"\n            },\n            React.createElement(\n              \"div\",\n              {\n                className: \"box-header with-border\"\n              },\n              React.createElement(\n                \"h3\",\n                {\n                  className: \"box-title\"\n                },\n                \"BANK DETAILS\"\n              )\n            ),\n            React.createElement(\n              \"div\",\n              {\n                className: \"box-body\"\n              },\n              React.createElement(\n                \"form\",\n                {\n                  id: \"bankDetailForm\",\n                  className: \"bankDetailForm\"\n                },\n                React.createElement(\n                  \"div\",\n                  {\n                    className: \"form-group col-lg-6 col-md-4 col-sm-12 col-xs-12\"\n                  },\n                  React.createElement(\n                    \"div\",\n                    {\n                      className: \"input-group\"\n                    },\n                    React.createElement(\n                      \"span\",\n                      {\n                        className: \"input-group-addon ipAddons\"\n                      },\n                      React.createElement(\"i\", {\n                        className: \"fa fa-user\",\n                        \"aria-hidden\": \"true\"\n                      })\n                    ),\n                    React.createElement(\"input\", {\n                      value: this.state.accHolderName,\n                      onChange: this.handleChange,\n                      type: \"text\",\n                      placeholder: \"Enter Account Holder Name\",\n                      name: \"accHolderName\",\n                      className: \"form-control accHolderName inputValid\",\n                      required: true\n                    })\n                  )\n                ),\n                React.createElement(\n                  \"div\",\n                  {\n                    className: \"form-group col-lg-6 col-md-4 col-sm-12 col-xs-12\"\n                  },\n                  React.createElement(\n                    \"div\",\n                    {\n                      className: \"input-group\"\n                    },\n                    React.createElement(\n                      \"span\",\n                      {\n                        className: \"input-group-addon ipAddons\"\n                      },\n                      React.createElement(\"i\", {\n                        className: \"fa fa-university\",\n                        \"aria-hidden\": \"true\"\n                      })\n                    ),\n                    React.createElement(\"input\", {\n                      value: this.state.bankName,\n                      onChange: this.handleChange,\n                      type: \"text\",\n                      placeholder: \"Enter Bank Name\",\n                      name: \"bankName\",\n                      className: \"form-control bankName inputValid\",\n                      required: true\n                    })\n                  )\n                ),\n                React.createElement(\n                  \"div\",\n                  {\n                    className: \"form-group col-lg-6 col-md-4 col-sm-12 col-xs-12\"\n                  },\n                  React.createElement(\n                    \"div\",\n                    {\n                      className: \"input-group\"\n                    },\n                    React.createElement(\n                      \"span\",\n                      {\n                        className: \"input-group-addon ipAddons\"\n                      },\n                      React.createElement(\"i\", {\n                        className: \"fa fa-university\",\n                        \"aria-hidden\": \"true\"\n                      })\n                    ),\n                    React.createElement(\"input\", {\n                      value: this.state.branchName,\n                      onChange: this.handleChange,\n                      type: \"text\",\n                      placeholder: \"Enter Branch Name\",\n                      name: \"branchName\",\n                      className: \"form-control branchName inputValid\",\n                      required: true\n                    })\n                  )\n                ),\n                React.createElement(\n                  \"div\",\n                  {\n                    className: \"form-group col-lg-6 col-md-4 col-sm-12 col-xs-12\"\n                  },\n                  React.createElement(\n                    \"div\",\n                    {\n                      className: \"input-group\"\n                    },\n                    React.createElement(\n                      \"span\",\n                      {\n                        className: \"input-group-addon ipAddons\"\n                      },\n                      React.createElement(\"i\", {\n                        className: \"fa fa-address-card-o\",\n                        \"aria-hidden\": \"true\"\n                      })\n                    ),\n                    React.createElement(\"input\", {\n                      value: this.state.accNumber,\n                      onChange: this.handleChange,\n                      type: \"number\",\n                      placeholder: \"Enter Account Number\",\n                      name: \"accNumber\",\n                      className: \"form-control accNumber inputValid\",\n                      required: true\n                    })\n                  )\n                ),\n                React.createElement(\n                  \"div\",\n                  {\n                    className: \"form-group col-lg-6 col-md-4 col-sm-12 col-xs-12\"\n                  },\n                  React.createElement(\n                    \"div\",\n                    {\n                      className: \"input-group\"\n                    },\n                    React.createElement(\n                      \"span\",\n                      {\n                        className: \"input-group-addon ipAddons\"\n                      },\n                      React.createElement(\"i\", {\n                        className: \"fa fa-globe\",\n                        \"aria-hidden\": \"true\"\n                      })\n                    ),\n                    React.createElement(\"input\", {\n                      value: this.state.ifscCode,\n                      onChange: this.handleChange,\n                      type: \"text\",\n                      placeholder: \"Enter IFSC Code\",\n                      name: \"ifscCode\",\n                      className: \"form-control ifscCode inputValid\",\n                      required: true,\n                      disabled: this.state.isDisabled\n                    })\n                  )\n                ),\n                React.createElement(\n                  \"div\",\n                  {\n                    className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\"\n                  },\n                  React.createElement(\n                    \"button\",\n                    {\n                      className: \"col-lg-3 col-md-4 col-sm-6 col-xs-12  btn btn-primary pull-right bankDetails marginBottomDiv\",\n                      onClick: this.submitBankDetail.bind(this)\n                    },\n                    \"Submit\"\n                  )\n                )\n              )\n            )\n          )\n        )\n      ),\n      React.createElement(\n        \"div\",\n        {\n          className: \"table-responsive\"\n        },\n        React.createElement(\n          \"table\",\n          {\n            className: \"table table-bordered table-striped table-hover\"\n          },\n          React.createElement(\n            \"thead\",\n            null,\n            React.createElement(\n              \"tr\",\n              {\n                className: \"tableHeader\"\n              },\n              React.createElement(\n                \"th\",\n                null,\n                \" Account Holder \"\n              ),\n              React.createElement(\n                \"th\",\n                null,\n                \" Bank Name \"\n              ),\n              React.createElement(\n                \"th\",\n                null,\n                \" Branch Name \"\n              ),\n              React.createElement(\n                \"th\",\n                null,\n                \" Account Number \"\n              ),\n              React.createElement(\n                \"th\",\n                null,\n                \" IFSC Code \"\n              ),\n              React.createElement(\n                \"th\",\n                null,\n                \" Action \"\n              )\n            )\n          ),\n          React.createElement(\n            \"tbody\",\n            null,\n            this.companyBankData().map(bankData => {\n              return React.createElement(CompanyBankList, {\n                key: bankData.index,\n                companyBankDataVales: bankData\n              });\n            })\n          )\n        )\n      )\n    );\n  }\n\n}\n\nEditBankDetails = createContainer(props => {\n  const postHandle = Meteor.subscribe('companyData');\n  const post = CompanySettings.findOne({}) || {};\n  const loading = !postHandle.ready();\n  return {\n    loading,\n    post\n  };\n}, CompanyBankDetails);\nmodule.exportDefault(EditBankDetails);","map":{"version":3,"sources":["imports/dashboard/companySetting/components/CompanyBankDetails.jsx"],"names":["React","Component","module","watch","require","default","v","render","TrackerReact","Validation","validator","CompanySettings","createContainer","CompanyBankList","CompanySettingIndicators","CompanyBankDetails","handleChange","event","target","name","setState","value","constructor","props","state","accHolderName","bankName","branchName","accNumber","ifscCode","subscription","Meteor","subscribe","bind","componentWillReceiveProps","nextProps","loading","post","bankDetails","submitBankDetail","preventDefault","sessionVar","Session","get","companyBankDetailsFormValue","$","val","call","error","result","console","log","swal","companyBankData","companyData","findOne","companyarray","i","length","push","_id","isDisabled","map","bankData","index","EditBankDetails","postHandle","ready","exportDefault"],"mappings":"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","file":"imports/dashboard/companySetting/components/CompanyBankDetails.jsx.map","sourcesContent":["import React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport TrackerReact from 'meteor/ultimatejs:tracker-react';\n\nimport Validation from 'react-validation';\nimport validator from 'validator';\n\nimport { CompanySettings } from '../api/CompanySettingMaster.js';\nimport {createContainer} from 'meteor/react-meteor-data';\n\nimport CompanyBankList from './CompanyBankList.jsx';\nimport CompanySettingIndicators from './companySettingIndicators.jsx';\n\n\nclass CompanyBankDetails extends TrackerReact(Component){\n\n  handleChange(event){\n\t  const target = event.target;\n\t  const name   = target.name;\n\t  this.setState({\n\t  \t[name]: event.target.value,\n\t  });\n\t}\n\n\tconstructor(props) {\n\t  super(props);\n\t  this.state = {\n\t    accHolderName  : this.props.accHolderName,\n\t    bankName       : this.props.bankName,\n\t    branchName     : this.props.branchName,\n\t    accNumber      : this.props.accNumber,\n\t    ifscCode       : this.props.ifscCode,\n\n\n\n\t    subscription : {\n\t        \"companyData\" : Meteor.subscribe('companyData'),\n\t      }\n\n\t  };\n\n\t    this.handleChange = this.handleChange.bind(this);\n\t}\n\n  componentWillReceiveProps(nextProps) {\n  \tif(!nextProps.loading){\n      if(nextProps.post.bankDetails){\n\t    this.setState({\n\t        accHolderName : nextProps.post.accHolderName,\n\t        bankName   \t  : nextProps.post.bankName,\n\t        branchName    : nextProps.post.branchName,\n\t        accNumber     : nextProps.post.accNumber,\n\t        ifscCode      : nextProps.post.ifscCode,\n\n\t    })\n\t  }\n\t}\n\n    this.handleChange = this.handleChange.bind(this);\n    // this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n  submitBankDetail(event){\n    event.preventDefault();\n    var sessionVar = Session.get('bankDetail');\n\n    if(sessionVar){\n      var companyBankDetailsFormValue ={\n\n        accHolderName  : $(\".accHolderName\").val(),\n        bankName       : $(\".bankName\").val(),\n        branchName     : $(\".branchName\").val(),\n        accNumber      : $(\".accNumber\").val(),\n        ifscCode       : $(\".ifscCode\").val(),\n\n     }//close array\n\n      Meteor.call('updateBankDetails', companyBankDetailsFormValue,\n              function(error, result){\n                if(error){\n                  console.log(error);\n                }else{\n\n                  swal('Bank Details Updated Successfully!');\n                }\n              }\n      );\n\n    }else{\n      var companyBankDetailsFormValue ={\n\n        accHolderName  : $(\".accHolderName\").val(),\n        bankName       : $(\".bankName\").val(),\n        branchName     : $(\".branchName\").val(),\n        accNumber      : $(\".accNumber\").val(),\n        ifscCode       : $(\".ifscCode\").val(),\n\n     }//close array\n\n      Meteor.call('insertCompanyBankDetails', companyBankDetailsFormValue,\n              function(error, result){\n                if(error){\n                  console.log(error);\n                }else{\n                  swal('Bank Details Added Successfully!');\n                  $(\".accHolderName\").val('');\n                  $(\".bankName\").val('');\n                  $(\".branchName\").val('');\n                  $(\".accNumber\").val('');\n                  $(\".ifscCode\").val('');\n                }\n              }\n      );\n    }\n\n\n  }\n\n\n  companyBankData(){\n    var companyData = CompanySettings.findOne({\"companyId\" : 1});\n    var companyarray = [];\n    if(companyData){\n      if(companyData.bankDetails){\n        for(i=0;i<companyData.bankDetails.length;i++){\n          companyarray.push({\n            'accHolderName' : companyData.bankDetails[i].accHolderName,\n            'bankName'      : companyData.bankDetails[i].bankName,\n            'branchName'    : companyData.bankDetails[i].branchName,\n            'accNumber'     : companyData.bankDetails[i].accNumber,\n            'ifscCode'      : companyData.bankDetails[i].ifscCode,\n            'index'         : i,\n            '_id'           : companyData._id,\n          })\n        }//i\n      }\n    }//companyData\n    return companyarray;\n  }\n\n  render(){\n\n  \treturn(\n\n  \t\t<section className=\"NotificationContent\">\n        <div className=\"row\">\n          <div className=\"col-lg-10 col-lg-offset-1 col-md-10 col-md-offset-1 col-sm-12 col-xs-12\">\n            <div className=\"box box-default\">\n              <div className=\"box-header with-border\">\n              <h3 className=\"box-title\">BANK DETAILS</h3>\n              </div>\n\n            <div className=\"box-body\">\n            <form id=\"bankDetailForm\" className=\"bankDetailForm\">\n              <div className=\"form-group col-lg-6 col-md-4 col-sm-12 col-xs-12\">\n                <div className=\"input-group\">\n                 <span className=\"input-group-addon ipAddons\"><i className=\"fa fa-user\" aria-hidden=\"true\"></i></span>\n                 <input value={this.state.accHolderName} onChange={this.handleChange} type=\"text\" placeholder=\"Enter Account Holder Name\" name=\"accHolderName\" className=\"form-control accHolderName inputValid\" required/>\n                </div>\n              </div>\n\n              <div className=\"form-group col-lg-6 col-md-4 col-sm-12 col-xs-12\">\n                <div className=\"input-group\">\n                  <span className=\"input-group-addon ipAddons\"><i className=\"fa fa-university\" aria-hidden=\"true\"></i></span>\n                  <input value={this.state.bankName} onChange={this.handleChange} type=\"text\" placeholder=\"Enter Bank Name\" name=\"bankName\" className=\"form-control bankName inputValid\" required/>\n                </div>\n              </div>\n\n               <div className=\"form-group col-lg-6 col-md-4 col-sm-12 col-xs-12\">\n                <div className=\"input-group\">\n    \t             <span className=\"input-group-addon ipAddons\"><i className=\"fa fa-university\" aria-hidden=\"true\"></i></span>\n                   <input value={this.state.branchName} onChange={this.handleChange} type=\"text\" placeholder=\"Enter Branch Name\" name=\"branchName\" className=\"form-control branchName inputValid\" required/>\n                </div>\n              </div>\n               <div className=\"form-group col-lg-6 col-md-4 col-sm-12 col-xs-12\">\n                 <div className=\"input-group\">\n    \t             <span className=\"input-group-addon ipAddons\"><i className=\"fa fa-address-card-o\" aria-hidden=\"true\"></i></span>\n                   <input value={this.state.accNumber} onChange={this.handleChange} type=\"number\" placeholder=\"Enter Account Number\" name=\"accNumber\" className=\"form-control accNumber inputValid\" required/>\n                </div>\n              </div>\n               <div className=\"form-group col-lg-6 col-md-4 col-sm-12 col-xs-12\">\n                 <div className=\"input-group\">\n    \t             <span className=\"input-group-addon ipAddons\"><i className=\"fa fa-globe\" aria-hidden=\"true\"></i></span>\n                   <input value={this.state.ifscCode} onChange={this.handleChange} type=\"text\" placeholder=\"Enter IFSC Code\" name=\"ifscCode\" className=\"form-control ifscCode inputValid\" required disabled={this.state.isDisabled}/>\n                 </div>\n              </div>\n              <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                <button className=\"col-lg-3 col-md-4 col-sm-6 col-xs-12  btn btn-primary pull-right bankDetails marginBottomDiv\" onClick={this.submitBankDetail.bind(this)}>Submit</button>\n              </div>\n            </form>\n            </div>\n            </div>\n          </div>\n  \t\t  </div>\n\n         <div className=\"table-responsive\">\n          <table className=\"table table-bordered table-striped table-hover\">\n            <thead>\n              <tr className=\"tableHeader\">\n                <th> Account Holder </th>\n                <th> Bank Name </th>\n                <th> Branch Name </th>\n                <th> Account Number </th>\n                <th> IFSC Code </th>\n                <th> Action </th>\n              </tr>\n            </thead>\n            <tbody>\n              { this.companyBankData().map( (bankData)=>{\n                return <CompanyBankList key={bankData.index} companyBankDataVales={bankData}/>\n                })\n              }\n            </tbody>\n          </table>\n          </div>\n\n\n\n        {/*<div className=\"emptyDiv\"></div>*/}\n      </section>\n\n\n  \t\t);\n  }\n\n }\n\n EditBankDetails = createContainer((props)=>{\n\n    const postHandle = Meteor.subscribe('companyData');\n    const post       = CompanySettings.findOne({})||{};\n    const loading    = !postHandle.ready();\n\n    return {\n        loading,\n        post,\n    };\n}, CompanyBankDetails);\n\nexport default EditBankDetails;\n"]},"hash":"28c0b886795eb4582782b786e886e234bccb1688"}
