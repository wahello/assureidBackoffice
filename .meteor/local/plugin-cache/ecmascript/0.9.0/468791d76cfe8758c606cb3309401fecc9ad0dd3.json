{"metadata":{"usedHelpers":["inherits","possibleConstructorReturn","classCallCheck","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"react","imported":["default","Component"],"specifiers":[{"kind":"named","imported":"default","local":"React"},{"kind":"named","imported":"Component","local":"Component"}]},{"source":"react-dom","imported":["render"],"specifiers":[{"kind":"named","imported":"render","local":"render"}]},{"source":"meteor/ultimatejs:tracker-react","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"TrackerReact"}]},{"source":"react-router","imported":["browserHistory"],"specifiers":[{"kind":"named","imported":"browserHistory","local":"browserHistory"}]},{"source":"react-router","imported":["Link"],"specifiers":[{"kind":"named","imported":"Link","local":"Link"}]},{"source":"meteor/react-meteor-data","imported":["withTracker"],"specifiers":[{"kind":"named","imported":"withTracker","local":"withTracker"}]},{"source":"./api/Order.js","imported":["TempOrder"],"specifiers":[{"kind":"named","imported":"TempOrder","local":"TempOrder"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"imports/website/ServiceProcess/PaymentGateway.jsx","filenameRelative":"imports/website/ServiceProcess/PaymentGateway.jsx","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/website/ServiceProcess/PaymentGateway.jsx.map","sourceFileName":"imports/website/ServiceProcess/PaymentGateway.jsx","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"PaymentGateway"},"ignored":false,"code":"var _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar React = void 0,\n    Component = void 0;\nmodule.watch(require(\"react\"), {\n  \"default\": function (v) {\n    React = v;\n  },\n  Component: function (v) {\n    Component = v;\n  }\n}, 0);\nvar render = void 0;\nmodule.watch(require(\"react-dom\"), {\n  render: function (v) {\n    render = v;\n  }\n}, 1);\nvar TrackerReact = void 0;\nmodule.watch(require(\"meteor/ultimatejs:tracker-react\"), {\n  \"default\": function (v) {\n    TrackerReact = v;\n  }\n}, 2);\nvar browserHistory = void 0;\nmodule.watch(require(\"react-router\"), {\n  browserHistory: function (v) {\n    browserHistory = v;\n  }\n}, 3);\nvar Link = void 0;\nmodule.watch(require(\"react-router\"), {\n  Link: function (v) {\n    Link = v;\n  }\n}, 4);\nvar withTracker = void 0;\nmodule.watch(require(\"meteor/react-meteor-data\"), {\n  withTracker: function (v) {\n    withTracker = v;\n  }\n}, 5);\nvar TempOrder = void 0;\nmodule.watch(require(\"./api/Order.js\"), {\n  TempOrder: function (v) {\n    TempOrder = v;\n  }\n}, 6);\n\nvar PaymentGateway = function (_TrackerReact) {\n  (0, _inherits3.default)(PaymentGateway, _TrackerReact);\n\n  function PaymentGateway() {\n    (0, _classCallCheck3.default)(this, PaymentGateway);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _TrackerReact.call(this));\n\n    _this.state = {\n      \"subscription\": {\n        \"singleTempOrder\": Meteor.subscribe(\"singleTempOrder\")\n      }\n    }; // this.handleChange = this.handleChange.bind(this);\n\n    return _this;\n  }\n\n  PaymentGateway.prototype.componentWillMount = function () {\n    function componentWillMount() {}\n\n    return componentWillMount;\n  }();\n\n  PaymentGateway.prototype.componentWillUnmount = function () {\n    function componentWillUnmount() {}\n\n    return componentWillUnmount;\n  }();\n\n  PaymentGateway.prototype.componentDidMount = function () {\n    function componentDidMount() {\n      $('html, body').scrollTop(0);\n    }\n\n    return componentDidMount;\n  }();\n\n  PaymentGateway.prototype.confirmPayment = function () {\n    function confirmPayment(event) {\n      event.preventDefault(); // var path = \"/PaymentGateway\";\n      // browserHistory.replace(path);\n\n      var invoiceDate = this.props.tempOrder.createdAt;\n      var invoiceNo = this.props.tempOrder.invoiceNo;\n      var serviceId = this.props.tempOrder.serviceId;\n      var serviceName = this.props.tempOrder.serviceName;\n      var serviceRate = this.props.tempOrder.serviceRate;\n      var serviceDuration = this.props.tempOrder.serviceDuration;\n      var userId = this.props.tempOrder.userId;\n      var userName = this.props.tempOrder.userName;\n      var totalAmount = this.props.tempOrder.totalAmount;\n      var delieveryStatus = {\n        \"status\": \"New Order\",\n        \"createdAt\": new Date()\n      };\n      Meteor.call(\"insertOrder\", invoiceDate, invoiceNo, serviceId, serviceName, serviceRate, serviceDuration, userId, userName, totalAmount, delieveryStatus, function (error, result) {\n        if (error) {\n          console.log(\"error\", error.reason);\n        } else {\n          swal(\"Done\");\n          var path = \"/Receipt/\" + result;\n          browserHistory.replace(path);\n        }\n      });\n    }\n\n    return confirmPayment;\n  }();\n\n  PaymentGateway.prototype.render = function () {\n    function render() {\n      return React.createElement(\n        \"div\",\n        {\n          className: \"outerServiceBlock col-lg-12 col-md-12 col-sm-12 col-xs-1\"\n        },\n        React.createElement(\n          \"div\",\n          {\n            className: \"servieInnerBlock col-lg-12 col-md-12 col-sm-12 col-xs-12\"\n          },\n          React.createElement(\n            \"div\",\n            {\n              className: \"col-lg-10 col-lg-offset-1 col-md-10 col-md-offset-1 col-sm-12 col-xs-12\"\n            },\n            React.createElement(\n              \"h1\",\n              {\n                className: \"text-center\"\n              },\n              \"Payment Gateway\"\n            ),\n            React.createElement(\n              \"div\",\n              {\n                className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 outerButtonDiv\"\n              },\n              React.createElement(\n                \"button\",\n                {\n                  type: \"submit\",\n                  className: \"col-lg-3 col-md-4 col-xs-12 col-sm-12 col-xs-12 btn ServiceProcessButtons pull-right\",\n                  onClick: this.confirmPayment.bind(this)\n                },\n                \"Confirm Payment\"\n              )\n            )\n          )\n        )\n      );\n    }\n\n    return render;\n  }();\n\n  return PaymentGateway;\n}(TrackerReact(Component));\n\nPaymentGatewayContainer = withTracker(function (_ref) {\n  var params = _ref.params;\n  var _id = params.id; // console.log(\"_id\",_id);\n\n  var postHandle = Meteor.subscribe('singleTempOrder', _id); // var editServices   = this.props.params.id;\n  // console.log(\"Param\" +editServices);\n\n  var tempOrder = TempOrder.findOne({\n    \"_id\": _id\n  }); // console.log('tempOrder ', tempOrder);\n\n  var loading = !postHandle.ready();\n\n  if (_id) {\n    return {\n      loading: loading,\n      tempOrder: tempOrder\n    };\n  }\n})(PaymentGateway);\nmodule.exportDefault(PaymentGatewayContainer);","map":{"version":3,"sources":["imports/website/ServiceProcess/PaymentGateway.jsx"],"names":["React","Component","module","watch","require","v","render","TrackerReact","browserHistory","Link","withTracker","TempOrder","PaymentGateway","state","Meteor","subscribe","componentWillMount","componentWillUnmount","componentDidMount","$","scrollTop","confirmPayment","event","preventDefault","invoiceDate","props","tempOrder","createdAt","invoiceNo","serviceId","serviceName","serviceRate","serviceDuration","userId","userName","totalAmount","delieveryStatus","Date","call","error","result","console","log","reason","swal","path","replace","bind","PaymentGatewayContainer","params","_id","id","postHandle","findOne","loading","ready","exportDefault"],"mappings":"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","file":"imports/website/ServiceProcess/PaymentGateway.jsx.map","sourcesContent":["import React,{Component} from 'react';\nimport {render} from 'react-dom';\nimport TrackerReact from 'meteor/ultimatejs:tracker-react';\nimport {browserHistory} from 'react-router';\nimport { Link } from 'react-router';\nimport { withTracker } from 'meteor/react-meteor-data';\nimport { TempOrder } from './api/Order.js';\n\nclass PaymentGateway extends TrackerReact(Component){\n  constructor(){\n    super();\n    this.state ={\n      \"subscription\" : {\n        \"singleTempOrder\" : Meteor.subscribe(\"singleTempOrder\"),\n      }\n    };\n    // this.handleChange = this.handleChange.bind(this);\n  }\n  componentWillMount(){\n  }\n  componentWillUnmount(){\n  }\n  componentDidMount(){ \n    $('html, body').scrollTop(0);\n  }\n  confirmPayment(event){ \n    event.preventDefault();\n    // var path = \"/PaymentGateway\";\n    // browserHistory.replace(path);\n    var invoiceDate      = this.props.tempOrder.createdAt\n    var invoiceNo        = this.props.tempOrder.invoiceNo;\n    var serviceId        = this.props.tempOrder.serviceId;\n    var serviceName      = this.props.tempOrder.serviceName;\n    var serviceRate      = this.props.tempOrder.serviceRate;\n    var serviceDuration  = this.props.tempOrder.serviceDuration;\n    var userId           = this.props.tempOrder.userId;\n    var userName         = this.props.tempOrder.userName;\n    var totalAmount      = this.props.tempOrder.totalAmount;\n    var delieveryStatus  = {\n      \"status\" : \"New Order\",\n      \"createdAt\" : new Date(),\n    };\n\n      Meteor.call(\"insertOrder\",invoiceDate,invoiceNo,serviceId,serviceName,serviceRate,serviceDuration,userId,userName,totalAmount,delieveryStatus,function(error,result){\n       if (error) {\n        console.log(\"error\",error.reason);\n       }else{\n        swal(\"Done\");  \n        var path = \"/Receipt/\"+result;\n        browserHistory.replace(path);\n       }\n      });\n  }\n  \n  render(){\n    return(\n      <div className=\"outerServiceBlock col-lg-12 col-md-12 col-sm-12 col-xs-1\">\n        <div className=\"servieInnerBlock col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n          <div className=\"col-lg-10 col-lg-offset-1 col-md-10 col-md-offset-1 col-sm-12 col-xs-12\">\n            <h1 className=\"text-center\">Payment Gateway</h1>\n              <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 outerButtonDiv\">\n                <button  type=\"submit\" className=\"col-lg-3 col-md-4 col-xs-12 col-sm-12 col-xs-12 btn ServiceProcessButtons pull-right\" onClick={this.confirmPayment.bind(this)}>Confirm Payment</button>\n              </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nPaymentGatewayContainer = withTracker(({params}) => {\n    var _id = params.id;\n    // console.log(\"_id\",_id);\n    const postHandle = Meteor.subscribe('singleTempOrder',_id);\n    // var editServices   = this.props.params.id;\n    // console.log(\"Param\" +editServices);\n    const tempOrder = TempOrder.findOne({\"_id\":_id});\n    // console.log('tempOrder ', tempOrder);\n    const loading = !postHandle.ready();\n    \n    if(_id){\n      return {\n          loading,\n          tempOrder,\n      };\n    }\n})(PaymentGateway);\nexport default PaymentGatewayContainer;\n"]},"hash":"468791d76cfe8758c606cb3309401fecc9ad0dd3"}
