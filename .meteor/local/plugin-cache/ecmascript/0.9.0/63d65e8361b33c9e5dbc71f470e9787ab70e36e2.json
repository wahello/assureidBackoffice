{"metadata":{"usedHelpers":["inherits","possibleConstructorReturn","classCallCheck","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"meteor/meteor","imported":["Meteor"],"specifiers":[{"kind":"named","imported":"Meteor","local":"Meteor"}]},{"source":"meteor/mongo","imported":["Mongo"],"specifiers":[{"kind":"named","imported":"Mongo","local":"Mongo"}]},{"source":"react","imported":["default","Component"],"specifiers":[{"kind":"named","imported":"default","local":"React"},{"kind":"named","imported":"Component","local":"Component"}]},{"source":"react-dom","imported":["render"],"specifiers":[{"kind":"named","imported":"render","local":"render"}]},{"source":"meteor/ultimatejs:tracker-react","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"TrackerReact"}]},{"source":"meteor/react-meteor-data","imported":["createContainer"],"specifiers":[{"kind":"named","imported":"createContainer","local":"createContainer"}]},{"source":"react-validation","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"Validation"}]},{"source":"validator","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"validator"}]},{"source":"meteor/tracker","imported":["Tracker"],"specifiers":[{"kind":"named","imported":"Tracker","local":"Tracker"}]},{"source":"react-router","imported":["browserHistory"],"specifiers":[{"kind":"named","imported":"browserHistory","local":"browserHistory"}]},{"source":"/imports/dashboard/product/addNewProduct/api/ProductMaster.js","imported":["Product"],"specifiers":[{"kind":"named","imported":"Product","local":"Product"}]},{"source":"/imports/dashboard/product/addNewProduct/api/projectSettings.js","imported":["ProjectSettings"],"specifiers":[{"kind":"named","imported":"ProjectSettings","local":"ProjectSettings"}]}],"exports":{"exported":["AddNewProductImages"],"specifiers":[{"kind":"local","local":"AddNewProductImages","exported":"default"}]}}},"options":{"filename":"imports/dashboard/product/addNewProduct/component/AddNewProductImages.jsx","filenameRelative":"imports/dashboard/product/addNewProduct/component/AddNewProductImages.jsx","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/dashboard/product/addNewProduct/component/AddNewProductImages.jsx.map","sourceFileName":"imports/dashboard/product/addNewProduct/component/AddNewProductImages.jsx","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"AddNewProductImages"},"ignored":false,"code":"var _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nmodule.export({\n    \"default\": function () {\n        return AddNewProductImages;\n    }\n});\nvar Meteor = void 0;\nmodule.watch(require(\"meteor/meteor\"), {\n    Meteor: function (v) {\n        Meteor = v;\n    }\n}, 0);\nvar Mongo = void 0;\nmodule.watch(require(\"meteor/mongo\"), {\n    Mongo: function (v) {\n        Mongo = v;\n    }\n}, 1);\nvar React = void 0,\n    Component = void 0;\nmodule.watch(require(\"react\"), {\n    \"default\": function (v) {\n        React = v;\n    },\n    Component: function (v) {\n        Component = v;\n    }\n}, 2);\nvar render = void 0;\nmodule.watch(require(\"react-dom\"), {\n    render: function (v) {\n        render = v;\n    }\n}, 3);\nvar TrackerReact = void 0;\nmodule.watch(require(\"meteor/ultimatejs:tracker-react\"), {\n    \"default\": function (v) {\n        TrackerReact = v;\n    }\n}, 4);\nvar createContainer = void 0;\nmodule.watch(require(\"meteor/react-meteor-data\"), {\n    createContainer: function (v) {\n        createContainer = v;\n    }\n}, 5);\nvar Validation = void 0;\nmodule.watch(require(\"react-validation\"), {\n    \"default\": function (v) {\n        Validation = v;\n    }\n}, 6);\nvar validator = void 0;\nmodule.watch(require(\"validator\"), {\n    \"default\": function (v) {\n        validator = v;\n    }\n}, 7);\nvar Tracker = void 0;\nmodule.watch(require(\"meteor/tracker\"), {\n    Tracker: function (v) {\n        Tracker = v;\n    }\n}, 8);\nvar browserHistory = void 0;\nmodule.watch(require(\"react-router\"), {\n    browserHistory: function (v) {\n        browserHistory = v;\n    }\n}, 9);\nvar Product = void 0;\nmodule.watch(require(\"/imports/dashboard/product/addNewProduct/api/ProductMaster.js\"), {\n    Product: function (v) {\n        Product = v;\n    }\n}, 10);\nvar ProjectSettings = void 0;\nmodule.watch(require(\"/imports/dashboard/product/addNewProduct/api/projectSettings.js\"), {\n    ProjectSettings: function (v) {\n        ProjectSettings = v;\n    }\n}, 11);\n\nvar AddNewProductImages = function (_TrackerReact) {\n    (0, _inherits3.default)(AddNewProductImages, _TrackerReact);\n\n    function AddNewProductImages(props) {\n        (0, _classCallCheck3.default)(this, AddNewProductImages);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, _TrackerReact.call(this, props));\n\n        _this.state = {\n            \"allProductIamges\": []\n        };\n        return _this;\n    }\n\n    AddNewProductImages.prototype.componentWillReceiveProps = function () {\n        function componentWillReceiveProps(nextProps) {}\n\n        return componentWillReceiveProps;\n    }();\n\n    AddNewProductImages.prototype.componentDidMount = function () {\n        function componentDidMount() {\n            Meteor.subscribe(\"productImagePublish\");\n            Meteor.subscribe(\"productPublish\");\n            Meteor.subscribe(\"projectSettingsPublish\");\n\n            if (!$(\"#adminLte\").length > 0 && !$('body').hasClass('adminLte')) {\n                var adminLte = document.createElement(\"script\");\n                adminLte.type = \"text/javascript\";\n                adminLte.src = \"/js/adminLte.js\";\n                adminLte.setAttribute('id', 'adminLte');\n                $(\"body\").append(adminLte);\n            }\n        }\n\n        return componentDidMount;\n    }();\n\n    AddNewProductImages.prototype.componentWillUnmount = function () {\n        function componentWillUnmount() {}\n\n        return componentWillUnmount;\n    }();\n\n    AddNewProductImages.prototype.uploadCategoryImage = function () {\n        function uploadCategoryImage(event) {\n            event.preventDefault();\n            var self = this;\n\n            if (event.currentTarget.files && event.currentTarget.files[0]) {\n                var file = event.currentTarget.files[0];\n\n                if (file) {\n                    var productId = this.props.params.id;\n                    addCategoryImgsToS3Function(file, self, productId);\n                }\n            }\n        }\n\n        return uploadCategoryImage;\n    }();\n\n    AddNewProductImages.prototype.getProductImages = function () {\n        function getProductImages() {\n            var productId = this.props.params.id;\n            var imageData = Product.findOne({\n                \"_id\": productId\n            });\n            console.log(\"productId: \", productId);\n            console.log(\"imageData: \", imageData);\n\n            if (imageData) {\n                if (imageData.productImage) {\n                    return imageData.productImage;\n                }\n            } else {\n                return [];\n            }\n        }\n\n        return getProductImages;\n    }();\n\n    AddNewProductImages.prototype.saveProductImages = function () {\n        function saveProductImages(event) {\n            event.preventDefault();\n            var path = \"/admin/products/ProductList/\";\n            browserHistory.replace(path);\n            window.scrollTo(0, 0);\n        }\n\n        return saveProductImages;\n    }();\n\n    AddNewProductImages.prototype.deleteProductImage = function () {\n        function deleteProductImage(event) {\n            var productid = this.props.params.id;\n            var imageUrl = $(event.currentTarget).attr(\"data-imageUrl\"); // var imageIndex = $(event.currentTarget).attr(\"data-imageIndex\");\n            // console.log(\"imageUrl: \",imageUrl);\n            // console.log(\"imageIndex: \",imageIndex);\n\n            console.log(\"productid: \", productid);\n\n            if (productid && imageUrl) {\n                Meteor.call('deleteProductImage', productid, imageUrl);\n            }\n        }\n\n        return deleteProductImage;\n    }();\n\n    AddNewProductImages.prototype.render = function () {\n        function render() {\n            var _this2 = this;\n\n            return React.createElement(\n                \"div\",\n                {\n                    className: \"content-wrapper\"\n                },\n                React.createElement(\n                    \"section\",\n                    {\n                        className: \"content-header\"\n                    },\n                    React.createElement(\n                        \"h1\",\n                        null,\n                        \"Dashboard\",\n                        React.createElement(\n                            \"small\",\n                            null,\n                            \"Version 3.0\"\n                        )\n                    ),\n                    React.createElement(\n                        \"ol\",\n                        {\n                            className: \"breadcrumb\"\n                        },\n                        React.createElement(\n                            \"li\",\n                            null,\n                            React.createElement(\n                                \"a\",\n                                {\n                                    href: \"#\"\n                                },\n                                React.createElement(\"i\", {\n                                    className: \"fa fa-dashboard\"\n                                }),\n                                \" Home\"\n                            )\n                        ),\n                        React.createElement(\n                            \"li\",\n                            {\n                                className: \"active\"\n                            },\n                            \"Add Product Images\"\n                        )\n                    )\n                ),\n                React.createElement(\n                    \"section\",\n                    {\n                        className: \"content\"\n                    },\n                    React.createElement(\n                        \"div\",\n                        {\n                            className: \"row\"\n                        },\n                        React.createElement(\n                            \"div\",\n                            {\n                                className: \"col-md-12\"\n                            },\n                            React.createElement(\n                                \"div\",\n                                {\n                                    className: \"box\"\n                                },\n                                React.createElement(\n                                    \"div\",\n                                    {\n                                        className: \"box-header with-border\"\n                                    },\n                                    React.createElement(\n                                        \"h3\",\n                                        {\n                                            className: \"box-title\"\n                                        },\n                                        \"Add Product Images\"\n                                    ),\n                                    React.createElement(\n                                        \"div\",\n                                        {\n                                            className: \"box-tools pull-right\"\n                                        },\n                                        React.createElement(\n                                            \"button\",\n                                            {\n                                                type: \"button\",\n                                                className: \"btn btn-box-tool btn-minus\",\n                                                \"data-widget\": \"collapse\"\n                                            },\n                                            React.createElement(\"i\", {\n                                                className: \"fa fa-minus\"\n                                            })\n                                        ),\n                                        React.createElement(\n                                            \"div\",\n                                            {\n                                                className: \"btn-group\"\n                                            },\n                                            React.createElement(\n                                                \"button\",\n                                                {\n                                                    type: \"button\",\n                                                    className: \"btn btn-box-tool dropdown-toggle\",\n                                                    \"data-toggle\": \"dropdown\"\n                                                },\n                                                React.createElement(\"i\", {\n                                                    className: \"fa fa-wrench\"\n                                                })\n                                            ),\n                                            React.createElement(\n                                                \"ul\",\n                                                {\n                                                    className: \"dropdown-menu\",\n                                                    role: \"menu\"\n                                                },\n                                                React.createElement(\n                                                    \"li\",\n                                                    null,\n                                                    React.createElement(\n                                                        \"a\",\n                                                        {\n                                                            href: \"#\"\n                                                        },\n                                                        \"Action\"\n                                                    )\n                                                ),\n                                                React.createElement(\n                                                    \"li\",\n                                                    null,\n                                                    React.createElement(\n                                                        \"a\",\n                                                        {\n                                                            href: \"#\"\n                                                        },\n                                                        \"Another action \"\n                                                    )\n                                                ),\n                                                React.createElement(\n                                                    \"li\",\n                                                    null,\n                                                    React.createElement(\n                                                        \"a\",\n                                                        {\n                                                            href: \"#\"\n                                                        },\n                                                        \"Something else here\"\n                                                    )\n                                                ),\n                                                React.createElement(\"li\", {\n                                                    className: \"divider\"\n                                                }),\n                                                React.createElement(\n                                                    \"li\",\n                                                    null,\n                                                    React.createElement(\n                                                        \"a\",\n                                                        {\n                                                            href: \"#\"\n                                                        },\n                                                        \"Separated link\"\n                                                    )\n                                                )\n                                            )\n                                        ),\n                                        React.createElement(\n                                            \"button\",\n                                            {\n                                                type: \"button\",\n                                                className: \"btn btn-box-tool btn-minus\",\n                                                \"data-widget\": \"remove\"\n                                            },\n                                            React.createElement(\"i\", {\n                                                className: \"fa fa-times\"\n                                            })\n                                        )\n                                    )\n                                ),\n                                React.createElement(\n                                    \"div\",\n                                    {\n                                        className: \"box-body\"\n                                    },\n                                    React.createElement(\n                                        \"div\",\n                                        {\n                                            className: \"row\"\n                                        },\n                                        React.createElement(\n                                            \"div\",\n                                            {\n                                                className: \"col-md-12\"\n                                            },\n                                            React.createElement(\n                                                \"label\",\n                                                null,\n                                                \"Product Image\"\n                                            ),\n                                            React.createElement(\n                                                \"div\",\n                                                {\n                                                    className: \"input-group\"\n                                                },\n                                                React.createElement(\n                                                    \"span\",\n                                                    {\n                                                        className: \"input-group-addon\",\n                                                        id: \"basic-addon1\"\n                                                    },\n                                                    React.createElement(\"i\", {\n                                                        className: \"fa fa-file-image-o\",\n                                                        \"aria-hidden\": \"true\"\n                                                    })\n                                                ),\n                                                React.createElement(\n                                                    \"div\",\n                                                    {\n                                                        \"aria-describedby\": \"basic-addon1\"\n                                                    },\n                                                    React.createElement(\"input\", {\n                                                        type: \"file\",\n                                                        className: \"form-control\",\n                                                        onChange: this.uploadCategoryImage.bind(this)\n                                                    })\n                                                )\n                                            )\n                                        ),\n                                        React.createElement(\n                                            \"div\",\n                                            {\n                                                className: \"col-lg-12\"\n                                            },\n                                            React.createElement(\n                                                \"div\",\n                                                {\n                                                    className: \"row productImgWrapper\"\n                                                },\n                                                this.getProductImages().map(function (imageData, index) {\n                                                    return React.createElement(\n                                                        \"div\",\n                                                        {\n                                                            className: \"col-lg-4 productImgCol\",\n                                                            key: index\n                                                        },\n                                                        React.createElement(\n                                                            \"div\",\n                                                            {\n                                                                className: \"prodImage\"\n                                                            },\n                                                            React.createElement(\n                                                                \"div\",\n                                                                {\n                                                                    className: \"prodImageInner\"\n                                                                },\n                                                                React.createElement(\n                                                                    \"span\",\n                                                                    {\n                                                                        className: \"prodImageCross\",\n                                                                        title: \"Delete\",\n                                                                        \"data-imageUrl\": imageData,\n                                                                        onClick: _this2.deleteProductImage.bind(_this2)\n                                                                    },\n                                                                    \"x\"\n                                                                )\n                                                            ),\n                                                            React.createElement(\"img\", {\n                                                                src: imageData,\n                                                                alt: \"Product Image\",\n                                                                className: \"img-responsive\"\n                                                            })\n                                                        )\n                                                    );\n                                                })\n                                            )\n                                        ),\n                                        React.createElement(\n                                            \"div\",\n                                            {\n                                                className: \"col-lg-12\"\n                                            },\n                                            React.createElement(\n                                                \"div\",\n                                                {\n                                                    className: \"saveProductImages\",\n                                                    onClick: this.saveProductImages.bind(this)\n                                                },\n                                                \"SAVE\"\n                                            )\n                                        )\n                                    )\n                                )\n                            )\n                        )\n                    )\n                )\n            );\n        }\n\n        return render;\n    }();\n\n    return AddNewProductImages;\n}(TrackerReact(Component));","map":{"version":3,"sources":["imports/dashboard/product/addNewProduct/component/AddNewProductImages.jsx"],"names":["module","export","AddNewProductImages","Meteor","watch","require","v","Mongo","React","Component","render","TrackerReact","createContainer","Validation","validator","Tracker","browserHistory","Product","ProjectSettings","props","state","componentWillReceiveProps","nextProps","componentDidMount","subscribe","$","length","hasClass","adminLte","document","createElement","type","src","setAttribute","append","componentWillUnmount","uploadCategoryImage","event","preventDefault","self","currentTarget","files","file","productId","params","id","addCategoryImgsToS3Function","getProductImages","imageData","findOne","console","log","productImage","saveProductImages","path","replace","window","scrollTo","deleteProductImage","productid","imageUrl","attr","call","bind","map","index"],"mappings":"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","file":"imports/dashboard/product/addNewProduct/component/AddNewProductImages.jsx.map","sourcesContent":["import { Meteor } from 'meteor/meteor';\nimport { Mongo } from 'meteor/mongo';\nimport React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport TrackerReact from 'meteor/ultimatejs:tracker-react';\nimport { createContainer } from 'meteor/react-meteor-data';\nimport Validation from 'react-validation';\nimport validator from 'validator';\nimport {Tracker} from 'meteor/tracker';\nimport { browserHistory } from 'react-router';\n\nimport { Product } from '/imports/dashboard/product/addNewProduct/api/ProductMaster.js';\nimport { ProjectSettings } from '/imports/dashboard/product/addNewProduct/api/projectSettings.js';\n\n\n\nexport default class AddNewProductImages extends TrackerReact (Component){\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            \"allProductIamges\": [],\n        }\n\n    }\n\n\n    componentWillReceiveProps(nextProps) {\n\n    }\n\n    componentDidMount() {\n        Meteor.subscribe(\"productImagePublish\");\n        Meteor.subscribe(\"productPublish\");\n        Meteor.subscribe(\"projectSettingsPublish\");\n\n\n        if (!$(\"#adminLte\").length>0 && !$('body').hasClass('adminLte')) {\n          var adminLte = document.createElement(\"script\");\n          adminLte.type = \"text/javascript\";\n          adminLte.src = \"/js/adminLte.js\";\n          adminLte.setAttribute('id','adminLte');\n          $(\"body\").append(adminLte);\n        }\n\n    }\n\n    componentWillUnmount() {\n\n    }\n\n    uploadCategoryImage(event){\n        event.preventDefault();\n        let self = this;\n        if (event.currentTarget.files && event.currentTarget.files[0]) {\n            var file = event.currentTarget.files[0];\n            if (file) {\n                var productId = this.props.params.id;\n                addCategoryImgsToS3Function(file,self, productId);\n            }\n        }\n    }\n\n    getProductImages(){\n        var productId = this.props.params.id;\n\n        var imageData = Product.findOne({\"_id\":productId});\n        console.log(\"productId: \",productId);\n\n        console.log(\"imageData: \",imageData);\n        if(imageData){\n            if(imageData.productImage){\n                return imageData.productImage;\n            }\n        }else {\n            return [];\n        }\n    }\n\n\n    saveProductImages(event){\n        event.preventDefault();\n        var path = \"/admin/products/ProductList/\";\n        browserHistory.replace(path);\n        window.scrollTo(0,0);\n\n    }\n\n\n    deleteProductImage(event){\n        var productid = this.props.params.id;\n        var imageUrl = $(event.currentTarget).attr(\"data-imageUrl\");\n        // var imageIndex = $(event.currentTarget).attr(\"data-imageIndex\");\n        // console.log(\"imageUrl: \",imageUrl);\n        // console.log(\"imageIndex: \",imageIndex);\n        console.log(\"productid: \",productid);\n        if(productid && imageUrl){\n            Meteor.call('deleteProductImage', productid, imageUrl);\n        }\n\n    }\n\n    render(){\n        return(\n            <div className=\"content-wrapper\">\n                {/* Content Header (Page header) */}\n                <section className=\"content-header\">\n                    <h1>Dashboard\n                        <small>Version 3.0</small>\n                    </h1>\n                    <ol className=\"breadcrumb\">\n                        <li>\n                            <a href=\"#\"><i className=\"fa fa-dashboard\" /> Home</a></li>\n                            <li className=\"active\">Add Product Images</li>\n                        </ol>\n                    </section>\n                    {/* Main content */}\n                    <section className=\"content\">\n                        <div className=\"row\">\n                            <div className=\"col-md-12\">\n                                <div className=\"box\">\n                                    <div className=\"box-header with-border\">\n                                        <h3 className=\"box-title\">\n                                            Add Product Images\n                                        </h3>\n                                        <div className=\"box-tools pull-right\">\n                                            <button type=\"button\" className=\"btn btn-box-tool btn-minus\" data-widget=\"collapse\">\n                                                <i className=\"fa fa-minus\" />\n                                            </button>\n                                            <div className=\"btn-group\">\n                                                <button type=\"button\" className=\"btn btn-box-tool dropdown-toggle\" data-toggle=\"dropdown\">\n                                                    <i className=\"fa fa-wrench\" /></button>\n                                                    <ul className=\"dropdown-menu\" role=\"menu\">\n                                                        <li>\n                                                            <a href=\"#\">Action</a>\n                                                        </li>\n                                                        <li>\n                                                            <a href=\"#\">Another action </a>\n                                                        </li>\n                                                        <li>\n                                                            <a href=\"#\">Something else here</a>\n                                                        </li>\n                                                        <li className=\"divider\" />\n                                                        <li>\n                                                            <a href=\"#\">\n                                                                Separated link\n                                                            </a>\n                                                        </li>\n                                                    </ul>\n                                                </div>\n                                                <button type=\"button\" className=\"btn btn-box-tool btn-minus\" data-widget=\"remove\">\n                                                    <i className=\"fa fa-times\" />\n                                                </button>\n                                            </div>\n                                        </div>\n\n                                        {/* /.box-header */}\n                                        <div className=\"box-body\">\n                                            <div className=\"row\">\n                                                <div className=\"col-md-12\">\n                                                    <label>Product Image</label>\n                                                    <div className=\"input-group\">\n                                                        <span className=\"input-group-addon\" id=\"basic-addon1\"><i className=\"fa fa-file-image-o\" aria-hidden=\"true\"></i></span>\n                                                        <div aria-describedby=\"basic-addon1\">\n                                                            <input type=\"file\" className=\"form-control\" onChange={this.uploadCategoryImage.bind(this)} />\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                                <div className=\"col-lg-12\">\n                                                    <div className=\"row productImgWrapper\">\n                                                    {\n                                                        this.getProductImages().map((imageData, index)=>{\n                                                            return(\n                                                                <div className=\"col-lg-4 productImgCol\" key={index}>\n                                                                    <div className=\"prodImage\">\n                                                                        <div className=\"prodImageInner\">\n                                                                            <span className=\"prodImageCross\" title=\"Delete\" data-imageUrl={imageData} onClick={this.deleteProductImage.bind(this)}>x</span>\n                                                                        </div>\n                                                                        <img src={imageData} alt=\"Product Image\" className=\"img-responsive\" />\n                                                                        {/* {data.imageLink} */}\n\n                                                                    </div>\n                                                                </div>\n                                                            );\n                                                        })\n                                                    }\n                                                    </div>\n                                                </div>\n                                                <div className=\"col-lg-12\">\n                                                    <div className=\"saveProductImages\" onClick={this.saveProductImages.bind(this)} >\n                                                        SAVE\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </section>\n                    </div>\n\n\n\n        );\n    }\n}\n"]},"hash":"63d65e8361b33c9e5dbc71f470e9787ab70e36e2"}
