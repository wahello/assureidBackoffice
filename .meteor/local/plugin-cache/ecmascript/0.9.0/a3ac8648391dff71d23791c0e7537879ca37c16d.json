{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"meteor/meteor","imported":["Meteor"],"specifiers":[{"kind":"named","imported":"Meteor","local":"Meteor"}]},{"source":"meteor/mongo","imported":["Mongo"],"specifiers":[{"kind":"named","imported":"Mongo","local":"Mongo"}]},{"source":"react","imported":["default","Component"],"specifiers":[{"kind":"named","imported":"default","local":"React"},{"kind":"named","imported":"Component","local":"Component"}]},{"source":"react-dom","imported":["render"],"specifiers":[{"kind":"named","imported":"render","local":"render"}]},{"source":"meteor/ultimatejs:tracker-react","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"TrackerReact"}]},{"source":"meteor/react-meteor-data","imported":["withTracker"],"specifiers":[{"kind":"named","imported":"withTracker","local":"withTracker"}]},{"source":"react-validation","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"Validation"}]},{"source":"validator","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"validator"}]},{"source":"meteor/tracker","imported":["Tracker"],"specifiers":[{"kind":"named","imported":"Tracker","local":"Tracker"}]},{"source":"react-router","imported":["browserHistory"],"specifiers":[{"kind":"named","imported":"browserHistory","local":"browserHistory"}]},{"source":"react-router","imported":["Link"],"specifiers":[{"kind":"named","imported":"Link","local":"Link"}]},{"source":"./api/TempUpload.js","imported":["TempTicketImages"],"specifiers":[{"kind":"named","imported":"TempTicketImages","local":"TempTicketImages"}]},{"source":"./api/TempUpload.js","imported":["TempTicketVideo"],"specifiers":[{"kind":"named","imported":"TempTicketVideo","local":"TempTicketVideo"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"imports/dashboard/ticketManagement/AddImagesVideo.jsx","filenameRelative":"imports/dashboard/ticketManagement/AddImagesVideo.jsx","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"useNativeAsyncAwait":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/dashboard/ticketManagement/AddImagesVideo.jsx.map","sourceFileName":"imports/dashboard/ticketManagement/AddImagesVideo.jsx","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"AddImagesVideo"},"ignored":false,"code":"let Meteor;\nmodule.watch(require(\"meteor/meteor\"), {\n  Meteor(v) {\n    Meteor = v;\n  }\n\n}, 0);\nlet Mongo;\nmodule.watch(require(\"meteor/mongo\"), {\n  Mongo(v) {\n    Mongo = v;\n  }\n\n}, 1);\nlet React, Component;\nmodule.watch(require(\"react\"), {\n  default(v) {\n    React = v;\n  },\n\n  Component(v) {\n    Component = v;\n  }\n\n}, 2);\nlet render;\nmodule.watch(require(\"react-dom\"), {\n  render(v) {\n    render = v;\n  }\n\n}, 3);\nlet TrackerReact;\nmodule.watch(require(\"meteor/ultimatejs:tracker-react\"), {\n  default(v) {\n    TrackerReact = v;\n  }\n\n}, 4);\nlet withTracker;\nmodule.watch(require(\"meteor/react-meteor-data\"), {\n  withTracker(v) {\n    withTracker = v;\n  }\n\n}, 5);\nlet Validation;\nmodule.watch(require(\"react-validation\"), {\n  default(v) {\n    Validation = v;\n  }\n\n}, 6);\nlet validator;\nmodule.watch(require(\"validator\"), {\n  default(v) {\n    validator = v;\n  }\n\n}, 7);\nlet Tracker;\nmodule.watch(require(\"meteor/tracker\"), {\n  Tracker(v) {\n    Tracker = v;\n  }\n\n}, 8);\nlet browserHistory;\nmodule.watch(require(\"react-router\"), {\n  browserHistory(v) {\n    browserHistory = v;\n  }\n\n}, 9);\nlet Link;\nmodule.watch(require(\"react-router\"), {\n  Link(v) {\n    Link = v;\n  }\n\n}, 10);\nlet TempTicketImages;\nmodule.watch(require(\"./api/TempUpload.js\"), {\n  TempTicketImages(v) {\n    TempTicketImages = v;\n  }\n\n}, 11);\nlet TempTicketVideo;\nmodule.watch(require(\"./api/TempUpload.js\"), {\n  TempTicketVideo(v) {\n    TempTicketVideo = v;\n  }\n\n}, 12);\n\nclass AddImagesVideo extends TrackerReact(Component) {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  handleUpload(event) {\n    event.preventDefault();\n    let self = this; // this.setState({isUploading: true});\n\n    if (event.currentTarget.files && event.currentTarget.files[0]) {\n      var dataImg = event.currentTarget.files[0];\n\n      if (dataImg.type == \"image/jpeg\" || dataImg.type == \"image/png\") {\n        var reader = new FileReader();\n\n        reader.onload = function (e) {// $('.uploadedImageFromLocl').attr('src', e.target.result);      \n        };\n\n        reader.readAsDataURL(event.currentTarget.files[0]);\n        var file = event.currentTarget.files[0];\n\n        if (file) {\n          addImgsToS3Function(file, self);\n        }\n      } else {\n        swal({\n          position: 'top-right',\n          type: 'error',\n          title: 'Please select image',\n          showConfirmButton: false,\n          timer: 1500\n        });\n      }\n    }\n  }\n\n  handleVideoUpload(event) {\n    event.preventDefault();\n    let self = this;\n\n    if (event.currentTarget.files && event.currentTarget.files[0]) {\n      var dataImg = event.currentTarget.files[0];\n\n      if (dataImg.type == \"video/mp4\") {\n        var reader = new FileReader();\n\n        reader.onload = function (e) {// $('.uploadedImageFromLocl').attr('src', e.target.result);       \n        };\n\n        reader.readAsDataURL(event.currentTarget.files[0]);\n        var file = event.currentTarget.files[0];\n\n        if (file) {\n          addTicketVideoS3Function(file, self);\n        }\n      } else {\n        swal({\n          position: 'top-right',\n          type: 'error',\n          title: 'Please select Video',\n          showConfirmButton: false,\n          timer: 1500\n        });\n      }\n    }\n  }\n\n  render() {\n    return React.createElement(\n      \"div\",\n      null,\n      React.createElement(\n        \"div\",\n        {\n          className: \"col-lg-10 col-md-10 col-lg-offset-1 col-md-offset-1 choosefilebox\"\n        },\n        React.createElement(\n          \"div\",\n          {\n            className: \"col-lg-12 wholeborder \"\n          },\n          React.createElement(\n            \"form\",\n            {\n              action: \"/action_page.php\"\n            },\n            React.createElement(\n              \"div\",\n              {\n                className: \"imgtitile col-lg-12\"\n              },\n              React.createElement(\n                \"div\",\n                {\n                  className: \"col-lg-12 Selectimg\"\n                },\n                \" Select images:\"\n              ),\n              React.createElement(\"input\", {\n                type: \"file\",\n                ref: \"ticketImageFile\",\n                id: \"s3file\",\n                name: \"ticketImageFile\",\n                onChange: this.handleUpload.bind(this),\n                className: \"col-lg-7\",\n                name: \"img\",\n                multiple: true\n              })\n            )\n          ),\n          !this.props.loading ? React.createElement(\n            \"div\",\n            {\n              className: \"col-lg-12 imgbox\"\n            },\n            this.props.ticketImages ? this.props.ticketImages.map((ticketImages, index) => {\n              return React.createElement(\n                \"div\",\n                {\n                  className: \"col-lg-3 imgbrPre\",\n                  key: index\n                },\n                React.createElement(\n                  \"div\",\n                  {\n                    className: \"imgbr\"\n                  },\n                  React.createElement(\"img\", {\n                    src: ticketImages.imageLink,\n                    className: \"img1 img-responsive\"\n                  }),\n                  \"          \"\n                )\n              );\n            }) : \"\"\n          ) : \"\"\n        )\n      ),\n      React.createElement(\n        \"div\",\n        {\n          className: \"col-lg-10 col-md-10 col-lg-offset-1 col-md-offset-1 choosefilebox\"\n        },\n        React.createElement(\n          \"div\",\n          {\n            className: \"col-lg-12 wholeborder \"\n          },\n          React.createElement(\n            \"form\",\n            {\n              action: \"/action_page.php\"\n            },\n            React.createElement(\n              \"div\",\n              {\n                className: \"imgtitile col-lg-12\"\n              },\n              React.createElement(\n                \"div\",\n                {\n                  className: \"col-lg-12 Selectimg\"\n                },\n                \" Select Video:\"\n              ),\n              React.createElement(\"input\", {\n                type: \"file\",\n                ref: \"ticketVideoFile\",\n                id: \"s3file\",\n                name: \"ticketVideoFile\",\n                onChange: this.handleVideoUpload.bind(this),\n                className: \"col-lg-7\",\n                name: \"img\",\n                multiple: true\n              })\n            )\n          ),\n          !this.props.loading1 ? React.createElement(\n            \"div\",\n            {\n              className: \"col-lg-12 imgbox\"\n            },\n            this.props.ticketVideo ? this.props.ticketVideo.map((ticketVideo, index) => {\n              return React.createElement(\n                \"div\",\n                {\n                  className: \"col-lg-4 imgbrvid\",\n                  key: index\n                },\n                React.createElement(\n                  \"video\",\n                  {\n                    controls: true\n                  },\n                  React.createElement(\"source\", {\n                    src: ticketVideo.videoLink,\n                    width: \"200\",\n                    type: \"video/mp4\"\n                  })\n                )\n              );\n            }) : \"\"\n          ) : \"\"\n        )\n      )\n    );\n  }\n\n}\n\nAddImagesVideoContainer = withTracker(props => {\n  const postHandle = Meteor.subscribe('allTicketImages');\n  const postHandle1 = Meteor.subscribe('allTicketVideo');\n  const ticketImages = TempTicketImages.find({}).fetch() || [];\n  console.log(\"ticketImages\", ticketImages);\n  const ticketVideo = TempTicketVideo.find({}).fetch() || [];\n  console.log(\"ticketVideo\", ticketVideo);\n  const loading = !postHandle.ready();\n  const loading1 = !postHandle1.ready(); // if(_id){\n\n  return {\n    loading: loading,\n    loading1: loading1,\n    ticketImages: ticketImages,\n    ticketVideo: ticketVideo\n  };\n})(AddImagesVideo);\nmodule.exportDefault(AddImagesVideoContainer);","map":{"version":3,"sources":["imports/dashboard/ticketManagement/AddImagesVideo.jsx"],"names":["Meteor","module","watch","require","v","Mongo","React","Component","default","render","TrackerReact","withTracker","Validation","validator","Tracker","browserHistory","Link","TempTicketImages","TempTicketVideo","AddImagesVideo","constructor","props","state","handleUpload","event","preventDefault","self","currentTarget","files","dataImg","type","reader","FileReader","onload","e","readAsDataURL","file","addImgsToS3Function","swal","position","title","showConfirmButton","timer","handleVideoUpload","addTicketVideoS3Function","bind","loading","ticketImages","map","index","imageLink","loading1","ticketVideo","videoLink","AddImagesVideoContainer","postHandle","subscribe","postHandle1","find","fetch","console","log","ready","exportDefault"],"mappings":"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","file":"imports/dashboard/ticketManagement/AddImagesVideo.jsx.map","sourcesContent":["import { Meteor } from 'meteor/meteor';\nimport { Mongo } from 'meteor/mongo';\nimport React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport TrackerReact from 'meteor/ultimatejs:tracker-react';\nimport { withTracker } from 'meteor/react-meteor-data';\nimport Validation from 'react-validation';\nimport validator from 'validator';\nimport {Tracker} from 'meteor/tracker';\nimport { browserHistory } from 'react-router'; \nimport { Link } from 'react-router';\nimport { TempTicketImages } from './api/TempUpload.js';\nimport { TempTicketVideo } from './api/TempUpload.js';\nclass AddImagesVideo extends TrackerReact(Component){\n\t constructor(props){\n    super(props);\n    this.state = { \n    }\n  }\n  handleUpload(event){\n    event.preventDefault();\n    let self = this;\n     // this.setState({isUploading: true});\n    if (event.currentTarget.files && event.currentTarget.files[0]) { \n      var dataImg =event.currentTarget.files[0];  \n       if(dataImg.type == \"image/jpeg\" || dataImg.type == \"image/png\"){      \n         var reader = new FileReader();        reader.onload = function (e) {          \n           // $('.uploadedImageFromLocl').attr('src', e.target.result);      \n         };       \n         reader.readAsDataURL(event.currentTarget.files[0]);      \n         var file = event.currentTarget.files[0];      \n          if (file) {         \n            addImgsToS3Function(file,self);       \n          }   \n       } else { \n        swal({    \n           position: 'top-right',     \n           type: 'error',    \n           title: 'Please select image',       \n           showConfirmButton: false,      \n           timer: 1500      \n         });   \n      }\n    }\n  }\n  handleVideoUpload(event){\n    event.preventDefault();\n    let self = this;\n    if (event.currentTarget.files && event.currentTarget.files[0]) {  \n      var dataImg =event.currentTarget.files[0];   \n       if(dataImg.type == \"video/mp4\"){       \n         var reader = new FileReader();        \n          reader.onload = function (e) {           \n           // $('.uploadedImageFromLocl').attr('src', e.target.result);       \n         };        \n         reader.readAsDataURL(event.currentTarget.files[0]);       \n         var file = event.currentTarget.files[0];       \n          if (file) {          \n            addTicketVideoS3Function(file,self);        \n          }    \n       } else {  \n        swal({     \n           position: 'top-right',      \n           type: 'error',     \n           title: 'Please select Video',        \n           showConfirmButton: false,       \n           timer: 1500       \n         });    \n      }\n    }\n  }\n\n\trender(){\n     return( \n      <div>\n       <div className=\"col-lg-10 col-md-10 col-lg-offset-1 col-md-offset-1 choosefilebox\">\n\t        <div className=\"col-lg-12 wholeborder \">\n\t            <form action=\"/action_page.php\">\n\t\t            <div className=\"imgtitile col-lg-12\">\n\t\t\t          <div className=\"col-lg-12 Selectimg\"> Select images:</div> \n\t\t\t\t          <input type=\"file\" ref=\"ticketImageFile\" id=\"s3file\" name=\"ticketImageFile\"  onChange={this.handleUpload.bind(this)} className=\"col-lg-7\" name=\"img\" multiple />\n\t\t\t          </div>\n\t           </form>\n \n            {!this.props.loading ?\n            \t<div className=\"col-lg-12 imgbox\">\n               {this.props.ticketImages ?\n               \t this.props.ticketImages.map((ticketImages,index) =>{\n               \t \t return(\n               \t \t \t  <div className=\"col-lg-3 imgbrPre\" key={index}>\n\t\t\t\t\t\t\t\t        <div className=\"imgbr\">\n\t\t\t\t\t\t\t\t          <img src={ticketImages.imageLink} className=\"img1 img-responsive\" />\n\t\t\t\t{/*\t\t\t\t        <i className=\"fa fa-times-circle\"></i>\n\t\t\t\t*/}\t\t\t\t      </div>\n\t\t\t\t\t\t\t        </div>\n               \t \t \t);\n               \t })\n               \t :\n               \t \"\"\n               }\n\t\t\t\t        \n\t\t\t        </div>\n\t\t\t        :\n              \"\"\n            }\n\t          \n\t       </div>\n      </div>\n\n    <div className=\"col-lg-10 col-md-10 col-lg-offset-1 col-md-offset-1 choosefilebox\">\n       <div className=\"col-lg-12 wholeborder \">\n\t        <form action=\"/action_page.php\">\n\t        <div className=\"imgtitile col-lg-12\">\n\t          <div className=\"col-lg-12 Selectimg\"> Select Video:</div> \n\t\t\t\t      <input type=\"file\" ref=\"ticketVideoFile\" id=\"s3file\" name=\"ticketVideoFile\"  onChange={this.handleVideoUpload.bind(this)} className=\"col-lg-7\" name=\"img\" multiple />\n\t          {/*<input type=\"submit\" className=\"col-lg-1 btn btn-primary\" />*/}\n\t          </div>\n\t        </form>\n\n\t         {!this.props.loading1 ?\n            \t<div className=\"col-lg-12 imgbox\">\n               {this.props.ticketVideo ?\n               \t this.props.ticketVideo.map((ticketVideo,index) =>{\n               \t \t return(\n               \t \t \t  <div className=\"col-lg-4 imgbrvid\" key={index}>\n\t\t\t\t\t\t\t\t          <video controls>\n\t\t\t\t\t\t\t\t\t          <source src={ticketVideo.videoLink} width=\"200\" type=\"video/mp4\" />\n\t\t\t\t\t\t\t\t\t        </video>\n\t\t\t\t\t\t\t        </div>\n               \t \t \t);\n               \t })\n               \t :\n               \t \"\"\n               }\n\t\t\t\t        \n\t\t\t        </div>\n\t\t\t        :\n              \"\"\n            }\n\n\t      </div>\n      </div>\n\n        </div>\n     ); \n   }        \n}\nAddImagesVideoContainer = withTracker(props => {  \n\n    const postHandle   = Meteor.subscribe('allTicketImages');\n    const postHandle1  = Meteor.subscribe('allTicketVideo');\n    const ticketImages = TempTicketImages.find({}).fetch() || [];  \n    console.log(\"ticketImages\",ticketImages);\n    const ticketVideo = TempTicketVideo.find({}).fetch() || [];  \n    console.log(\"ticketVideo\",ticketVideo);\n    const loading     = !postHandle.ready();\n    const loading1    = !postHandle1.ready();\n\n    // if(_id){\n      return {\n          loading : loading,\n          loading1 : loading1,\n          ticketImages : ticketImages,\n          ticketVideo  : ticketVideo,\n      };\n})(AddImagesVideo);\nexport default AddImagesVideoContainer;"]},"hash":"a3ac8648391dff71d23791c0e7537879ca37c16d"}
